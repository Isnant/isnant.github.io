(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"3a5f":function(e,t,a){"use strict";var o=a("8380");t["a"]={methods:{showLoading:function(){this.$q.loading.show({spinner:o["a"],spinnerColor:"orange-10",spinnerSize:140,backgroundColor:"purple",messageColor:"black"})},showCheckingLoading:function(){this.$q.loading.show({spinner:o["a"],message:"Checking Excel Data...",spinnerColor:"orange-10",spinnerSize:60,backgroundColor:"purple",messageColor:"white",messageSize:60})},showUploadLoading:function(){this.$q.loading.show({spinner:o["a"],message:"Uploading Excel Data...",spinnerColor:"orange-10",spinnerSize:60,backgroundColor:"purple",messageColor:"white",messageSize:60})}}}},"47aa":function(e,t,a){"use strict";var o=a("a203"),i=a.n(o);i.a},a203:function(e,t,a){},ba94:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",[a("font",{staticClass:"text-bold",attrs:{size:"1",color:"grey"}},[e._v("MASTER DATA "),a("q-icon",{attrs:{name:"double_arrow"}}),e._v(" HUB COD SERVICEE")],1),a("div",{staticStyle:{"margin-bottom":"30px","margin-top":"10px",width:"220px"},attrs:{align:"left"}},[a("font",{staticClass:"text-bold",staticStyle:{"margin-bottom":"10px"},attrs:{size:"5"}},[e._v("HUB CODE SERVICE")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-20",staticStyle:{width:"32%"}},[a("q-separator",{attrs:{color:"orange-10"}}),a("q-separator",{attrs:{color:"orange-10"}})],1),a("div",{staticClass:"col"},[a("q-separator",{attrs:{color:"purple-10"}}),a("q-separator",{attrs:{color:"purple-10"}})],1)])],1),a("q-card",{staticStyle:{"max-width":"800px"}},[a("q-card-section",[a("q-expansion-item",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"SEARCH","header-class":"bg-indigo-2 text-indigo-10",icon:"search"}},[a("div",{staticClass:"row bg-orange-1",staticStyle:{padding:"10px",width:"100%"},attrs:{align:"left"}},[a("div",{staticClass:"col-15",staticStyle:{"margin-right":"10px",width:"30%"}},[a("q-select",{staticClass:"searchform",attrs:{"stack-label":"",rounded:"",outlined:"",label:"Hub Name",options:e.hubCodeListFiltered,"use-input":"","fill-input":"","hide-selected":"","input-debounce":"500"},on:{filter:e.doHubNameFilter,input:function(t){return e.getSelectValue("hubNameSearch")}},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                        No results\n                      ")])],1)]},proxy:!0}]),model:{value:e.searchVal.hubName,callback:function(t){e.$set(e.searchVal,"hubName",t)},expression:"searchVal.hubName"}})],1),a("div",{staticClass:"col-15",staticStyle:{"margin-right":"10px",width:"30%"}},[a("q-input",{staticClass:"searchform",attrs:{rounded:"",outlined:"","stack-label":"",label:"Hub Code",color:"orange-8"},model:{value:e.searchVal.hubCode,callback:function(t){e.$set(e.searchVal,"hubCode",t)},expression:"searchVal.hubCode"}})],1),a("div",{staticClass:"col-15",staticStyle:{"margin-right":"10px",width:"30%"}},[a("q-select",{staticClass:"searchform",attrs:{rounded:"",outlined:"","stack-label":"",color:"orange-8",label:"Service",options:e.serviceSearchList},model:{value:e.searchVal.service,callback:function(t){e.$set(e.searchVal,"service",t)},expression:"searchVal.service"}})],1),a("div",{staticClass:"col",staticStyle:{width:"5%"}},[a("q-btn",{attrs:{round:"",color:"indigo-10"},on:{click:function(t){return e.doSearchByFilter()}}},[a("q-icon",{attrs:{name:"search"}}),a("q-tooltip",[e._v("Search")])],1)],1)])]),a("div",{staticStyle:{"margin-top":"20px"}},[a("q-table",{attrs:{data:e.dataList,columns:e.tableColumns,pagination:e.pagination,"table-header-class":"text-indigo-10 bg-indigo-2","row-key":"id",dense:""},on:{"update:pagination":function(t){e.pagination=t},request:e.doMainEquipmentChangePage},scopedSlots:e._u([{key:"body-cell-address",fn:function(t){return a("q-td",{style:{width:"400px",whiteSpace:"normal"}},[e._v("\n              "+e._s(t.row.address)+"\n            ")])}},{key:"body-cell-action",fn:function(t){return a("q-td",{},[a("q-btn-dropdown",{attrs:{rounded:"",size:"sm",color:"indigo-10"}},[a("q-list",[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""}},[a("q-item-section",[a("q-btn",{attrs:{color:"indigo-6",round:"",size:"sm"},on:{click:function(a){return e.doOpenForm(t)}}},[a("q-icon",{attrs:{name:"fas fa-edit"}}),a("q-tooltip",[e._v("Edit")])],1)],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""}},[a("q-item-section",[a("q-btn",{attrs:{color:"indigo-6",round:"",size:"sm"},on:{click:function(a){return e.doToggleStatus(t)}}},[a("q-icon",{attrs:{name:"A"===t.row.recordStatus?"fas fa-stop-circle":"fas fa-play-circle"}}),a("q-tooltip",[e._v(e._s("A"===t.row.recordStatus?"Deactivate":"Activate"))])],1)],1)],1)],1)],1)],1)}},{key:"body-cell-recordStatus",fn:function(e){return a("q-td",{},["A"===e.row.recordStatus?a("div",[a("q-icon",{staticStyle:{"font-size":"20px"},attrs:{name:"done",color:"primary"}})],1):a("div",[a("q-icon",{staticStyle:{"font-size":"20px"},attrs:{name:"clear",color:"negative"}})],1)])}}])})],1)],1)],1),a("q-page-sticky",{attrs:{position:"top-right",offset:[15,30]}},[a("q-fab",{attrs:{color:"orange-7",glossy:"",icon:"keyboard_arrow_down",direction:"down"}},[a("q-fab-action",{attrs:{color:"orange-6","text-color":"white",icon:"add"},nativeOn:{click:function(t){return e.doOpenForm()}}},[a("q-tooltip",[e._v("Add")])],1),a("q-fab-action",{attrs:{color:"orange-6","text-color":"white",icon:"backup"},nativeOn:{click:function(t){e.modalUploadExcel=!0}}},[a("q-tooltip",[e._v("Upload Excel")])],1),a("q-btn",{attrs:{round:"",color:"orange-6","text-color":"white"},nativeOn:{click:function(t){return e.downloadExcel(t)}}},[a("q-icon",{attrs:{name:"fas fa-file-excel"}}),a("q-tooltip",[e._v("Download Excel")])],1)],1)],1),a("q-dialog",{attrs:{persistent:""},on:{"before-hide":function(t){return e.clear()}},model:{value:e.showForm,callback:function(t){e.showForm=t},expression:"showForm"}},[a("q-card",{staticClass:"bg-white",staticStyle:{width:"500px"}},[a("q-bar",{staticClass:"bg-indigo-10 text-white"},[a("strong",[e._v("Hub Code Service Form")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}})],1),a("q-card-section",[a("q-input",{staticClass:"text-italic",attrs:{readonly:"","stack-label":"",label:"Id"},model:{value:e.formData.id,callback:function(t){e.$set(e.formData,"id",t)},expression:"formData.id"}}),a("q-input",{attrs:{"stack-label":"",label:"Hub Code"},model:{value:e.formData.hubCode,callback:function(t){e.$set(e.formData,"hubCode",t)},expression:"formData.hubCode"}}),a("q-select",{attrs:{"stack-label":"",label:"Hub Name",options:e.hubCodeList},on:{input:function(t){return e.getSelectValue("hubName")}},model:{value:e.formData.hubName,callback:function(t){e.$set(e.formData,"hubName",t)},expression:"formData.hubName"}}),a("q-input",{attrs:{"stack-label":"",label:"Ftax"},model:{value:e.formData.ftax,callback:function(t){e.$set(e.formData,"ftax",t)},expression:"formData.ftax"}}),a("q-select",{attrs:{options:e.serviceList,"stack-label":"",label:"Service"},on:{input:function(t){return e.getSelectValue("service")}},model:{value:e.formData.service,callback:function(t){e.$set(e.formData,"service",t)},expression:"formData.service"}}),a("div",{staticStyle:{"text-align":"right","margin-top":"20px"}},[a("q-btn",{attrs:{round:"",color:"primary",size:"small"},nativeOn:{click:function(t){return e.doSave()}}},[a("q-icon",{attrs:{name:"fas fa-save"}}),a("q-tooltip",[e._v("Submit")])],1)],1)],1)],1)],1),a("q-dialog",{attrs:{persistent:""},on:{"before-hide":function(t){return e.doHideButton()}},model:{value:e.modalUploadExcel,callback:function(t){e.modalUploadExcel=t},expression:"modalUploadExcel"}},[a("q-card",{staticClass:"bg-white"},[a("q-bar",{staticClass:"bg-indigo-10 text-white"},[a("strong",[e._v("Upload Excel File")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}})],1),a("q-card-section",[a("a",{attrs:{href:"/statics/template/Hub Code Service - Form Upload.xlsx"}},[e._v("Download Template\n            "),a("q-tooltip",[e._v("Hub Code Service - Form Upload.xlsx")])],1)]),a("q-card-section",[a("q-input",{attrs:{type:"file"},on:{input:function(t){e.doAttachFile(t[0])}}}),a("div",{staticStyle:{"margin-top":"20px"},attrs:{align:"right"}},[a("q-btn",{attrs:{round:"",color:"orange-6"},on:{click:function(t){return e.uploadField()}}},[a("q-icon",{attrs:{name:"fas fa-file-upload"}}),a("q-tooltip",[e._v("Upload")])],1)],1)],1)],1)],1)],1)},i=[],s=(a("7f7f"),a("55dd"),a("3a5f")),n={mixins:[s["a"]],data:function(){return{dataList:[],hubCodeList:[],hubCodeListFiltered:[],serviceList:[],modalUploadExcel:!1,fileAttach:{fileName:"",file64:"",equipmentCategory:"Network"},tableColumns:[{name:"hubName",label:"Hub Name",field:"hubName",align:"left",style:"width: 200px",sortable:!0},{name:"hubCode",label:"Hub Code Service",field:"hubCode",align:"left",style:"width: 100px",sortable:!0},{name:"ftax",label:"Ftax",field:"ftax",align:"left",style:"width: 100px",sortable:!0},{name:"service",label:"Service",field:"service",align:"left",style:"width: 100px",sortable:!0},{name:"recordStatus",label:"Status",field:"recordStatus",align:"left",sortable:!0},{name:"action",label:"Action",align:"center",style:"width: 100px"}],regionColumns:[{name:"id",label:"Region Id",field:"id",align:"left",style:"width: 100px",sortable:!0},{name:"regioName",label:"Region Name",field:"regioName",align:"left",style:"width: 200px",sortable:!0},{name:"action",label:"Action",align:"center",style:"width: 100px"}],pagination:{sortBy:"hubName",descending:!1,page:1,rowsPerPage:10,rowsNumber:0},regionPagination:{sortBy:"region",descending:!1,rowsPerPage:0},searchVal:{hubCode:"",hubName:"All",service:"ALL"},serviceSearchList:["ALL","Analog","Digital","FTTH"],showForm:!1,formData:{id:"AUTO GENERATE",hubCode:"",hubName:"",service:"",ftax:""}}},methods:{doInitPage:function(){var e=this;this.showLoading(),this.$axios.get("".concat("/","getHubCodeServiceInitPage"),{params:{pageIndex:this.pagination.page-1,pageSize:this.pagination.rowsPerPage,sortBy:this.pagination.sortBy,descending:this.pagination.descending,hubCode:this.searchVal.hubCode,hubName:this.searchVal.hubName,service:this.searchVal.service}}).then((function(t){e.$q.loading.hide(),e.doMainFillTableResult(t.data.listOfHubCodeService),e.serviceList=t.data.listOfService.sort(e.compareValue),e.hubCodeList=t.data.listOfHubCode.sort(e.compareValue)})).catch((function(t){e.$q.loading.hide(),e.$q.notify({color:"negative",icon:"report_problem",message:t})}))},getHubCodeList:function(e){var t=this;this.showLoading(),this.$axios.get("".concat("/","getHubCodeServiceList"),{params:e}).then((function(e){t.$q.loading.hide(),t.doMainFillTableResult(e.data)})).catch((function(e){t.$q.loading.hide(),t.$q.notify({color:"negative",icon:"report_problem",message:e})}))},doMainFillTableResult:function(e){this.dataList=e.content,this.pagination.rowsNumber=e.totalElements,this.pagination.rowsPerPage=e.pageable.pageSize,this.pagination.page=e.number+1},doMainEquipmentChangePage:function(e){var t=e.pagination,a=t.page,o=t.rowsPerPage,i=t.sortBy,s=t.descending,n={pageIndex:a-1,pageSize:o,sortBy:i,descending:s,hubCode:this.searchVal.hubCode,hubName:this.searchVal.hubName,service:this.searchVal.service};this.getHubCodeList(n)},doSearchByFilter:function(){var e={pageIndex:this.pagination.page-1,pageSize:this.pagination.rowsPerPage,sortBy:this.pagination.sortBy,descending:this.pagination.descending,hubCode:this.searchVal.hubCode,hubName:this.searchVal.hubName,service:this.searchVal.service};this.getHubCodeList(e)},doOpenForm:function(e){void 0!==e?(this.formData=JSON.parse(JSON.stringify(e.row)),this.vDisable=!0):this.clear(),this.showForm=!0},doSave:function(){var e=this;this.showLoading(),"AUTO GENERATE"===this.formData.id&&(this.formData.id=""),this.$axios.post("".concat("/","saveHubCodeService"),this.formData).then((function(t){e.$q.loading.hide(),e.$q.notify({color:"positive",icon:"info",message:"Record successfully saved"}),e.showForm=!1,e.doRefresh()})).catch((function(t){e.$q.loading.hide(),e.$q.notify({color:"negative",icon:"report_problem",message:t}),e.showForm=!1,e.doRefresh()}))},doToggleStatus:function(e){e.row.recordStatus="I"===e.row.recordStatus?"A":"I",this.formData=e.row,this.doSave()},getSelectValue:function(e){"service"===e&&(this.formData.service=this.formData.service.value),"hubName"===e&&(this.formData.hubName=this.formData.hubName.value),"hubNameSearch"===e&&(this.searchVal.hubName=this.searchVal.hubName.value)},doHubNameFilter:function(e,t){var a=this;t((function(){var t=e.toLowerCase();a.hubCodeListFiltered=a.hubCodeList.filter((function(e){return e.label.toLowerCase().indexOf(t)>-1}))}))},doAttachFile:function(e){var t=this,a=new FileReader;this.uploadButton=!0,a.onload=function(a){t.fileAttach.fileName=e.name,t.fileAttach.file64=a.target.result},a.readAsDataURL(e)},uploadField:function(e){var t=this;this.showLoading(),this.$axios.post("".concat("/","uploadHubCodeService"),this.fileAttach).then((function(e){t.modalUploadExcel=!1,t.$q.loading.hide()})).catch((function(e){t.$q.loading.hide(),t.$q.notify({color:"negative",icon:"report_problem",message:e})}))},downloadExcel:function(e){var t=this;this.showLoading(),this.$axios.get("".concat("/","hubServiceDownloadExcel"),{responseType:"arraybuffer",params:{searchVal:this.searchVal}}).then((function(e){t.$q.loading.hide();var a=window.URL.createObjectURL(new Blob([e.data]),{type:""}),o=document.createElement("a");o.href=a,o.style="display: none",o.download="master_hub_service.xlsx",document.body.appendChild(o),o.click()})).catch((function(e){t.$q.loading.hide(),t.notify({color:"negative",icon:"report_problem",message:e})}))},compareValue:function(e,t){var a=e.value.toUpperCase(),o=t.value.toUpperCase(),i=0;return a>o?i=1:a<o&&(i=-1),i},doRefresh:function(){this.clear(),this.doInitPage()},clear:function(){this.formData={id:"AUTO GENERATE",hubCode:"",hubCodeService:""},this.vDisable=!1}},beforeMount:function(){this.doInitPage()}},r=n,l=(a("47aa"),a("2877")),c=Object(l["a"])(r,o,i,!1,null,null,null);t["default"]=c.exports}}]);