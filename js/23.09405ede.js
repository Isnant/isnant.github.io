(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[23],{"1f5b":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-page",[e("font",{staticClass:"text-bold",attrs:{size:"1",color:"grey"}},[t._v("MASTER DATA / MASTER BUILDING")]),e("div",{staticStyle:{"margin-bottom":"30px","margin-top":"20px",width:"220px"},attrs:{align:"left"}},[e("font",{staticClass:"text-bold",staticStyle:{"margin-bottom":"10px"},attrs:{size:"5"}},[t._v("MASTER BUILDING")]),e("q-separator",{attrs:{color:"purple-10"}}),e("q-separator",{attrs:{color:"purple-10"}})],1),e("div",{staticStyle:{"max-width":"1200px"}},[e("q-table",{attrs:{data:t.dataList,columns:t.tableColumns,pagination:t.pagination,"table-header-class":"text-white bg-indigo-8","row-key":"id",dense:""},on:{"update:pagination":function(a){t.pagination=a},request:t.getBuildingList},scopedSlots:t._u([{key:"body-cell-action",fn:function(a){return e("q-td",{},[e("q-btn-dropdown",{attrs:{rounded:"",size:"sm",color:"indigo-10"}},[e("q-list",[e("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""}},[e("q-item-section",[e("q-btn",{attrs:{color:"indigo-6",round:"",size:"sm"},on:{click:function(e){return t.doOpenForm(a.row.pid)}}},[e("q-icon",{attrs:{name:"fas fa-edit"}}),e("q-tooltip",[t._v("Edit")])],1)],1)],1),e("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""}},[e("q-item-section",[e("q-btn",{attrs:{color:"indigo-6",round:"",size:"sm"},on:{click:function(e){return t.doToggleStatus(a)}}},[e("q-icon",{attrs:{name:"A"===a.row.recordStatus?"fas fa-stop-circle":"fas fa-play-circle"}}),e("q-tooltip",[t._v(t._s("A"===a.row.recordStatus?"Deactivate":"Activate"))])],1)],1)],1)],1)],1)],1)}},{key:"body-cell-recordStatus",fn:function(t){return e("q-td",{},["A"===t.row.recordStatus?e("div",[e("q-icon",{staticStyle:{"font-size":"20px"},attrs:{name:"done",color:"primary"}})],1):e("div",[e("q-icon",{staticStyle:{"font-size":"20px"},attrs:{name:"clear",color:"negative"}})],1)])}}])})],1),e("q-page-sticky",{attrs:{position:"top-right",offset:[15,30]}},[e("q-btn",{attrs:{round:"",color:"orange-4"},nativeOn:{click:function(a){return t.doOpenForm(!1)}}},[e("q-icon",{attrs:{name:"fas fa-plus"}}),e("q-tooltip",[t._v("Add New Record")])],1)],1),e("q-dialog",{attrs:{persistent:""},on:{"before-hide":function(a){return t.clear()}},model:{value:t.showForm,callback:function(a){t.showForm=a},expression:"showForm"}},[e("q-card",{staticClass:"bg-white"},[e("q-bar",{staticClass:"bg-blue-7 text-white"},[e("strong",[t._v("Building Form")]),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}})],1),e("q-card-section",[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("q-input",{attrs:{"stack-label":"",label:"Building Code"},model:{value:t.formData.pid,callback:function(a){t.$set(t.formData,"pid",a)},expression:"formData.pid"}}),e("q-input",{attrs:{"stack-label":"",label:"Region Id"},model:{value:t.formData.fidRegion,callback:function(a){t.$set(t.formData,"fidRegion",a)},expression:"formData.fidRegion"}}),e("q-input",{attrs:{"stack-label":"",label:"Building buildingType"},model:{value:t.formData.buildingType,callback:function(a){t.$set(t.formData,"buildingType",a)},expression:"formData.buildingType"}}),e("q-input",{attrs:{"stack-label":"",label:"Building Name"},model:{value:t.formData.buildingName,callback:function(a){t.$set(t.formData,"buildingName",a)},expression:"formData.buildingName"}}),e("q-input",{attrs:{"stack-label":"",label:"IT Code"},model:{value:t.formData.itCode,callback:function(a){t.$set(t.formData,"itCode",a)},expression:"formData.itCode"}}),e("q-select",{attrs:{"stack-label":"",label:"Area Name",options:t.areaList},on:{input:function(a){return t.getRegion()}},model:{value:t.formData.area,callback:function(a){t.$set(t.formData,"area",a)},expression:"formData.area"}}),e("q-select",{attrs:{"stack-label":"",label:"Region",options:t.filteredRegionList},model:{value:t.formData.region,callback:function(a){t.$set(t.formData,"region",a)},expression:"formData.region"}}),e("q-input",{attrs:{"stack-label":"",label:"City"},model:{value:t.formData.city,callback:function(a){t.$set(t.formData,"city",a)},expression:"formData.city"}})],1),e("div",{staticClass:"col",staticStyle:{"margin-left":"20px"}},[e("q-input",{attrs:{"stack-label":"",label:"Location Name"},model:{value:t.formData.locationName,callback:function(a){t.$set(t.formData,"locationName",a)},expression:"formData.locationName"}}),e("q-input",{attrs:{"stack-label":"",label:"ComplexName"},model:{value:t.formData.complexName,callback:function(a){t.$set(t.formData,"complexName",a)},expression:"formData.complexName"}}),e("q-input",{attrs:{"stack-label":"",label:"Steet Name"},model:{value:t.formData.streetName,callback:function(a){t.$set(t.formData,"streetName",a)},expression:"formData.streetName"}}),e("q-input",{attrs:{"stack-label":"",label:"Street Number"},model:{value:t.formData.streetNumber,callback:function(a){t.$set(t.formData,"streetNumber",a)},expression:"formData.streetNumber"}}),e("q-input",{attrs:{"stack-label":"",label:"Postal Code"},model:{value:t.formData.postalCode,callback:function(a){t.$set(t.formData,"postalCode",a)},expression:"formData.postalCode"}}),e("q-input",{attrs:{"stack-label":"",label:"Phone"},model:{value:t.formData.phone,callback:function(a){t.$set(t.formData,"phone",a)},expression:"formData.phone"}}),e("q-input",{attrs:{"stack-label":"",label:"Fax"},model:{value:t.formData.fax,callback:function(a){t.$set(t.formData,"fax",a)},expression:"formData.fax"}})],1)]),e("div",{staticStyle:{"text-align":"right"}},[e("q-btn",{attrs:{round:"",color:"primary",size:"small"},nativeOn:{click:function(a){return t.doSave()}}},[e("q-icon",{attrs:{name:"fas fa-save"}}),e("q-tooltip",[t._v("Save Form")])],1)],1)])],1)],1)],1)},o=[],n={data:function(){return{dataList:[],areaList:[],regionList:[],filteredRegionList:[],listOfRegion:[],listOfAreaForRegion:[],tableColumns:[{name:"pid",label:"Building Code",field:"pid",align:"left",style:"width: 100px",sortable:!0},{name:"buildingName",label:"Building Name",field:"buildingName",align:"left",style:"width: 200px",sortable:!0},{name:"itCode",label:"IT Code",field:"itCode",align:"left",style:"width: 200px",sortable:!0},{name:"area",label:"Area",field:"area",align:"left",style:"width: 200px",sortable:!0},{name:"region",label:"Region",field:"region",align:"left",style:"width: 200px",sortable:!0},{name:"city",label:"City",field:"city",align:"left",sortable:!0},{name:"recordStatus",label:"Status",field:"recordStatus",align:"left",sortable:!0},{name:"action",label:"Action",align:"center",style:"width: 100px"}],regionColumns:[{name:"id",label:"Region Id",field:"id",align:"left",style:"width: 100px",sortable:!0},{name:"region",label:"Region Name",field:"region",align:"left",style:"width: 200px",sortable:!0},{name:"action",label:"Action",align:"center",style:"width: 100px"}],pagination:{sortBy:"id",descending:!1,page:1,rowsPerPage:10,rowsNumber:0},regionPagination:{sortBy:"region",descending:!1,rowsPerPage:0},searchVal:{id:"",area:""},showForm:!1,formData:{pid:"",fidRegion:"",buildingType:"",buildingName:"",itCode:"",area:"",region:"",city:"",locationName:"",complexName:"",streetName:"",streetNumber:"",postalCode:"",phone:"",fax:""}}},methods:{doInitPage:function(){var t=this;this.$q.loading.show(),this.$axios.get("".concat("/","getBuildingInitPage"),{params:{pageIndex:this.pagination.page-1,pageSize:this.pagination.rowsPerPage,sortBy:this.pagination.sortBy,descending:this.pagination.descending}}).then((function(a){t.$q.loading.hide(),t.dataList=a.data.listOfBuilding.content,t.pagination.rowsNumber=a.data.listOfBuilding.totalElements,t.pagination.page=a.data.listOfBuilding.number+1,t.areaList=a.data.listOfAreaDropdown,t.listOfAreaForRegion=a.data.listOfArea})).catch((function(a){t.$q.loading.hide(),t.$q.notify({color:"negative",icon:"report_problem",message:a})}))},getBuildingList:function(t){var a=this;this.$q.loading.show(),this.pagination.sortBy=t.pagination.sortBy,this.pagination.descending=t.pagination.descending,this.$axios.get("".concat("/","getBuildingList"),{params:{pageIndex:t.pagination.page-1,pageSize:t.pagination.rowsPerPage,sortBy:t.pagination.sortBy,descending:t.pagination.descending}}).then((function(t){a.$q.loading.hide(),a.dataList=t.data.content,a.pagination.rowsNumber=t.data.totalElements,a.pagination.page=t.data.number+1,a.pagination.rowsPerPage=t.data.pageable.pageSize})).catch((function(t){a.$q.loading.hide(),a.$q.notify({color:"negative",icon:"report_problem",message:t})}))},doOpenForm:function(t){var a=this;!1===t?this.showForm=!0:(this.$q.loading.show(),this.$axios.get("".concat("/","getBuildingDetail"),{params:{pid:t}}).then((function(t){a.formData=t.data,a.formData.mode="update",a.showForm=!0,a.$q.loading.hide()})).catch((function(t){a.$q.notify({color:"negative",icon:"report_problem",message:t}),a.$q.loading.hide()})))},doSave:function(){var t=this;this.$q.loading.show(),this.$axios.post("".concat("/","saveBuilding"),this.formData).then((function(a){t.$q.loading.hide(),t.$q.notify({color:"positive",icon:"info",message:"Record successfully saved"}),t.showForm=!1,t.doRefresh()})).catch((function(a){t.$q.loading.hide(),t.$q.notify({color:"negative",icon:"report_problem",message:a}),t.showForm=!1,t.doRefresh()}))},doToggleStatus:function(t){t.row.recordStatus="I"===t.row.recordStatus?"A":"I",this.formData=t.row,this.doSave()},getRegion:function(){var t=this;this.formData.area=this.formData.area.value;var a=this.listOfAreaForRegion.filter((function(a){return a.areaName.indexOf(t.formData.area)>-1}))[0].region;if(null!==a){var e=JSON.parse(a);this.filteredRegionList=e.map((function(t){return{label:t.region.toUpperCase(),value:t.region.toUpperCase()}}))}else this.filteredRegionList=[],this.formData.region=""},doRefresh:function(){this.clear(),this.doInitPage()},clear:function(){this.formData={pid:"",fidRegion:"",buildingType:"",buildingName:"",itCode:"",area:"",region:"",city:"",locationName:"",complexName:"",streetName:"",streetNumber:"",postalCode:"",phone:"",fax:"",mode:"create"}}},beforeMount:function(){this.doInitPage()}},l=n,r=(e("d8f9"),e("2877")),s=Object(r["a"])(l,i,o,!1,null,null,null);a["default"]=s.exports},bae7:function(t,a,e){},d8f9:function(t,a,e){"use strict";var i=e("bae7"),o=e.n(i);o.a}}]);