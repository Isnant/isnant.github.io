(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"3a5f":function(a,e,t){"use strict";var o=t("8380");e["a"]={methods:{showLoading:function(){this.$q.loading.show({spinner:o["a"],spinnerColor:"orange-10",spinnerSize:140,backgroundColor:"purple",messageColor:"black"})},showCheckingLoading:function(){this.$q.loading.show({spinner:o["a"],message:"Checking Excel Data...",spinnerColor:"orange-10",spinnerSize:60,backgroundColor:"purple",messageColor:"white",messageSize:60})},showUploadLoading:function(){this.$q.loading.show({spinner:o["a"],message:"Uploading Excel Data...",spinnerColor:"orange-10",spinnerSize:60,backgroundColor:"purple",messageColor:"white",messageSize:60})}}}},"3e22":function(a,e,t){},b0a5:function(a,e,t){"use strict";var o=t("3e22"),i=t.n(o);i.a},c43c:function(a,e,t){"use strict";t.r(e);var o=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("q-page",[t("font",{staticClass:"text-bold",attrs:{size:"1",color:"grey"}},[a._v("MASTER DATA "),t("q-icon",{attrs:{name:"double_arrow"}}),a._v(" MASTER BDF")],1),t("div",{staticStyle:{"margin-bottom":"30px","margin-top":"10px",width:"150px"},attrs:{align:"left"}},[t("font",{staticClass:"text-bold",staticStyle:{"margin-bottom":"10px"},attrs:{size:"5"}},[a._v("MASTER BDF")]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-20",staticStyle:{width:"32%"}},[t("q-separator",{attrs:{color:"orange-10"}}),t("q-separator",{attrs:{color:"orange-10"}})],1),t("div",{staticClass:"col"},[t("q-separator",{attrs:{color:"purple-10"}}),t("q-separator",{attrs:{color:"purple-10"}})],1)])],1),t("q-card",[t("q-card-section",[t("q-expansion-item",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"SEARCH","header-class":"bg-indigo-2 text-indigo-10",icon:"search"}},[t("div",{staticClass:"row bg-orange-1",staticStyle:{padding:"10px",width:"100%"},attrs:{align:"left"}},[t("div",{staticClass:"row",staticStyle:{"margin-bottom":"10px"}},[t("div",{staticClass:"col-15",staticStyle:{"margin-right":"10px"}},[t("q-input",{staticClass:"searchform",attrs:{rounded:"",outlined:"","stack-label":"",label:"BDF Code",color:"orange-8"},model:{value:a.searchVal.bdfCode,callback:function(e){a.$set(a.searchVal,"bdfCode",e)},expression:"searchVal.bdfCode"}})],1),t("div",{staticClass:"col-15",staticStyle:{"margin-right":"10px"}},[t("q-input",{staticClass:"searchform",attrs:{rounded:"",outlined:"","stack-label":"",label:"BDF Name",color:"orange-8"},model:{value:a.searchVal.bdfName,callback:function(e){a.$set(a.searchVal,"bdfName",e)},expression:"searchVal.bdfName"}})],1),t("div",{staticClass:"col",staticStyle:{width:"20%"}},[t("q-btn",{attrs:{round:"",size:"small",color:"indigo-10"},on:{click:function(e){return a.doSearchByFilter()}}},[t("q-icon",{attrs:{name:"search"}}),t("q-tooltip",[a._v("Search")])],1)],1)])])]),t("div",{staticStyle:{"max-width":"1200px"}},[t("q-table",{attrs:{data:a.dataList,columns:a.tableColumns,pagination:a.pagination,"rows-per-page-options":[10,20,50,100],"table-header-class":"text-indigo-10 bg-indigo-2","row-key":"id",dense:""},on:{"update:pagination":function(e){a.pagination=e},request:a.doMainEquipmentChangePage},scopedSlots:a._u([{key:"body-cell-address",fn:function(e){return t("q-td",{style:{width:"300px",whiteSpace:"normal"}},[a._v("\n            "+a._s(e.row.address)+"\n          ")])}},{key:"body-cell-recordStatus",fn:function(a){return t("q-td",{},["A"===a.row.recordStatus?t("div",[t("q-icon",{staticStyle:{"font-size":"20px"},attrs:{name:"done",color:"primary"}})],1):t("div",[t("q-icon",{staticStyle:{"font-size":"20px"},attrs:{name:"clear",color:"negative"}})],1)])}},{key:"body-cell-action",fn:function(e){return t("q-td",{},[t("q-btn-dropdown",{attrs:{rounded:"",size:"sm",color:"indigo-10"}},[t("q-list",[t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""}},[t("q-item-section",[t("q-btn",{attrs:{color:"indigo-6",round:"",size:"sm"},on:{click:function(t){return a.doOpenForm(e)}}},[t("q-icon",{attrs:{name:"fas fa-edit"}}),t("q-tooltip",[a._v("Edit")])],1)],1)],1),t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""}},[t("q-item-section",[t("q-btn",{attrs:{color:"indigo-6",round:"",size:"sm"},on:{click:function(t){return a.doToggleStatus(e)}}},[t("q-icon",{attrs:{name:"A"===e.row.recordStatus?"fas fa-stop-circle":"fas fa-play-circle"}}),t("q-tooltip",[a._v(a._s("A"===e.row.recordStatus?"Deactivate":"Activate"))])],1)],1)],1)],1)],1)],1)}}])})],1)],1)],1),t("q-page-sticky",{attrs:{position:"top-right",offset:[15,30]}},[t("q-fab",{attrs:{color:"orange-7",glossy:"",icon:"keyboard_arrow_down",direction:"down"}},[t("q-fab-action",{attrs:{color:"orange-6","text-color":"white",icon:"add"},nativeOn:{click:function(e){return a.doOpenForm()}}},[t("q-tooltip",[a._v("Add")])],1),t("q-fab-action",{attrs:{color:"orange-6","text-color":"white",icon:"backup"},nativeOn:{click:function(e){a.modalUploadExcel=!0}}},[t("q-tooltip",[a._v("Upload Excel")])],1),t("q-btn",{attrs:{round:"",color:"orange-6","text-color":"white"},nativeOn:{click:function(e){return a.downloadExcel(e)}}},[t("q-icon",{attrs:{name:"fas fa-file-excel"}}),t("q-tooltip",[a._v("Download Excel")])],1)],1)],1),t("q-dialog",{attrs:{persistent:""},on:{"before-hide":function(e){return a.clear()}},model:{value:a.showForm,callback:function(e){a.showForm=e},expression:"showForm"}},[t("q-card",{staticClass:"bg-white",staticStyle:{width:"500px"}},[t("q-bar",{staticClass:"bg-indigo-10 text-white"},[t("strong",[a._v("BDF Form")]),t("q-space"),t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}})],1),t("q-card-section",[t("div",{staticClass:"row"},[t("div",{staticClass:"col"},[t("q-input",{staticClass:"text-italic",attrs:{readonly:"","stack-label":"",label:"BDF Id"},model:{value:a.formData.bdfId,callback:function(e){a.$set(a.formData,"bdfId",e)},expression:"formData.bdfId"}}),t("q-input",{attrs:{"stack-label":"",label:"BDF Code"},model:{value:a.formData.bdfCode,callback:function(e){a.$set(a.formData,"bdfCode",e)},expression:"formData.bdfCode"}}),t("q-input",{attrs:{"stack-label":"",label:"BDF Name"},model:{value:a.formData.bdfName,callback:function(e){a.$set(a.formData,"bdfName",e)},expression:"formData.bdfName"}}),t("q-select",{attrs:{"stack-label":"",label:"BDF Type",options:a.bdfTypeList},on:{input:function(e){return a.getBdfTypeValue()}},model:{value:a.formData.bdfType,callback:function(e){a.$set(a.formData,"bdfType",e)},expression:"formData.bdfType"}}),t("q-select",{attrs:{"stack-label":"",label:"Area Name",options:a.areaList},on:{input:function(e){return a.getRegion()}},model:{value:a.formData.areaName,callback:function(e){a.$set(a.formData,"areaName",e)},expression:"formData.areaName"}}),t("q-select",{attrs:{"stack-label":"",label:"Region",options:a.filteredRegionList},on:{input:function(e){return a.doRegion()}},model:{value:a.formData.regionName,callback:function(e){a.$set(a.formData,"regionName",e)},expression:"formData.regionName"}}),t("q-input",{attrs:{"stack-label":"",label:"City"},model:{value:a.formData.city,callback:function(e){a.$set(a.formData,"city",e)},expression:"formData.city"}}),t("q-input",{attrs:{"stack-label":"",label:"Postal Code"},model:{value:a.formData.postalCode,callback:function(e){a.$set(a.formData,"postalCode",e)},expression:"formData.postalCode"}})],1),t("div",{staticClass:"col",staticStyle:{"margin-left":"20px"}},[t("q-input",{staticStyle:{"max-height":"112px"},attrs:{type:"textarea","max-height":10,"stack-label":"",label:"Address"},model:{value:a.formData.address,callback:function(e){a.$set(a.formData,"address",e)},expression:"formData.address"}}),t("q-input",{attrs:{"stack-label":"",label:"Phone"},model:{value:a.formData.phone,callback:function(e){a.$set(a.formData,"phone",e)},expression:"formData.phone"}}),t("q-input",{staticStyle:{"max-height":"112px"},attrs:{type:"textarea","stack-label":"",label:"Remarks"},model:{value:a.formData.remarks,callback:function(e){a.$set(a.formData,"remarks",e)},expression:"formData.remarks"}})],1)]),t("div",{staticStyle:{"text-align":"right","margin-top":"20px"}},[t("q-btn",{attrs:{round:"",color:"orange-4",size:"small"},nativeOn:{click:function(e){return a.doSave()}}},[t("q-icon",{attrs:{name:"fas fa-save"}}),t("q-tooltip",[a._v("Submit")])],1)],1)])],1)],1),t("q-dialog",{attrs:{persistent:""},on:{"before-hide":function(e){return a.doHideButton()}},model:{value:a.modalUploadExcel,callback:function(e){a.modalUploadExcel=e},expression:"modalUploadExcel"}},[t("q-card",{staticClass:"bg-white"},[t("q-bar",{staticClass:"bg-indigo-10 text-white"},[t("strong",[a._v("Upload Excel File")]),t("q-space"),t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}})],1),t("q-card-section",[t("a",{attrs:{href:"/statics/template/BDF - Form Upload.xlsx"}},[a._v("Download Template\n          "),t("q-tooltip",[a._v("BDF - Form Upload.xlsx")])],1)]),t("q-card-section",[t("q-input",{attrs:{type:"file"},on:{input:function(e){a.doAttachFile(e[0])}}}),t("div",{staticStyle:{"margin-top":"20px"},attrs:{align:"right"}},[t("q-btn",{attrs:{round:"",color:"orange-6"},on:{click:function(e){return a.uploadField()}}},[t("q-icon",{attrs:{name:"fas fa-file-upload"}}),t("q-tooltip",[a._v("Upload")])],1)],1)],1)],1)],1)],1)},i=[],n=(t("7f7f"),t("3a5f")),s={mixins:[n["a"]],data:function(){return{dataList:[],areaList:[],regionList:[],filteredRegionList:[],listOfRegion:[],listOfAreaForRegion:[],bdfTypeList:[],modalUploadExcel:!1,fileAttach:{fileName:"",file64:"",equipmentCategory:"Network"},tableColumns:[{name:"bdfId",label:"BDF Id",field:"bdfId",align:"left",style:"width: 100px",sortable:!0},{name:"bdfCode",label:"BDF Code",field:"bdfCode",align:"left",style:"width: 100px",sortable:!0},{name:"bdfName",label:"BDF Name",field:"bdfName",align:"left",style:"width: 200px",sortable:!0},{name:"bdfType",label:"BDF Type",field:"bdfType",align:"left",style:"width: 200px",sortable:!0},{name:"areaName",label:"Area",field:"areaName",align:"left",style:"width: 200px",sortable:!0},{name:"regionName",label:"Region",field:"regionName",align:"left",style:"width: 200px",sortable:!0},{name:"city",label:"City",field:"city",align:"left",sortable:!0},{name:"address",label:"Address",field:"address",align:"left",sortable:!0},{name:"postalCode",label:"Postal Code",field:"postalCode",align:"left",sortable:!0},{name:"recordStatus",label:"Status",field:"recordStatus",align:"left",sortable:!0},{name:"action",label:"Action",align:"center",style:"width: 100px"}],regionColumns:[{name:"id",label:"Region Id",field:"id",align:"left",style:"width: 100px",sortable:!0},{name:"regioName",label:"Region Name",field:"regioName",align:"left",style:"width: 200px",sortable:!0},{name:"action",label:"Action",align:"center",style:"width: 100px"}],pagination:{sortBy:"bdfCode",descending:!1,page:1,rowsPerPage:10,rowsNumber:0},showForm:!1,searchVal:{bdfCode:"",bdfName:""},formData:{bdfId:"AUTO GENERATE",bdfCode:"",bdfName:"",bdfType:"",areaName:"",regionName:"",city:"",address:"",postalCode:"",phone:"",remarks:""}}},methods:{doInitPage:function(){var a=this;this.showLoading(),this.$axios.get("".concat("/","getBdfInitPage"),{params:{pageIndex:this.pagination.page-1,pageSize:this.pagination.rowsPerPage,sortBy:this.pagination.sortBy,descending:this.pagination.descending,bdfCode:this.searchVal.bdfCode,bdfName:this.searchVal.bdfName}}).then((function(e){a.$q.loading.hide(),a.doMainFillTableResult(e.data.listOfBDF),a.areaList=e.data.listOfAreaDropdown,a.bdfTypeList=e.data.listOfBdfType,a.listOfAreaForRegion=e.data.listOfArea})).catch((function(e){a.$q.loading.hide(),a.$q.notify({color:"negative",icon:"report_problem",message:e})}))},doMainFillTableResult:function(a){this.dataList=a.content,this.pagination.rowsNumber=a.totalElements,this.pagination.rowsPerPage=a.pageable.pageSize,this.pagination.page=a.number+1},getBdfList:function(a){var e=this;this.showLoading(),this.$axios.get("".concat("/","getBdfList"),{params:a}).then((function(a){e.$q.loading.hide(),e.doMainFillTableResult(a.data)})).catch((function(a){e.$q.loading.hide(),e.$q.notify({color:"negative",icon:"report_problem",message:a})}))},doMainEquipmentChangePage:function(a){var e=a.pagination,t=e.page,o=e.rowsPerPage,i=e.sortBy,n=e.descending,s={pageIndex:t-1,pageSize:o,sortBy:i,descending:n,bdfCode:this.searchVal.bdfCode,bdfName:this.searchVal.bdfName};this.getBdfList(s)},doSearchByFilter:function(){var a={pageIndex:this.pagination.page-1,pageSize:this.pagination.rowsPerPage,sortBy:this.pagination.sortBy,descending:this.pagination.descending,bdfCode:this.searchVal.bdfCode,bdfName:this.searchVal.bdfName};this.getBdfList(a)},doOpenForm:function(a){void 0!==a?this.formData=JSON.parse(JSON.stringify(a.row)):this.clear(),this.showForm=!0},doSave:function(){var a=this;this.showLoading(),"AUTO GENERATE"===this.formData.bdfId&&(this.formData.bdfId=""),this.$axios.post("".concat("/","saveBdf"),this.formData).then((function(e){a.$q.loading.hide(),a.$q.notify({color:"positive",icon:"info",message:"Record successfully saved"}),a.showForm=!1,a.doRefresh()})).catch((function(e){a.$q.loading.hide(),a.$q.notify({color:"negative",icon:"report_problem",message:e}),a.showForm=!1,a.doRefresh()}))},doToggleStatus:function(a){a.row.recordStatus="I"===a.row.recordStatus?"A":"I",this.formData=a.row,this.doSave()},getRegion:function(){var a=this;this.formData.areaName=this.formData.areaName.value;var e=this.listOfAreaForRegion.filter((function(e){return e.areaName.indexOf(a.formData.areaName)>-1}))[0].region;if(null!==e){var t=JSON.parse(e);this.filteredRegionList=t.map((function(a){return{label:a.region,value:a.region}}))}else this.filteredRegionList=[],this.formData.region=""},doRegion:function(){this.formData.regionName=this.formData.regionName.value},getBdfTypeValue:function(){this.formData.bdfType=this.formData.bdfType.value},doAttachFile:function(a){var e=this,t=new FileReader;this.uploadButton=!0,t.onload=function(t){e.fileAttach.fileName=a.name,e.fileAttach.file64=t.target.result},t.readAsDataURL(a)},uploadField:function(a){var e=this;this.showLoading(),this.$axios.post("".concat("/","uploadBDF"),this.fileAttach).then((function(a){e.modalUploadExcel=!1,e.$q.loading.hide(),e.doRefresh()})).catch((function(a){e.$q.loading.hide(),e.$q.notify({color:"negative",icon:"report_problem",message:a})}))},downloadExcel:function(a){var e=this;this.showLoading(),this.$axios.get("".concat("/","bdfDownloadExcel"),{responseType:"arraybuffer",params:{searchVal:this.searchVal}}).then((function(a){e.$q.loading.hide();var t=window.URL.createObjectURL(new Blob([a.data]),{type:""}),o=document.createElement("a");o.href=t,o.style="display: none",o.download="master_bdf.xlsx",document.body.appendChild(o),o.click()})).catch((function(a){e.$q.loading.hide(),e.notify({color:"negative",icon:"report_problem",message:a})}))},doRefresh:function(){this.clear(),this.doInitPage()},clear:function(){this.formData={bdfId:"AUTO GENERATE",bdfCode:"",bdfName:"",areaName:"",regionName:"",city:"",address:"",postalCode:"",phone:"",remarks:""}}},beforeMount:function(){this.doInitPage()}},l=s,r=(t("b0a5"),t("2877")),d=Object(r["a"])(l,o,i,!1,null,null,null);e["default"]=d.exports}}]);