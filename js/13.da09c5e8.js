(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{"1f1b":function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-page",[e("font",{staticClass:"text-bold",attrs:{size:"1",color:"grey"}},[t._v("MASTER DATA "),e("q-icon",{attrs:{name:"double_arrow"}}),t._v(" MASTER MANUFACTURER - BRAND")],1),e("div",{staticStyle:{"margin-bottom":"30px",width:"400px"},attrs:{align:"left"}},[e("font",{staticClass:"text-bold",staticStyle:{"margin-bottom":"10px"},attrs:{size:"5"}},[t._v("MASTER MANUFACTURER - BRAND")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-20",staticStyle:{width:"32%"}},[e("q-separator",{attrs:{color:"orange-10"}}),e("q-separator",{attrs:{color:"orange-10"}})],1),e("div",{staticClass:"col"},[e("q-separator",{attrs:{color:"purple-10"}}),e("q-separator",{attrs:{color:"purple-10"}})],1)])],1),e("div",{staticStyle:{"max-width":"400px"}},[e("q-card",[e("q-card-section",[e("q-expansion-item",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"SEARCH","header-class":"bg-indigo-2 text-indigo-10",icon:"search"}},[e("div",{staticClass:"row bg-orange-1",staticStyle:{padding:"10px",width:"100%"},attrs:{align:"left"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-20",staticStyle:{"margin-right":"10px"}},[e("q-input",{staticClass:"searchform",attrs:{"stack-label":"",label:"Description",rounded:"",outlined:"",color:"orange-8"},model:{value:t.description,callback:function(a){t.description=a},expression:"description"}})],1),e("div",{staticClass:"col",staticStyle:{width:"5%"}},[e("q-btn",{attrs:{round:"",size:"small",color:"indigo-10"},on:{click:function(a){return t.doSearchByFilter()}}},[e("q-icon",{attrs:{name:"search"}}),e("q-tooltip",[t._v("Search")])],1)],1)])])]),e("q-table",{attrs:{data:t.dataList,columns:t.tableColumns,pagination:t.pagination,"table-header-class":"text-indigo-10 bg-indigo-2","row-key":"id",dense:""},on:{"update:pagination":function(a){t.pagination=a},request:t.doMainEquipmentChangePage},scopedSlots:t._u([{key:"body-cell-action",fn:function(a){return e("q-td",{attrs:{align:"center"}},[e("q-btn-dropdown",{attrs:{rounded:"",size:"sm",color:"indigo-10"}},[e("q-list",[e("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""}},[e("q-item-section",[e("q-btn",{attrs:{color:"indigo-6",round:"",size:"sm"},on:{click:function(e){return t.doOpenForm(a.row.pid)}}},[e("q-icon",{attrs:{name:"fas fa-edit"}}),e("q-tooltip",[t._v("Edit")])],1)],1)],1),e("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""}},[e("q-item-section",[e("q-btn",{attrs:{color:"indigo-6",round:"",size:"sm"},on:{click:function(e){return t.doToggleStatus(a)}}},[e("q-icon",{attrs:{name:"A"===a.row.recordStatus?"fas fa-stop-circle":"fas fa-play-circle"}}),e("q-tooltip",[t._v(t._s("A"===a.row.recordStatus?"Deactivate":"Activate"))])],1)],1)],1)],1)],1)],1)}},{key:"body-cell-recordStatus",fn:function(t){return e("q-td",{},["A"===t.row.recordStatus?e("div",[e("q-icon",{staticStyle:{"font-size":"20px"},attrs:{name:"done",color:"primary"}})],1):e("div",[e("q-icon",{staticStyle:{"font-size":"20px"},attrs:{name:"clear",color:"negative"}})],1)])}}])})],1)],1)],1),e("q-page-sticky",{attrs:{position:"top-right",offset:[15,30]}},[e("q-fab",{attrs:{color:"orange-7",glossy:"",icon:"keyboard_arrow_down",direction:"down"}},[e("q-fab-action",{attrs:{color:"orange-6","text-color":"white",icon:"add"},nativeOn:{click:function(a){return t.doOpenForm(!1)}}},[e("q-tooltip",[t._v("Add")])],1),e("q-fab-action",{attrs:{color:"orange-6","text-color":"white",icon:"backup"},nativeOn:{click:function(a){t.modalUploadExcel=!0}}},[e("q-tooltip",[t._v("Upload Excel")])],1),e("q-btn",{attrs:{round:"",color:"orange-6","text-color":"white"},nativeOn:{click:function(a){t.modalDownloadExcel=!0}}},[e("q-icon",{attrs:{name:"fas fa-file-excel"}}),e("q-tooltip",[t._v("Download Excel")])],1)],1)],1),e("q-dialog",{attrs:{persistent:""},on:{"before-hide":function(a){return t.clear()}},model:{value:t.showForm,callback:function(a){t.showForm=a},expression:"showForm"}},[e("q-card",{staticClass:"bg-white"},[e("q-bar",{staticClass:"bg-indigo-10 text-white"},[e("strong",[t._v("Manufacturer Brand")]),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}})],1),e("q-card-section",[e("div",[e("q-input",{staticClass:"text-italic",attrs:{readonly:"",label:"Manufacturer Code"},model:{value:t.formData.pid,callback:function(a){t.$set(t.formData,"pid",a)},expression:"formData.pid"}}),e("q-input",{attrs:{"stack-label":"",label:"Description"},model:{value:t.formData.description,callback:function(a){t.$set(t.formData,"description",a)},expression:"formData.description"}})],1),e("br"),e("fieldset",[e("legend",[t._v("Brand List")]),e("q-table",{attrs:{data:t.listOfBrand,columns:t.brandColumns,pagination:t.subTypePagination,"row-key":"id","hide-bottom":!0,dense:""},on:{"update:pagination":function(a){t.subTypePagination=a}},scopedSlots:t._u([{key:"body-cell-id",fn:function(a){return e("q-td",{},[t._v("\n              "+t._s(a.row.id)+"\n              "),e("q-popup-edit",{model:{value:a.row.id,callback:function(e){t.$set(a.row,"id",e)},expression:"cell.row.id"}},[e("q-input",{attrs:{dense:""},model:{value:a.row.id,callback:function(e){t.$set(a.row,"id",e)},expression:"cell.row.id"}})],1)],1)}},{key:"body-cell-brand",fn:function(a){return e("q-td",{},[t._v("\n              "+t._s(a.row.brand)+"\n              "),e("q-popup-edit",{model:{value:a.row.brand,callback:function(e){t.$set(a.row,"brand",e)},expression:"cell.row.brand"}},[e("q-input",{attrs:{dense:""},model:{value:a.row.brand,callback:function(e){t.$set(a.row,"brand",e)},expression:"cell.row.brand"}})],1)],1)}},{key:"body-cell-recordStatus",fn:function(t){return e("q-td",{},["A"===t.row.recordStatus?e("div",[e("q-icon",{staticStyle:{"font-size":"20px"},attrs:{name:"done",color:"primary"}})],1):e("div",[e("q-icon",{staticStyle:{"font-size":"20px"},attrs:{name:"clear",color:"negative"}})],1)])}},{key:"body-cell-action",fn:function(a){return e("q-td",{attrs:{align:"center"}},[e("q-btn",{attrs:{color:"primary",round:"",size:"sm"},on:{click:function(e){return t.doToggleSubTypeStatus(a)}}},[e("q-icon",{attrs:{name:"A"===a.row.recordStatus?"fas fa-stop-circle":"fas fa-play-circle"}}),e("q-tooltip",[t._v(t._s("A"===a.row.recordStatus?"Deactivate":"Activate"))])],1)],1)}}])}),e("div",{staticStyle:{"text-align":"right","margin-top":"10px"}},[e("q-btn",{attrs:{flat:"",round:"",color:"primary",size:"xs"},nativeOn:{click:function(a){return t.doAddNewRegion()}}},[e("q-icon",{attrs:{name:"fas fa-plus"}}),e("q-tooltip",[t._v("Add New Subtype")])],1)],1)],1),e("br"),e("br"),e("div",{staticStyle:{"text-align":"right"}},[e("q-btn",{attrs:{round:"",color:"primary",size:"small"},nativeOn:{click:function(a){return t.doSave()}}},[e("q-icon",{attrs:{name:"fas fa-save"}}),e("q-tooltip",[t._v("Save Form")])],1)],1)])],1)],1),e("q-dialog",{attrs:{persistent:""},on:{"before-hide":function(a){return t.doHideButton()}},model:{value:t.modalUploadExcel,callback:function(a){t.modalUploadExcel=a},expression:"modalUploadExcel"}},[e("q-card",{staticClass:"bg-white"},[e("q-bar",{staticClass:"bg-indigo-10 text-white"},[e("strong",[t._v("Upload Excel File")]),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}})],1),e("q-card-section",[t._v("\n        Download Template:\n        "),e("br"),e("a",{attrs:{href:"/statics/template/Manufacturer - Form Upload.xlsx"}},[t._v("Manufacturer")]),e("a",{staticStyle:{"margin-left":"10px"},attrs:{href:"/statics/template/Brand - Form Upload.xlsx"}},[t._v("Brand")])]),e("q-card-section",[e("q-radio",{staticStyle:{"margin-right":"10px"},attrs:{val:"manufacturer",label:"Manufacturer",color:"indigo-7"},on:{input:t.getInitPage},model:{value:t.fileAttach.equipmentCategory,callback:function(a){t.$set(t.fileAttach,"equipmentCategory",a)},expression:"fileAttach.equipmentCategory"}}),e("q-radio",{staticStyle:{"margin-right":"10px"},attrs:{val:"brand",label:"Brand",color:"indigo-7"},on:{input:t.getInitPage},model:{value:t.fileAttach.equipmentCategory,callback:function(a){t.$set(t.fileAttach,"equipmentCategory",a)},expression:"fileAttach.equipmentCategory"}}),e("q-input",{attrs:{type:"file"},on:{input:function(a){t.doAttachFile(a[0])}}}),e("div",{staticStyle:{"margin-top":"20px"},attrs:{align:"right"}},[e("q-btn",{attrs:{round:"",color:"orange-6"},on:{click:function(a){return t.uploadManufacturerBrand()}}},[e("q-icon",{attrs:{name:"fas fa-file-upload"}}),e("q-tooltip",[t._v("Upload")])],1)],1)],1)],1)],1),e("q-dialog",{attrs:{persistent:""},on:{"before-hide":function(a){return t.doHideButton()}},model:{value:t.modalDownloadExcel,callback:function(a){t.modalDownloadExcel=a},expression:"modalDownloadExcel"}},[e("q-card",{staticClass:"bg-white"},[e("q-bar",{staticClass:"bg-indigo-10 text-white"},[e("strong",[t._v("Download Excel File")]),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}})],1),e("q-card-section",[e("q-radio",{staticStyle:{"margin-right":"10px"},attrs:{val:"manufacturer",label:"Manufacturer",color:"indigo-7"},model:{value:t.downloadType,callback:function(a){t.downloadType=a},expression:"downloadType"}}),e("q-radio",{staticStyle:{"margin-right":"10px"},attrs:{val:"brand",label:"Brand",color:"indigo-7"},model:{value:t.downloadType,callback:function(a){t.downloadType=a},expression:"downloadType"}}),e("div",{attrs:{align:"right"}},[e("q-btn",{attrs:{round:"",color:"orange-9","text-color":"white"},nativeOn:{click:function(a){return t.downloadExcel(a)}}},[e("q-icon",{attrs:{name:"get_app"}}),e("q-tooltip",[t._v("Download")])],1)],1)],1)],1)],1)],1)},n=[],i=(e("7f7f"),e("3a5f")),r={mixins:[i["a"]],data:function(){return{dataList:[],listOfBrand:[],modalUploadExcel:!1,modalDownloadExcel:!1,downloadType:"manufacturer",description:"",fileAttach:{fileName:"",file64:"",equipmentCategory:"manufacturer"},tableColumns:[{name:"Manucaturer Code",label:"Manucaturer Code",field:"pid",align:"left",style:"width: 100px",sortable:!0},{name:"description",label:"Description",field:"description",align:"left",style:"width: 200px",sortable:!0},{name:"recordStatus",label:"Status",field:"recordStatus",align:"left",sortable:!0},{name:"action",label:"Action",align:"center",style:"width: 100px"}],brandColumns:[{name:"brand",label:"Brand Name",field:"brand",align:"left",style:"width: 200px",sortable:!0},{name:"recordStatus",label:"Status",field:"recordStatus",align:"left",style:"width: 200px",sortable:!0},{name:"action",label:"Action",align:"center",style:"width: 100px"}],pagination:{sortBy:"description",page:1,rowsPerPage:10,rowsNumber:0,descending:!1},subTypePagination:{sortBy:"id",descending:!1,rowsPerPage:0},searchVal:{id:"",area:""},showForm:!1,formData:{pid:"AUTO GENERATE",description:"",productTypeSubType:"",mode:"create"}}},beforeMount:function(){this.doInitPage()},methods:{doInitPage:function(){var t=this;this.showLoading(),this.$axios.get("".concat("/","getManufacturerBrandInitPage"),{params:{pageIndex:this.pagination.page-1,pageSize:this.pagination.rowsPerPage,sortBy:this.pagination.sortBy,descending:this.pagination.descending}}).then((function(a){t.$q.loading.hide(),t.dataList=a.data.content,t.pagination.rowsNumber=a.data.totalElements,t.pagination.page=a.data.number+1})).catch((function(a){t.$q.loading.hide(),t.$q.notify({color:"negative",icon:"report_problem",message:a})}))},getManufacturerBrandList:function(t){var a=this;this.showLoading(),this.$axios.get("".concat("/","getManufacturerBrandList"),{params:t}).then((function(t){a.$q.loading.hide(),a.dataList=t.data.content,a.pagination.rowsNumber=t.data.totalElements,a.pagination.page=t.data.number+1,a.pagination.rowsPerPage=t.data.pageable.pageSize})).catch((function(t){a.$q.loading.hide(),a.$q.notify({color:"negative",icon:"report_problem",message:t})}))},doMainEquipmentChangePage:function(t){var a=t.pagination,e=a.page,o=a.rowsPerPage,n=a.sortBy,i=a.descending,r={pageIndex:e-1,pageSize:o,sortBy:n,descending:i,description:this.description};this.getManufacturerBrandList(r)},doSearchByFilter:function(){var t={pageIndex:this.pagination.page-1,pageSize:this.pagination.rowsPerPage,sortBy:this.pagination.sortBy,descending:this.pagination.descending,description:this.description};this.getManufacturerBrandList(t)},doOpenForm:function(t){var a=this;!1===t?this.showForm=!0:(this.showLoading(),this.$axios.get("".concat("/","getManufacturerBrandDetail"),{params:{pid:t}}).then((function(t){a.formData=t.data,a.formData.mode="update",a.listOfBrand=JSON.parse(a.formData.brand),a.showForm=!0,a.$q.loading.hide()})).catch((function(t){a.$q.notify({color:"negative",icon:"report_problem",message:t}),a.$q.loading.hide()})))},doSave:function(t){var a=this;this.showLoading(),t||(this.formData.brand=JSON.stringify(this.listOfBrand)),this.$axios.post("".concat("/","saveManufacturerBrand"),this.formData).then((function(t){a.$q.loading.hide(),"Success"===t.data?a.$q.notify({color:"positive",icon:"info",message:"Record successfully saved"}):a.$q.notify({color:"negative",icon:"report_problem",message:t.data}),a.showForm=!1,a.doRefresh()})).catch((function(t){a.$q.loading.hide(),a.$q.notify({color:"negative",icon:"report_problem",message:t}),a.showForm=!1,a.doRefresh()}))},doAddNewRegion:function(){var t={};this.$set(t,"brand",""),this.$set(t,"recordStatus","A"),this.listOfBrand.push(t)},doToggleStatus:function(t){t.row.recordStatus="I"===t.row.recordStatus?"A":"I",this.formData=t.row,this.formData.mode="update",this.doSave(!0)},doToggleSubTypeStatus:function(t){t.row.recordStatus="I"===t.row.recordStatus?"A":"I",this.listOfBrand[t]=t.row},doAttachFile:function(t){var a=this,e=new FileReader;this.uploadButton=!0,e.onload=function(e){a.fileAttach.fileName=t.name,a.fileAttach.file64=e.target.result},e.readAsDataURL(t)},uploadManufacturerBrand:function(t){var a=this;this.showLoading(),this.$axios.post("".concat("/","uploadManufacturerBrand"),this.fileAttach).then((function(t){a.modalUploadExcel=!1,a.$q.loading.hide(),a.doInitPage()})).catch((function(t){a.$q.loading.hide(),a.$q.notify({color:"negative",icon:"report_problem",message:t})}))},downloadExcel:function(){"manufacturer"===this.downloadType?this.manufacturerExcelDownload():this.brandExcelDownload()},brandExcelDownload:function(t){var a=this;this.showLoading(),this.$axios.get("".concat("/","brandExcelDownload"),{responseType:"arraybuffer"}).then((function(t){a.$q.loading.hide();var e=window.URL.createObjectURL(new Blob([t.data]),{type:""}),o=document.createElement("a");o.href=e,o.style="display: none",o.download="master_brand.xlsx",document.body.appendChild(o),o.click()})).catch((function(t){a.$q.loading.hide(),a.notify({color:"negative",icon:"report_problem",message:t})}))},manufacturerExcelDownload:function(t){var a=this;this.showLoading(),this.$axios.get("".concat("/","manufacturerExcelDownload"),{responseType:"arraybuffer"}).then((function(t){a.$q.loading.hide();var e=window.URL.createObjectURL(new Blob([t.data]),{type:""}),o=document.createElement("a");o.href=e,o.style="display: none",o.download="master_manufacturer.xlsx",document.body.appendChild(o),o.click()})).catch((function(t){a.$q.loading.hide(),a.notify({color:"negative",icon:"report_problem",message:t})}))},doRefresh:function(){this.clear(),this.doInitPage()},clear:function(){this.formData={pid:"AUTO GENERATE",description:"",mode:"create"},this.listOfBrand=[]}}},s=r,l=(e("b06f"),e("2877")),c=Object(l["a"])(s,o,n,!1,null,null,null);a["default"]=c.exports},"3a5f":function(t,a,e){"use strict";var o=e("8380");a["a"]={methods:{showLoading:function(){this.$q.loading.show({spinner:o["a"],spinnerColor:"orange-10",spinnerSize:140,backgroundColor:"purple",messageColor:"black"})},showCheckingLoading:function(){this.$q.loading.show({spinner:o["a"],message:"Checking Excel Data...",spinnerColor:"orange-10",spinnerSize:60,backgroundColor:"purple",messageColor:"white",messageSize:60})},showUploadLoading:function(){this.$q.loading.show({spinner:o["a"],message:"Uploading Excel Data...",spinnerColor:"orange-10",spinnerSize:60,backgroundColor:"purple",messageColor:"white",messageSize:60})}}}},a41e:function(t,a,e){},b06f:function(t,a,e){"use strict";var o=e("a41e"),n=e.n(o);n.a}}]);