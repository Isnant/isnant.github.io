(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"2a81":function(e,t,i){},"3a5f":function(e,t,i){"use strict";var a=i("8380");t["a"]={methods:{showLoading:function(){this.$q.loading.show({spinner:a["a"],spinnerColor:"orange-10",spinnerSize:140,backgroundColor:"purple",messageColor:"black"})},showCheckingLoading:function(){this.$q.loading.show({spinner:a["a"],message:"Checking Excel Data...",spinnerColor:"orange-10",spinnerSize:60,backgroundColor:"purple",messageColor:"white",messageSize:60})},showUploadLoading:function(){this.$q.loading.show({spinner:a["a"],message:"Uploading Excel Data...",spinnerColor:"orange-10",spinnerSize:60,backgroundColor:"purple",messageColor:"white",messageSize:60})}}}},"5a87":function(e,t,i){"use strict";var a=i("d7dd"),n=i.n(a);n.a},a5b7:function(e,t,i){"use strict";var a=i("2a81"),n=i.n(a);n.a},a6d3:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-page",[i("font",{staticClass:"text-bold",attrs:{size:"1",color:"grey"}},[e._v("EQUIPMENT "),i("q-icon",{attrs:{name:"double_arrow"}}),e._v(" FIELD EQUIPMENT")],1),i("div",{staticStyle:{"margin-bottom":"30px",width:"210px"},attrs:{align:"left"}},[i("font",{staticClass:"text-bold",staticStyle:{"margin-bottom":"10px"},attrs:{size:"5"}},[e._v("FIELD EQUIPMENT")]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-20",staticStyle:{width:"32%"}},[i("q-separator",{attrs:{color:"orange-10"}}),i("q-separator",{attrs:{color:"orange-10"}})],1),i("div",{staticClass:"col"},[i("q-separator",{attrs:{color:"indigo-10"}}),i("q-separator",{attrs:{color:"indigo-10"}})],1)])],1),i("q-card",[i("q-card-section",[i("q-expansion-item",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"SEARCH","header-class":"bg-indigo-2 text-indigo-10",icon:"search"}},[i("div",{staticClass:"row bg-orange-1",staticStyle:{padding:"10px",width:"100%"},attrs:{align:"right"}},[i("div",{staticClass:"row",staticStyle:{width:"100%"}},[i("div",{staticClass:"col-12",staticStyle:{"margin-right":"10px",width:"17%"}},[i("q-input",{staticClass:"searchform",attrs:{label:"Equipment Name","stack-label":"",oninput:"this.value = this.value.toUpperCase()",rounded:"",outlined:"",color:"orange-8"},model:{value:e.searchVal.equipmentName,callback:function(t){e.$set(e.searchVal,"equipmentName",t)},expression:"searchVal.equipmentName"}})],1),i("div",{staticClass:"col-15",staticStyle:{"margin-right":"10px",width:"17%"}},[i("q-select",{staticClass:"searchform",attrs:{label:"Product Type",rounded:"",outlined:"",color:"orange-8",options:e.productTypeListSearch},on:{input:function(t){return e.getDropdownValue("productTypeSearch")}},model:{value:e.searchVal.productType,callback:function(t){e.$set(e.searchVal,"productType",t)},expression:"searchVal.productType"}})],1),i("div",{staticClass:"col-12",staticStyle:{"margin-right":"10px",width:"17%"}},[i("q-select",{staticClass:"searchform",attrs:{"stack-label":!0,rounded:"",outlined:"",color:"orange-8",options:e.filteredProductSeries,label:"Product Series","use-input":"","fill-input":"","hide-selected":"","input-debounce":"500"},on:{input:function(t){return e.getDropdownValue("productSeriesSearch")},filter:e.doProductSeriesFilter},scopedSlots:e._u([{key:"no-option",fn:function(){return[i("q-item",[i("q-item-section",{staticClass:"text-grey"},[e._v("\n                        No results\n                      ")])],1)]},proxy:!0}]),model:{value:e.searchVal.productSeries,callback:function(t){e.$set(e.searchVal,"productSeries",t)},expression:"searchVal.productSeries"}})],1),i("div",{staticClass:"col-10",staticStyle:{"margin-right":"10px",width:"15%"}},[i("q-select",{staticClass:"searchform",attrs:{"stack-label":!0,rounded:"",outlined:"",color:"orange-8",options:e.filteredHubCode,label:"Hub Code","use-input":"","fill-input":"","hide-selected":"","input-debounce":"500"},on:{input:function(t){return e.getDropdownValue("hubCodeSearch")},filter:e.doHubCodeFilter},scopedSlots:e._u([{key:"no-option",fn:function(){return[i("q-item",[i("q-item-section",{staticClass:"text-grey"},[e._v("\n                        No results\n                      ")])],1)]},proxy:!0}]),model:{value:e.searchVal.hubCode,callback:function(t){e.$set(e.searchVal,"hubCode",t)},expression:"searchVal.hubCode"}})],1),i("div",{staticClass:"col-12",staticStyle:{"margin-right":"10px",width:"13%"}},[i("q-input",{staticClass:"searchform",attrs:{label:"Wdm Code",rounded:"",outlined:"",color:"orange-8","stack-label":""},model:{value:e.searchVal.wdmCode,callback:function(t){e.$set(e.searchVal,"wdmCode",t)},expression:"searchVal.wdmCode"}})],1),i("div",{staticClass:"col-12",staticStyle:{width:"13%"}},[i("q-input",{staticClass:"searchform",attrs:{label:"Log Batch",rounded:"",outlined:"",color:"orange-8","stack-label":""},model:{value:e.searchVal.logBatch,callback:function(t){e.$set(e.searchVal,"logBatch",t)},expression:"searchVal.logBatch"}})],1)]),i("div",{staticClass:"row",staticStyle:{"margin-top":"20px",width:"100%"}},[i("div",{staticClass:"col-10",staticStyle:{"margin-right":"10px",width:"20%"}},[i("q-select",{staticClass:"searchform",attrs:{"stack-label":"",label:"Equipment Status",rounded:"",outlined:"",color:"orange-8",options:e.assetStatusListSearch},on:{input:function(t){return e.getDropdownValue("assetStatusSearch")}},model:{value:e.searchVal.assetStatus,callback:function(t){e.$set(e.searchVal,"assetStatus",t)},expression:"searchVal.assetStatus"}})],1),i("div",{staticClass:"col-12",staticStyle:{"margin-right":"10px",width:"15%"}},[i("q-select",{staticClass:"searchform",attrs:{rounded:"",outlined:"",color:"orange-8",label:"Status",options:e.equipmentStatusListSearch},on:{input:function(t){return e.getDropdownValue("equipmentStatusSearch")}},model:{value:e.searchVal.equipmentStatus,callback:function(t){e.$set(e.searchVal,"equipmentStatus",t)},expression:"searchVal.equipmentStatus"}})],1),i("div",{staticClass:"col-10",staticStyle:{"margin-right":"10px",width:"15%"}},[i("q-select",{staticClass:"searchform",attrs:{label:"BDF Code",rounded:"",outlined:"",color:"orange-8",options:e.filteredBdfCode,"use-input":"","fill-input":"","hide-selected":"","input-debounce":"500"},on:{input:function(t){return e.getDropdownValue("bdfCodeSearch")},filter:e.doBdfFilter},scopedSlots:e._u([{key:"no-option",fn:function(){return[i("q-item",[i("q-item-section",{staticClass:"text-grey"},[e._v("\n                        No results\n                      ")])],1)]},proxy:!0}]),model:{value:e.searchVal.bdfCode,callback:function(t){e.$set(e.searchVal,"bdfCode",t)},expression:"searchVal.bdfCode"}})],1),i("div",{staticClass:"col-10",staticStyle:{"margin-right":"10px",width:"18%"}},[i("q-input",{staticClass:"searchform",attrs:{label:"Node Code",rounded:"",outlined:"",color:"orange-8",oninput:"this.value = this.value.toUpperCase()","stack-label":""},model:{value:e.searchVal.nodeCode,callback:function(t){e.$set(e.searchVal,"nodeCode",t)},expression:"searchVal.nodeCode"}})],1),i("div",{staticClass:"col-10",staticStyle:{"margin-right":"10px",width:"20%"}},[i("q-select",{staticClass:"searchform",attrs:{"stack-label":"",label:"Technology",rounded:"",outlined:"",color:"orange-8",options:e.technologyListSearch},on:{input:function(t){return e.getDropdownValue("technologySearch")}},model:{value:e.searchVal.technology,callback:function(t){e.$set(e.searchVal,"technology",t)},expression:"searchVal.technology"}})],1),i("div",{staticClass:"col-12",staticStyle:{width:"5%"}},[i("q-btn",{attrs:{round:"",color:"indigo-10"},on:{click:function(t){return e.doMainEquipmentRefreshList()}}},[i("q-icon",{attrs:{name:"search"}}),i("q-tooltip",[e._v("Search")])],1)],1)])])]),i("q-table",{attrs:{data:e.listOfEquipment,columns:e.equipmentListColumns,pagination:e.equipmentPagination,"rows-per-page-options":[10,20,50,100,200],"table-header-class":"bg-indigo-2 text-indigo-10","selected-rows-label":e.getSelectedString,selection:"multiple",selected:e.selected,"row-key":"id",dense:""},on:{"update:pagination":function(t){e.equipmentPagination=t},request:e.doMainEquipmentChangePage,"update:selected":function(t){e.selected=t}},scopedSlots:e._u([{key:"body-cell-action",fn:function(t){return i("q-td",{},[i("q-btn-dropdown",{attrs:{rounded:"",size:"sm",color:"indigo-10"}},[i("q-list",[i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""}},[i("q-item-section",[i("q-btn",{attrs:{color:"indigo-6",round:"",size:"sm"},on:{click:function(i){return e.doEdit(t)}}},[i("q-icon",{attrs:{name:"fas fa-edit"}}),i("q-tooltip",[e._v("Edit")])],1)],1)],1),i("q-item",{directives:[{name:"show",rawName:"v-show",value:"FIBERNODE"==t.row.productType,expression:"cell.row.productType == 'FIBERNODE'"},{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""}},[i("q-item-section",[i("q-btn",{attrs:{color:"indigo-6",round:"",size:"sm"},on:{click:function(i){return e.doMainOpenMigrationForm(t)}}},[i("q-icon",{attrs:{name:"fas fa-exchange-alt"}}),i("q-tooltip",[e._v("Migrate")])],1)],1)],1)],1)],1)],1)}}])}),i("q-page-sticky",{attrs:{position:"top-right",offset:[15,30]}},[i("q-fab",{attrs:{color:"orange-7",glossy:"",icon:"keyboard_arrow_down",direction:"down"}},[i("q-btn",{attrs:{round:"",color:"orange-6","text-color":"white",icon:"add"},nativeOn:{click:function(t){return e.getSelectOptionForDetail(t)}}},[i("q-tooltip",[e._v("Add")])],1),i("q-btn",{attrs:{round:"",color:"orange-6","text-color":"white",icon:"backup"},nativeOn:{click:function(t){e.modalUpload=!0}}},[i("q-tooltip",[e._v("Upload")])],1),i("q-btn",{attrs:{round:"",color:"orange-6","text-color":"white"},nativeOn:{click:function(t){return e.downloadExcel(t)}}},[i("q-icon",{attrs:{name:"fas fa-file-excel"}}),i("q-tooltip",[e._v("Download Excel")])],1),i("q-btn",{directives:[{name:"show",rawName:"v-show",value:e.changeAssetStatusVisible(),expression:"changeAssetStatusVisible()"}],attrs:{round:"",color:"orange-5","text-color":"white",icon:"rule"},nativeOn:{click:function(t){e.modalChangeAssetStatus=!0}}},[i("q-tooltip",[e._v("Change Status")])],1)],1)],1),i("q-dialog",{attrs:{maximized:"",persistent:""},on:{"before-hide":function(t){return e.doRefresh()}},model:{value:e.modalAddNewAsset,callback:function(t){e.modalAddNewAsset=t},expression:"modalAddNewAsset"}},[i("q-card",{staticClass:"bg-white"},[i("q-bar",{staticClass:"bg-indigo-10 text-white"},[i("strong",[e._v("Field Equipment Form")]),i("q-space"),i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}})],1),i("div",{staticClass:"row",staticStyle:{"margin-right":"20px","margin-left":"20px","margin-top":"10px","margin-bottom":"40px"}},[i("div",{staticClass:"col",staticStyle:{width:"30%","margin-right":"15px"}},[i("q-input",{attrs:{"stack-label":!0,label:"Equipment Id",readonly:"",tabindex:"1"},model:{value:e.input.id,callback:function(t){e.$set(e.input,"id",t)},expression:"input.id"}})],1),i("div",{staticClass:"col",staticStyle:{width:"30%","margin-right":"15px"}},[i("q-input",{attrs:{"stack-label":!0,label:"Equipment Name",readonly:"",tabindex:"1"},model:{value:e.input.equipmentName,callback:function(t){e.$set(e.input,"equipmentName",t)},expression:"input.equipmentName"}})],1),i("div",{staticClass:"col",staticStyle:{width:"30%"}},[i("q-select",{attrs:{"stack-label":"",label:"Equipment Status",color:"purple-6",options:e.assetStatusList},on:{input:function(t){return e.getDropdownValue("assetStatusForm")}},model:{value:e.input.equipmentUploadStatus,callback:function(t){e.$set(e.input,"equipmentUploadStatus",t)},expression:"input.equipmentUploadStatus"}})],1)]),i("q-expansion-item",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"Basic Information","header-class":"bg-indigo-5 text-white","default-opened":"",icon:"article"}},[i("div",{staticClass:"row",staticStyle:{margin:"20px"}},[i("div",{staticClass:"col",staticStyle:{"margin-right":"10px"}},[i("q-input",{attrs:{"stack-label":!0,label:"Equipment Category",readonly:"",tabindex:"1"},model:{value:e.input.equipmentCategory,callback:function(t){e.$set(e.input,"equipmentCategory",t)},expression:"input.equipmentCategory"}}),i("q-input",{ref:"fEquipmentName",staticStyle:{"margin-top":"20px"},attrs:{readonly:"",rules:[function(e){return!!e||"Equipment Name is required"}],"stack-label":!0,label:"Equipment Name*",tabindex:"2"},model:{value:e.input.equipmentName,callback:function(t){e.$set(e.input,"equipmentName",t)},expression:"input.equipmentName"}}),i("q-input",{attrs:{"stack-label":!0,label:"Description",tabindex:"3"},model:{value:e.input.description,callback:function(t){e.$set(e.input,"description",t)},expression:"input.description"}}),i("q-select",{ref:"fProductType",staticStyle:{"margin-top":"20px"},attrs:{rules:[function(e){return!!e||"Product Type is required"}],"stack-label":!0,label:"Product Type*",options:e.productTypeList,tabindex:"4"},on:{input:function(t){return e.getSubType()}},model:{value:e.input.productType,callback:function(t){e.$set(e.input,"productType",t)},expression:"input.productType"}}),i("q-select",{attrs:{"stack-label":!0,options:e.subTypeList,label:"Product Sub Type",tabindex:"5"},on:{input:function(t){return e.getDropdownValue("productSubType")}},model:{value:e.input.productSubType,callback:function(t){e.$set(e.input,"productSubType",t)},expression:"input.productSubType"}}),i("q-select",{ref:"fProductSeries",staticStyle:{"margin-top":"20px"},attrs:{rules:[function(e){return!!e||"Product Series is required"}],"stack-label":!0,options:e.filteredProductSeries,label:"Product Series",tabindex:"6","use-input":"","fill-input":"","hide-selected":"","input-debounce":"500"},on:{input:function(t){return e.getDropdownValue("productSeriesForm")},filter:e.doProductSeriesFilter},scopedSlots:e._u([{key:"no-option",fn:function(){return[i("q-item",[i("q-item-section",{staticClass:"text-grey"},[e._v("\n                        No results\n                      ")])],1)]},proxy:!0}]),model:{value:e.input.productSeries,callback:function(t){e.$set(e.input,"productSeries",t)},expression:"input.productSeries"}}),i("q-select",{ref:"fManufacturer",attrs:{rules:[function(e){return!!e||"Manufacturer is required"}],"stack-label":!0,label:"Manufacturer*",options:e.manufacturerList,tabindex:"7"},on:{input:function(t){return e.getBrand()}},model:{value:e.input.manufacturer,callback:function(t){e.$set(e.input,"manufacturer",t)},expression:"input.manufacturer"}}),i("q-select",{ref:"fBrand",attrs:{rules:[function(e){return!!e||"Brand is required"}],"stack-label":!0,label:"Brand*",options:e.brandList,tabindex:"8"},on:{input:function(t){return e.getDropdownValue("brand")}},model:{value:e.input.brand,callback:function(t){e.$set(e.input,"brand",t)},expression:"input.brand"}})],1),i("div",{staticClass:"col",staticStyle:{"margin-right":"10px"}},[i("q-select",{attrs:{"stack-label":"",readonly:"",label:"Status",color:"purple-6",options:e.equipmentStatusList,tabindex:"42"},on:{input:function(t){return e.getDropdownValue("equipmentStatusForm")}},model:{value:e.input.equipmentStatus,callback:function(t){e.$set(e.input,"equipmentStatus",t)},expression:"input.equipmentStatus"}}),i("q-select",{ref:"fStatusReason",staticStyle:{"margin-top":"20px"},attrs:{rules:[function(e){return!!e||"Status Reason is required"}],"stack-label":!0,label:"Status Reason*",tabindex:"42",options:e.statusReasonList},on:{input:function(t){return e.getDropdownValue("statusReasonForm")}},model:{value:e.input.statusReason,callback:function(t){e.$set(e.input,"statusReason",t)},expression:"input.statusReason"}}),i("q-input",{attrs:{"stack-label":!0,label:"Serial Number Device",tabindex:"9"},model:{value:e.input.serialNumberDevice,callback:function(t){e.$set(e.input,"serialNumberDevice",t)},expression:"input.serialNumberDevice"}}),i("q-input",{staticStyle:{"margin-top":"20px"},attrs:{"stack-label":!0,label:"Serial Number Internal",tabindex:"10"},model:{value:e.input.serialNumberInternal,callback:function(t){e.$set(e.input,"serialNumberInternal",t)},expression:"input.serialNumberInternal"}}),i("q-input",{ref:"fQuantity",staticStyle:{"margin-top":"20px"},attrs:{rules:[function(e){return!!e||"Quantity is required"}],"stack-label":!0,label:"Quantity*",type:"number",tabindex:"11"},model:{value:e.input.quantity,callback:function(t){e.$set(e.input,"quantity",t)},expression:"input.quantity"}})],1)])]),i("q-expansion-item",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"Location","header-class":"bg-indigo-5 text-white",icon:"location_on"}},[i("div",{staticClass:"row",staticStyle:{margin:"20px"}},[i("div",{staticClass:"col",staticStyle:{"margin-right":"10px"}},[i("q-select",{ref:"fHubCode",staticStyle:{"margin-top":"20px"},attrs:{rules:[function(e){return!!e||"Hub Code is required"}],"stack-label":!0,label:"Hub Code*",tabindex:"15",options:e.hubCodeList},on:{input:function(t){return e.getDropdownValue("hubCodeForm")}},model:{value:e.input.hubCode,callback:function(t){e.$set(e.input,"hubCode",t)},expression:"input.hubCode"}}),i("q-input",{attrs:{"stack-label":!0,label:"BDF Code",tabindex:"17"},model:{value:e.input.bdfCode,callback:function(t){e.$set(e.input,"bdfCode",t)},expression:"input.bdfCode"}}),i("q-input",{staticStyle:{"margin-top":"20px"},attrs:{"stack-label":!0,label:"WDM Code",tabindex:"17"},model:{value:e.input.wdmCode,callback:function(t){e.$set(e.input,"wdmCode",t)},expression:"input.wdmCode"}}),"FIBERNODE"===e.input.productType?i("div",[i("q-input",{directives:[{name:"show",rawName:"v-show",value:e.blueNodeCode,expression:"blueNodeCode"}],ref:"fNodeCodeBlue",staticStyle:{"margin-top":"20px"},attrs:{rules:[function(e){return!!e||"Node Code is required"}],"stack-label":!0,label:"Node Code / FDT Code*",tabindex:"18"},on:{input:e.changeColorNodeCode},model:{value:e.input.nodeCode,callback:function(t){e.$set(e.input,"nodeCode",t)},expression:"input.nodeCode"}}),i("q-input",{directives:[{name:"show",rawName:"v-show",value:e.orangeNodeCode,expression:"orangeNodeCode"}],ref:"fNodeCodeOrange",staticStyle:{"margin-top":"20px"},attrs:{color:"orange","stack-label":!0,label:"Node Code / FDT Code*",rules:[function(e){return!!e||"Node Code is required"}],tabindex:"18"},on:{input:e.changeColorNodeCode},scopedSlots:e._u([{key:"hint",fn:function(){return[i("font",{staticClass:"text-orange"},[e._v("Input Node Code in 8 characters.")])]},proxy:!0}],null,!1,1924323716),model:{value:e.input.nodeCode,callback:function(t){e.$set(e.input,"nodeCode",t)},expression:"input.nodeCode"}})],1):i("div",[i("q-input",{ref:"fNodeCodeElse",staticStyle:{"margin-top":"20px"},attrs:{rules:[function(e){return!!e||"Node Code is required"}],"stack-label":!0,label:"Node Code / FDT Code*",tabindex:"18"},on:{input:e.nodeInput},model:{value:e.input.nodeCode,callback:function(t){e.$set(e.input,"nodeCode",t)},expression:"input.nodeCode"}})],1),"FTTH"===e.input.technology||"WDM"===e.input.productType?i("div",[i("q-input",{staticStyle:{"margin-bottom":"20px"},attrs:{"stack-label":!0,label:"Power Supply Code",tabindex:"19"},model:{value:e.input.psCode,callback:function(t){e.$set(e.input,"psCode",t)},expression:"input.psCode"}})],1):i("div",["POWER SUPPLY"===e.input.productType||"POWER SUPPLY INDOOR"===e.input.productType?i("div",[i("q-input",{directives:[{name:"show",rawName:"v-show",value:e.bluePsCode,expression:"bluePsCode"}],ref:"fPowerSupplyCodeBlue",attrs:{rules:[function(e){return!!e||"Power Supply Code is required"},function(e){return e.length<8||"Please use maximum 7 character"}],"stack-label":!0,label:"Power Supply Code*",tabindex:"19"},on:{input:e.changeColorPsCode},model:{value:e.input.psCode,callback:function(t){e.$set(e.input,"psCode",t)},expression:"input.psCode"}}),i("q-input",{directives:[{name:"show",rawName:"v-show",value:e.orangePsCode,expression:"orangePsCode"}],ref:"fPowerSupplyCodeOrange",attrs:{rules:[function(e){return!!e||"Power Supply Code is required"},function(e){return e.length<8||"Please use maximum 7 character"}],"stack-label":!0,label:"Power Supply Code*",color:"orange",tabindex:"19"},on:{input:e.changeColorPsCode},scopedSlots:e._u([{key:"hint",fn:function(){return[i("font",{staticClass:"text-orange"},[e._v(e._s(e.psCodeWarningText))])]},proxy:!0}],null,!1,3892303760),model:{value:e.input.psCode,callback:function(t){e.$set(e.input,"psCode",t)},expression:"input.psCode"}})],1):i("div",[i("q-input",{ref:"fPowerSupplyCodeElse",attrs:{rules:[function(e){return!!e||"Power Supply Code is required"},function(e){return e.length<8||"Please use maximum 7 character"}],"stack-label":!0,label:"Power Supply Code*",tabindex:"19"},model:{value:e.input.psCode,callback:function(t){e.$set(e.input,"psCode",t)},expression:"input.psCode"}})],1)])],1),i("div",{staticClass:"col",staticStyle:{"margin-right":"10px"}},["AMPLIFIER"===e.input.productType||"AMPLIFIER INDOOR"===e.input.productType?i("div",[i("q-input",{directives:[{name:"show",rawName:"v-show",value:e.blueAmplifierCode,expression:"blueAmplifierCode"}],ref:"fAmplifierCodeBlue",attrs:{rules:[function(e){return!!e||"Amplifier Code is required"}],"stack-label":!0,label:"Amplifier Code / Splitter FTTH Code*",tabindex:"20"},on:{input:e.changeColorAmplifierCode},model:{value:e.input.amplifierCode,callback:function(t){e.$set(e.input,"amplifierCode",t)},expression:"input.amplifierCode"}}),i("q-input",{directives:[{name:"show",rawName:"v-show",value:e.orangeAmplifierCode,expression:"orangeAmplifierCode"}],ref:"fAmplifierCodeOrange",attrs:{rules:[function(e){return!!e||"Amplifier Code is required"}],"stack-label":!0,label:"Amplifier Code / Splitter FTTH Code*",color:"orange",tabindex:"20"},on:{input:e.changeColorAmplifierCode},scopedSlots:e._u([{key:"hint",fn:function(){return[i("font",{staticClass:"text-orange"},[e._v(e._s(e.amplifierCodeWarningText))])]},proxy:!0}],null,!1,3905523090),model:{value:e.input.amplifierCode,callback:function(t){e.$set(e.input,"amplifierCode",t)},expression:"input.amplifierCode"}})],1):i("div",[i("q-input",{staticStyle:{"margin-top":"20px"},attrs:{"stack-label":!0,label:"Amplifier Code / Splitter FTTH Code",tabindex:"20"},model:{value:e.input.amplifierCode,callback:function(t){e.$set(e.input,"amplifierCode",t)},expression:"input.amplifierCode"}})],1),i("q-input",{staticStyle:{"margin-top":"20px"},attrs:{"stack-label":!0,label:"FAT Code",tabindex:"14"},model:{value:e.input.fatCode,callback:function(t){e.$set(e.input,"fatCode",t)},expression:"input.fatCode"}}),"FTTH"===e.input.technology||"FIBERNODE"===e.input.productType||"WDM"===e.input.productType||"POWER SUPPLY"===e.input.productType?i("div",[i("q-input",{staticStyle:{"margin-top":"20px","margin-bottom":"20px"},attrs:{"stack-label":!0,label:"Predecessor",tabindex:"43"},model:{value:e.input.predecessor,callback:function(t){e.$set(e.input,"predecessor",t)},expression:"input.predecessor"}})],1):i("div",[i("q-input",{ref:"fPredecessor",staticStyle:{"margin-top":"20px"},attrs:{rules:[function(e){return!!e||"Predecessor is required"}],"stack-label":!0,label:"Predecessor*",tabindex:"43"},model:{value:e.input.predecessor,callback:function(t){e.$set(e.input,"predecessor",t)},expression:"input.predecessor"}})],1),i("q-input",{ref:"fItCode",attrs:{rules:[function(e){return!!e||"IT Code is required"}],"stack-label":!0,label:"IT Code*",tabindex:"44"},model:{value:e.input.itCode,callback:function(t){e.$set(e.input,"itCode",t)},expression:"input.itCode"}})],1)])]),i("q-expansion-item",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"Detail Information","header-class":"bg-indigo-5 text-white",icon:"library_books"}},[i("div",{staticClass:"row",staticStyle:{margin:"20px"}},[i("div",{staticClass:"col",staticStyle:{"margin-right":"10px"}},[i("q-input",{staticStyle:{"margin-top":"20px"},attrs:{"stack-label":!0,label:"Production Year",tabindex:"33"},model:{value:e.input.productionYear,callback:function(t){e.$set(e.input,"productionYear",t)},expression:"input.productionYear"}}),i("q-input",{staticStyle:{"margin-top":"20px"},attrs:{"stack-label":!0,label:"Asset Lifetime",tabindex:"34"},model:{value:e.input.assetLifetime,callback:function(t){e.$set(e.input,"assetLifetime",t)},expression:"input.assetLifetime"}}),i("q-input",{staticStyle:{"margin-top":"20px"},attrs:{"stack-label":!0,label:"Purchased Date",tabindex:"35"},scopedSlots:e._u([{key:"after",fn:function(){return[i("q-icon",{attrs:{name:"event"}},[i("q-popup-proxy",{ref:"qPurchasedDate",attrs:{"transition-show":"scale","transition-hide":"scale"}},[i("q-date",{attrs:{mask:"DD/MM/YYYY"},on:{input:function(){return e.$refs.qPurchasedDate.hide()}},model:{value:e.input.purchasedDate,callback:function(t){e.$set(e.input,"purchasedDate",t)},expression:"input.purchasedDate"}})],1)],1)]},proxy:!0}]),model:{value:e.input.purchasedDate,callback:function(t){e.$set(e.input,"purchasedDate",t)},expression:"input.purchasedDate"}}),i("q-input",{staticStyle:{"margin-top":"20px"},attrs:{ef:"mInstallationDate",rules:[function(e){return!!e||"Installation Date is required"}],"stack-label":!0,label:"Installation Date*",tabindex:"36"},scopedSlots:e._u([{key:"after",fn:function(){return[i("q-icon",{attrs:{name:"event"}},[i("q-popup-proxy",{ref:"qInstallationDate",attrs:{"transition-show":"scale","transition-hide":"scale"}},[i("q-date",{attrs:{mask:"DD/MM/YYYY"},on:{input:function(){return e.$refs.qInstallationDate.hide()}},model:{value:e.input.installationDate,callback:function(t){e.$set(e.input,"installationDate",t)},expression:"input.installationDate"}})],1)],1)]},proxy:!0}]),model:{value:e.input.installationDate,callback:function(t){e.$set(e.input,"installationDate",t)},expression:"input.installationDate"}}),i("q-input",{attrs:{"stack-label":!0,label:"Installed By",tabindex:"37"},model:{value:e.input.installedBy,callback:function(t){e.$set(e.input,"installedBy",t)},expression:"input.installedBy"}}),i("q-select",{ref:"fService",staticStyle:{"margin-top":"20px"},attrs:{rules:[function(e){return!!e||"Service is required"}],"stack-label":!0,label:"Service*",tabindex:"21",options:e.serviceList},on:{input:function(t){return e.getDropdownValue("serviceForm")}},model:{value:e.input.service,callback:function(t){e.$set(e.input,"service",t)},expression:"input.service"}}),i("q-select",{ref:"fTechnology",attrs:{rules:[function(e){return!!e||"Technology is required"}],"stack-label":!0,label:"Technology*",tabindex:"22",options:e.technologyList},on:{input:function(t){return e.getDropdownValue("technologyForm")}},model:{value:e.input.technology,callback:function(t){e.$set(e.input,"technology",t)},expression:"input.technology"}}),i("q-input",{attrs:{"stack-label":!0,label:"IP Address",tabindex:"23"},model:{value:e.input.ipAddress,callback:function(t){e.$set(e.input,"ipAddress",t)},expression:"input.ipAddress"}}),i("q-input",{staticStyle:{"margin-top":"20px"},attrs:{"stack-label":!0,label:"MAC Address",tabindex:"24"},model:{value:e.input.macAddress,callback:function(t){e.$set(e.input,"macAddress",t)},expression:"input.macAddress"}})],1),i("div",{staticClass:"col"},[i("q-input",{staticStyle:{"margin-top":"20px"},attrs:{"stack-label":!0,label:"Customer Type",tabindex:"24"},model:{value:e.input.customerType,callback:function(t){e.$set(e.input,"customerType",t)},expression:"input.customerType"}}),"FTTH"===e.input.technology||"FIBERNODE"===e.input.productType||"WDM"===e.input.productType?i("div",[i("q-input",{staticStyle:{"margin-top":"20px","margin-bottom":"20px"},attrs:{"stack-label":!0,label:"Capacity",tabindex:"25"},model:{value:e.input.capacity,callback:function(t){e.$set(e.input,"capacity",t)},expression:"input.capacity"}})],1):i("div",[i("q-input",{ref:"fCapacity",staticStyle:{"margin-top":"20px"},attrs:{rules:[function(e){return!!e||"Capacity is required"}],"stack-label":!0,label:"Capacity*",tabindex:"25"},model:{value:e.input.capacity,callback:function(t){e.$set(e.input,"capacity",t)},expression:"input.capacity"}})],1),"FTTH"===e.input.technology||"FIBERNODE"===e.input.productType||"WDM"===e.input.productType?i("div",[i("q-select",{staticStyle:{"margin-bottom":"20px"},attrs:{"stack-label":!0,label:"Capacity Units",tabindex:"26",options:e.capacityUnitsList},on:{input:function(t){return e.getDropdownValue("capacityUnitsForm")}},model:{value:e.input.capacityUnits,callback:function(t){e.$set(e.input,"capacityUnits",t)},expression:"input.capacityUnits"}})],1):i("div",[i("q-select",{ref:"fCapacityUnits",attrs:{rules:[function(e){return!!e||"Capacity Units is required"}],"stack-label":!0,label:"Capacity Units*",tabindex:"26",options:e.capacityUnitsList},on:{input:function(t){return e.getDropdownValue("capacityUnitsForm")}},model:{value:e.input.capacityUnits,callback:function(t){e.$set(e.input,"capacityUnits",t)},expression:"input.capacityUnits"}})],1),i("q-input",{attrs:{"stack-label":!0,label:"Used Capacity",tabindex:"27"},model:{value:e.input.usedCapacity,callback:function(t){e.$set(e.input,"usedCapacity",t)},expression:"input.usedCapacity"}}),i("q-input",{staticStyle:{"margin-top":"20px"},attrs:{"stack-label":!0,label:"Capacity 1",tabindex:"28"},model:{value:e.input.capacity1,callback:function(t){e.$set(e.input,"capacity1",t)},expression:"input.capacity1"}}),i("q-input",{staticStyle:{"margin-top":"20px"},attrs:{"stack-label":!0,label:"Capacity 2",tabindex:"29"},model:{value:e.input.capacity2,callback:function(t){e.$set(e.input,"capacity2",t)},expression:"input.capacity2"}}),i("q-input",{staticStyle:{"margin-top":"20px"},attrs:{"stack-label":!0,label:"Capacity 3",tabindex:"30"},model:{value:e.input.capacity3,callback:function(t){e.$set(e.input,"capacity3",t)},expression:"input.capacity3"}}),i("q-input",{staticStyle:{"margin-top":"20px"},attrs:{"stack-label":!0,label:"No Of Port Front",tabindex:"31"},model:{value:e.input.noOfPortFront,callback:function(t){e.$set(e.input,"noOfPortFront",t)},expression:"input.noOfPortFront"}}),i("q-input",{staticStyle:{"margin-top":"20px"},attrs:{"stack-label":!0,label:"No Of Port Rear",tabindex:"32"},model:{value:e.input.noOfPortRear,callback:function(t){e.$set(e.input,"noOfPortRear",t)},expression:"input.noOfPortRear"}}),i("q-input",{staticStyle:{"margin-top":"20px"},attrs:{"stack-label":!0,label:"Homepassed",tabindex:"32"},model:{value:e.input.homepassed,callback:function(t){e.$set(e.input,"homepassed",t)},expression:"input.homepassed"}}),i("q-input",{staticStyle:{"margin-top":"20px"},attrs:{"stack-label":!0,label:"Internet Account",tabindex:"32"},model:{value:e.input.internetAccount,callback:function(t){e.$set(e.input,"internetAccount",t)},expression:"input.internetAccount"}})],1)])]),i("q-expansion-item",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"Owners Information","header-class":"bg-indigo-5 text-white",icon:"account_circle"}},[i("div",{staticClass:"row",staticStyle:{margin:"20px"}},[i("div",{staticClass:"col",staticStyle:{"margin-right":"10px"}},[i("q-input",{attrs:{"stack-label":!0,label:"PIC",tabindex:"38"},model:{value:e.input.pic,callback:function(t){e.$set(e.input,"pic",t)},expression:"input.pic"}}),i("q-select",{ref:"fDivision",staticStyle:{"margin-top":"20px"},attrs:{rules:[function(e){return!!e||"Division is required"}],"stack-label":!0,label:"Division*",tabindex:"39",options:e.divisionList},on:{input:function(t){return e.getDropdownValue("divisionForm")}},model:{value:e.input.division,callback:function(t){e.$set(e.input,"division",t)},expression:"input.division"}})],1),i("div",{staticClass:"col"},[i("q-select",{ref:"fDepartment",attrs:{rules:[function(e){return!!e||"Department is required"}],"stack-label":!0,label:"Department*",tabindex:"40",options:e.departmentList},on:{input:function(t){return e.getDropdownValue("departmentForm")}},model:{value:e.input.department,callback:function(t){e.$set(e.input,"department",t)},expression:"input.department"}}),i("q-select",{ref:"fPropertyOf",attrs:{rules:[function(e){return!!e||"Property Of is required"}],"stack-label":!0,label:"Property Of*",tabindex:"41",options:e.propertyOfList},on:{input:function(t){return e.getDropdownValue("propertyOf")}},model:{value:e.input.propertyOf,callback:function(t){e.$set(e.input,"propertyOf",t)},expression:"input.propertyOf"}})],1)])]),i("q-expansion-item",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"Detail Location","header-class":"bg-indigo-5 text-white",icon:"dashboard"}},[i("div",{staticClass:"row",staticStyle:{margin:"20px"}},[i("div",{staticClass:"col",staticStyle:{"margin-right":"10px"}},[i("q-input",{attrs:{"stack-label":!0,label:"Building Name",tabindex:"45"},model:{value:e.input.buildingName,callback:function(t){e.$set(e.input,"buildingName",t)},expression:"input.buildingName"}}),i("q-input",{staticStyle:{"margin-top":"20px"},attrs:{"stack-label":!0,label:"Tower",tabindex:"46"},model:{value:e.input.tower,callback:function(t){e.$set(e.input,"tower",t)},expression:"input.tower"}}),i("q-input",{staticStyle:{"margin-top":"20px"},attrs:{"stack-label":!0,label:"Floor",tabindex:"47"},model:{value:e.input.floor,callback:function(t){e.$set(e.input,"floor",t)},expression:"input.floor"}}),i("q-input",{staticStyle:{"margin-top":"20px"},attrs:{"stack-label":!0,label:"Complex Name",tabindex:"48"},model:{value:e.input.complexName,callback:function(t){e.$set(e.input,"complexName",t)},expression:"input.complexName"}}),i("q-input",{staticStyle:{"margin-top":"20px"},attrs:{"stack-label":!0,label:"Normal Distance",tabindex:"54"},model:{value:e.input.normalDistance,callback:function(t){e.$set(e.input,"normalDistance",t)},expression:"input.normalDistance"}})],1),i("div",{staticClass:"col",staticStyle:{"margin-right":"10px"}},[i("q-input",{attrs:{"stack-label":!0,label:"Street Name",tabindex:"49"},model:{value:e.input.streetName,callback:function(t){e.$set(e.input,"streetName",t)},expression:"input.streetName"}}),i("q-input",{staticStyle:{"margin-top":"20px"},attrs:{"stack-label":!0,label:"Street Number",tabindex:"50"},model:{value:e.input.streetNumber,callback:function(t){e.$set(e.input,"streetNumber",t)},expression:"input.streetNumber"}}),i("q-input",{staticStyle:{"margin-top":"20px"},attrs:{"stack-label":!0,label:"District",tabindex:"51"},model:{value:e.input.kelurahan,callback:function(t){e.$set(e.input,"kelurahan",t)},expression:"input.kelurahan"}}),i("q-input",{staticStyle:{"margin-top":"20px"},attrs:{"stack-label":!0,label:"Postal Code",tabindex:"52"},model:{value:e.input.postalCode,callback:function(t){e.$set(e.input,"postalCode",t)},expression:"input.postalCode"}}),i("q-input",{staticStyle:{"margin-top":"20px"},attrs:{"stack-label":!0,label:"Direction",tabindex:"53"},model:{value:e.input.direction,callback:function(t){e.$set(e.input,"direction",t)},expression:"input.direction"}}),i("q-input",{staticStyle:{"margin-top":"20px"},attrs:{"stack-label":!0,label:"Update Distance Date",tabindex:"55"},scopedSlots:e._u([{key:"after",fn:function(){return[i("q-icon",{attrs:{name:"event"}},[i("q-popup-proxy",{ref:"qUpdateDistanceDate",attrs:{"transition-show":"scale","transition-hide":"scale"}},[i("q-date",{attrs:{mask:"DD/MM/YYYY"},on:{input:function(){return e.$refs.qUpdateDistanceDate.hide()}},model:{value:e.input.updateDistanceDate,callback:function(t){e.$set(e.input,"updateDistanceDate",t)},expression:"input.updateDistanceDate"}})],1)],1)]},proxy:!0}]),model:{value:e.input.updateDistanceDate,callback:function(t){e.$set(e.input,"updateDistanceDate",t)},expression:"input.updateDistanceDate"}})],1)])]),i("q-expansion-item",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"Migration History","header-class":"bg-indigo-5 text-white",icon:"grading"}},[i("div",{staticClass:"row",staticStyle:{margin:"20px"}},[i("q-table",{attrs:{data:e.migrationHistoryList,columns:e.migrationColumns,pagination:e.pagination,"table-header-class":"text-white bg-indigo-8","row-key":"id",dense:""},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"body-cell-historyDate",fn:function(t){return i("q-td",{},[e._v("\n                  "+e._s(e._f("formatDate")(t.row.historyDate))+"\n                ")])}}])})],1)]),i("q-separator"),i("div",{staticStyle:{margin:"20px",width:"50%"},attrs:{align:"right"}},[i("q-input",{staticStyle:{"margin-top":"20px"},attrs:{"stack-label":!0,label:"Remarks",tabindex:"56",type:"textarea"},model:{value:e.input.remarks,callback:function(t){e.$set(e.input,"remarks",t)},expression:"input.remarks"}})],1),i("div",{staticStyle:{margin:"20px"},attrs:{align:"right"}},[i("q-btn",{attrs:{round:"",color:"orange",icon:"save"},nativeOn:{click:function(t){return e.saveEquipment(t)}}},[i("q-tooltip",[e._v("Submit")])],1)],1)],1)],1),i("q-dialog",{attrs:{persistent:""},on:{"before-hide":function(t){return e.doHideButton()}},model:{value:e.modalUpload,callback:function(t){e.modalUpload=t},expression:"modalUpload"}},[i("q-card",{staticClass:"bg-white"},[i("q-bar",{staticClass:"bg-indigo-10 text-white"},[i("strong",[e._v("Upload Equipment File")]),i("q-space"),i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}})],1),i("q-card-section",[i("a",{attrs:{href:"/statics/template/Form Upload - Field.xlsx"}},[e._v("Download Template\n              "),i("q-tooltip",[e._v("Form Upload - Field.xlsx")])],1)]),i("q-card-section",[i("q-input",{attrs:{type:"file"},on:{input:function(t){e.doAttachFile(t[0])}}}),i("div",{staticStyle:{"margin-top":"10px"},attrs:{align:"right"}},[i("q-btn",{directives:[{name:"show",rawName:"v-show",value:e.uploadButton,expression:"uploadButton"}],attrs:{round:"",color:"orange-5"},on:{click:function(t){return e.doUploadFile()}}},[i("q-icon",{attrs:{name:"fas fa-file-upload"}}),i("q-tooltip",[e._v("Upload")])],1)],1)],1)],1)],1),i("q-dialog",{attrs:{persistent:""},model:{value:e.modalSuccess,callback:function(t){e.modalSuccess=t},expression:"modalSuccess"}},[i("q-card",{staticClass:"bg-white"},[i("q-bar",{staticClass:"bg-white text-indigo-10"},[i("strong"),i("q-space"),i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}})],1),i("q-card-section",[i("div",{staticClass:"text-green",attrs:{align:"center"}},[i("q-icon",{attrs:{size:"50px",name:"check"}})],1),i("div",{staticClass:"text-green",attrs:{align:"center"}},[e._v(e._s(e.succesMessage))]),i("div",{staticStyle:{"margin-top":"20px"},attrs:{align:"right"}},[i("q-btn",{attrs:{round:"",color:"orange-4"},on:{click:function(t){return e.doUploadAfterWarning()}}},[i("q-icon",{attrs:{name:"fas fa-file-upload"}}),i("q-tooltip",[e._v("Upload Data")])],1)],1)])],1)],1),i("q-dialog",{attrs:{persistent:""},model:{value:e.modalError,callback:function(t){e.modalError=t},expression:"modalError"}},[i("q-card",{staticClass:"bg-white"},[i("q-bar",{staticClass:"bg-negative text-white"},[i("strong",[e._v("Error")]),i("q-space"),i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}})],1),i("q-card-section",[i("q-table",{attrs:{data:e.listOfError,columns:e.errorListColumn,dense:""},scopedSlots:e._u([{key:"body-cell-message",fn:function(t){return i("q-td",{},[i("div",{staticClass:"text-red bg-white"},[e._v("\n                "+e._s(t.row.message)+"\n              ")])])}}])})],1),i("q-card-section",[i("div",{attrs:{align:"right"}},[i("q-btn",{attrs:{round:"",color:"orange-9","text-color":"white"},nativeOn:{click:function(t){return e.errorExcelDownload()}}},[i("q-icon",{attrs:{name:"get_app"}}),i("q-tooltip",[e._v("Download to Excel File")])],1)],1)])],1)],1),i("q-dialog",{attrs:{persistent:""},model:{value:e.modalWarning,callback:function(t){e.modalWarning=t},expression:"modalWarning"}},[i("q-card",{staticClass:"bg-white"},[i("q-bar",{staticClass:"bg-orange text-white"},[i("strong",[e._v("Warning")]),i("q-space"),i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}})],1),i("q-card-section",[i("q-table",{attrs:{data:e.listOfError,columns:e.errorListColumn,dense:""},scopedSlots:e._u([{key:"body-cell-message",fn:function(t){return i("q-td",{},[i("div",{staticClass:"text-orange bg-white"},[e._v("\n                "+e._s(t.row.message)+"\n              ")])])}}])}),i("div",{staticStyle:{"margin-top":"20px"},attrs:{align:"right"}},[i("q-btn",{attrs:{round:"",color:"primary"},on:{click:function(t){return e.doUploadAfterWarning()}}},[i("q-icon",{attrs:{name:"fas fa-file-upload"}}),i("q-tooltip",[e._v("Upload Data")])],1)],1)],1)],1)],1),i("q-dialog",{attrs:{persistent:""},model:{value:e.modalChangeAssetStatus,callback:function(t){e.modalChangeAssetStatus=t},expression:"modalChangeAssetStatus"}},[i("q-card",{staticClass:"bg-white"},[i("q-bar",{staticClass:"bg-indigo-10 text-white"},[i("strong",[e._v("Change Status")]),i("q-space"),i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}})],1),i("q-card-section",[i("q-input",{staticStyle:{"margin-top":"20px"},attrs:{"stack-label":!0,label:"Selected Equipment",readonly:""},model:{value:e.selected.length,callback:function(t){e.$set(e.selected,"length",t)},expression:"selected.length"}}),i("q-select",{attrs:{"stack-label":"",label:"Asset Status",options:e.assetStatusList},on:{input:function(t){return e.getDropdownValue("assetStatusSelectForm")}},model:{value:e.groupSelect.assetStatus,callback:function(t){e.$set(e.groupSelect,"assetStatus",t)},expression:"groupSelect.assetStatus"}}),i("div",{staticStyle:{"margin-top":"20px"},attrs:{align:"right"}},[i("q-btn",{directives:[{name:"show",rawName:"v-show",value:e.btnChangeStatus,expression:"btnChangeStatus"}],attrs:{round:"",color:"orange-5",icon:"save"},nativeOn:{click:function(t){return e.changeSelectedStatus(t)}}},[i("q-tooltip",[e._v("Submit")])],1)],1)],1)],1)],1),i("q-dialog",{attrs:{persistent:""},model:{value:e.modalWarningLoad,callback:function(t){e.modalWarningLoad=t},expression:"modalWarningLoad"}},[i("q-card",{staticClass:"bg-warning"},[i("q-bar",{staticClass:"bg-warning text-white"},[i("strong"),i("q-space"),i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}})],1),i("q-card-section",[e._v("\n          Are you sure to load "+e._s(this.equipmentPagination.rowsNumber)+" data?\n          "),i("div",{staticStyle:{"margin-top":"20px"},attrs:{align:"right"}},[i("q-btn",{attrs:{round:"",color:"white"},nativeOn:{click:function(t){return e.doMainEquipmentChangePageAfterWarning(t)}}},[i("q-icon",{staticStyle:{"font-size":"20px"},attrs:{name:"done",color:"primary"}}),i("q-tooltip",[e._v("yes")])],1)],1)])],1)],1),i("q-dialog",{attrs:{maximized:!0,persistent:""},model:{value:e.showMigrationForm,callback:function(t){e.showMigrationForm=t},expression:"showMigrationForm"}},[i("q-card",{staticClass:"bg-white"},[i("q-bar",{staticClass:"bg-indigo-8 text-white"},[i("strong",[e._v("Migration")]),i("q-space"),i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}})],1),i("q-card-section",[i("q-stepper",{ref:"stepper",staticStyle:{"max-width":"100%"},attrs:{color:"primary",animated:"","inactive-color":"warning","done-color":"positive"},on:{"before-transition":function(t){return e.doMigrationCheckStep()}},scopedSlots:e._u([{key:"navigation",fn:function(){return[i("q-stepper-navigation",[i("q-btn",{directives:[{name:"show",rawName:"v-show",value:3!==e.migrationStep,expression:"migrationStep !== 3"}],attrs:{color:"indigo-9",label:"Continue"},on:{click:function(t){return e.$refs.stepper.next()}}}),i("q-btn",{directives:[{name:"show",rawName:"v-show",value:3===e.migrationStep,expression:"migrationStep === 3"}],attrs:{color:"indigo-9",label:"Finalize",disable:e.validationResults.length>0},on:{click:function(t){return e.doMigrationExecute()}}}),e.migrationStep>1?i("q-btn",{staticClass:"q-ml-sm",attrs:{flat:"",color:"indigo-9",label:"Back"},on:{click:function(t){return e.$refs.stepper.previous()}}}):e._e()],1)]},proxy:!0}]),model:{value:e.migrationStep,callback:function(t){e.migrationStep=t},expression:"migrationStep"}},[i("q-step",{attrs:{name:1,done:e.migrationStep>1,title:"Setup Destination"}},[i("div",{staticClass:"row",staticStyle:{"margin-bottom":"10px"}},[i("q-option-group",{staticStyle:{margin:"10px 0px 0px 0px"},attrs:{options:e.moveNodeOptions,inline:""},on:{input:function(t){return e.doMigrationChangeMoveNodeOption()}},model:{value:e.equipmentToMigrate.selectedMoveNodeOption,callback:function(t){e.$set(e.equipmentToMigrate,"selectedMoveNodeOption",t)},expression:"equipmentToMigrate.selectedMoveNodeOption"}})],1),i("br"),i("div",{staticClass:"row",staticStyle:{width:"60%","margin-bottom":"10px"}},[i("div",{staticClass:"col",staticStyle:{"margin-right":"20px"}},[i("q-input",{attrs:{readonly:"",label:"Source Hub"},model:{value:e.equipmentToMigrate.hubCode,callback:function(t){e.$set(e.equipmentToMigrate,"hubCode",t)},expression:"equipmentToMigrate.hubCode"}})],1),i("div",{staticClass:"col",staticStyle:{"margin-right":"20px"}},[i("q-select",{attrs:{label:"Destination Hub",options:e.hubCodeList},on:{input:function(t){return e.doMigrationChangeHub()}},model:{value:e.hubCodeName,callback:function(t){e.hubCodeName=t},expression:"hubCodeName"}})],1),i("div",{staticClass:"col",staticStyle:{"margin-right":"20px"}},[i("q-input",{attrs:{"stack-label":!0,label:"Migration Date",tabindex:"35"},scopedSlots:e._u([{key:"after",fn:function(){return[i("q-icon",{attrs:{name:"event"}},[i("q-popup-proxy",{ref:"qPurchasedDate",attrs:{"transition-show":"scale","transition-hide":"scale"}},[i("q-date",{attrs:{mask:"DD/MM/YYYY"},on:{input:function(){return e.$refs.qPurchasedDate.hide()}},model:{value:e.equipmentToMigrate.date,callback:function(t){e.$set(e.equipmentToMigrate,"date",t)},expression:"equipmentToMigrate.date"}})],1)],1)]},proxy:!0}]),model:{value:e.equipmentToMigrate.date,callback:function(t){e.$set(e.equipmentToMigrate,"date",t)},expression:"equipmentToMigrate.date"}})],1)]),i("div",{staticClass:"row",staticStyle:{width:"60%"}},[i("div",{staticClass:"col",staticStyle:{"margin-right":"20px"}},[i("q-input",{attrs:{readonly:"",label:"Source Node"},model:{value:e.equipmentToMigrate.nodeCode,callback:function(t){e.$set(e.equipmentToMigrate,"nodeCode",t)},expression:"equipmentToMigrate.nodeCode"}})],1),i("div",{staticClass:"col",staticStyle:{"margin-right":"20px"}},[i("q-select",{attrs:{"stack-label":"",label:"Hub Code",options:e.hubCodeServiceSelected},on:{input:function(t){return e.doMigrationChangeHubCode()}},model:{value:e.hubCodeService,callback:function(t){e.hubCodeService=t},expression:"hubCodeService"}})],1),i("div",{staticClass:"col",staticStyle:{"margin-right":"20px"}},[i("q-input",{ref:"destinationNodeRef",staticClass:"text-uppercase",attrs:{"stack-label":!0,prefix:e.nodePrefixByHub,label:"Destination Node",oninput:"this.value = this.value.toUpperCase()",rules:[function(e){return!!e||"Destination Node is required"}]},on:{input:e.doMergeSelectedNewNode},model:{value:e.equipmentToMigrate.newNodeNumber,callback:function(t){e.$set(e.equipmentToMigrate,"newNodeNumber",t)},expression:"equipmentToMigrate.newNodeNumber"}})],1)]),i("div",{staticClass:"row",staticStyle:{width:"60%","margin-bottom":"10px"}},[i("div",{staticClass:"col",staticStyle:{"margin-right":"20px"}},[i("q-input",{attrs:{"stack-label":"",label:"Source Desctription"},model:{value:e.equipmentToMigrate.description,callback:function(t){e.$set(e.equipmentToMigrate,"description",t)},expression:"equipmentToMigrate.description"}})],1),i("div",{staticClass:"col",staticStyle:{"margin-right":"20px"}},[i("q-input",{ref:"newDescriptionRef",attrs:{"stack-label":"",rules:[function(e){return!!e||"Destination Description is required"}],label:"Destination Desctription"},model:{value:e.equipmentToMigrate.newDescription,callback:function(t){e.$set(e.equipmentToMigrate,"newDescription",t)},expression:"equipmentToMigrate.newDescription"}})],1),i("div",{staticClass:"col",staticStyle:{"margin-right":"20px"}})])]),i("q-step",{attrs:{name:2,title:"Setup New Hierarchy",done:e.migrationStep>2}},[i("q-tabs",{staticClass:"bg-indigo-1 text-indigo-4 shadow-1",attrs:{dense:"","active-color":"indigo-10","indicator-color":"primary",align:"justify","narrow-indicator":""},model:{value:e.migrationTab,callback:function(t){e.migrationTab=t},expression:"migrationTab"}},[i("q-tab",{attrs:{name:"original",label:"Original"}}),i("q-tab",{attrs:{name:"newConfig",label:"New Configuration",default:""}})],1),i("q-tab-panels",{attrs:{animated:""},model:{value:e.migrationTab,callback:function(t){e.migrationTab=t},expression:"migrationTab"}},[i("q-tab-panel",{attrs:{name:"original"}},[i("q-table",{attrs:{data:e.migrationListOriginal,columns:e.migrationOriginalColumns,"table-header-class":"text-indigo-6 bg-indigo-1",pagination:e.migrationOriginalPagination,dense:"","row-key":"id"},on:{"update:pagination":function(t){e.migrationOriginalPagination=t}}})],1),i("q-tab-panel",{attrs:{name:"newConfig"}},[i("q-bar",{staticClass:"bg-white"},[i("div",{staticClass:"row",staticStyle:{width:"40%"}},[i("div",{staticClass:"col"},[i("strong",[e._v("Source Node:\n                          "),i("font",{staticStyle:{color:"green"}},[e._v("\n                            "+e._s(e.equipmentToMigrate.nodeCode)+"\n                          ")])],1),i("q-space")],1),i("div",{staticClass:"col"},[i("strong",[e._v("Target Node:\n                          "),i("font",{staticStyle:{color:"green"}},[e._v("\n                            "+e._s(e.equipmentToMigrate.newNodeCode)+"\n                          ")])],1),i("q-space")],1)])]),i("q-bar",{staticClass:"bg-white"},[i("div",{staticClass:"row",staticStyle:{width:"40%"}},[i("div",{staticClass:"col"},[i("strong",[e._v("Migration Type:\n                          "),i("font",{staticStyle:{color:"green"}},[e._v("\n                            "+e._s(e.migrationType)+"\n                          ")])],1)]),i("div",{staticClass:"col"},[i("strong",[e._v("Migration Date:\n                          "),i("font",{staticStyle:{color:"green"}},[e._v("\n                            "+e._s(e.equipmentToMigrate.date)+"\n                          ")])],1)])]),i("q-space"),i("q-btn",{directives:[{name:"show",rawName:"v-show",value:e.isMigrationAddPowerSupplyVisible(),expression:"isMigrationAddPowerSupplyVisible()"}],staticStyle:{"margin-right":"10px"},attrs:{round:"",color:"primary",size:"sm"},on:{click:function(t){return e.doMigrationAddPowerSupply()}}},[i("q-icon",{attrs:{name:"fas fa-car-battery"}}),i("q-tooltip",[e._v("Add New Equipment")])],1)],1),i("br"),i("q-table",{attrs:{data:e.equipmentToMigrate.migrationListNew,columns:e.migrationNewColumns,"table-header-class":"text-indigo-6 bg-indigo-1",pagination:e.migrationNewPagination,dense:"","row-key":"id"},on:{"update:pagination":function(t){e.migrationNewPagination=t}},scopedSlots:e._u([{key:"body-cell-newName",fn:function(t){return i("q-td",{attrs:{align:"center"}},[!1===t.row.migrate?i("div",{staticClass:"text-red"},[e._v("\n                          "+e._s(t.row.newName)+"\n                          "),i("q-tooltip",[e._v("Stay")])],1):"Inactive"===t.row.assetStatus?i("div",{staticClass:"text-red"},[e._v("\n                          "+e._s(t.row.newName)+"\n                          "),i("q-tooltip",[e._v("Inactive")])],1):"Replace"===t.row.assetStatus?i("div",{staticClass:"text-blue"},[e._v("\n                          "+e._s(t.row.newName)+"\n                          "),i("q-tooltip",[e._v("Replace")])],1):i("div",{staticClass:"text-green"},[e._v("\n                          "+e._s(t.row.newName)+"\n                          "),i("q-tooltip",[e._v("Migrate")])],1),i("q-popup-edit",{model:{value:t.row.newName,callback:function(i){e.$set(t.row,"newName",i)},expression:"cell.row.newName"}},[i("q-input",{attrs:{dense:"",prefix:e.getMigrationEquipmentPrefix(t.row),mask:void 0!==t.row.equipmentName&&"POWER SUPPLY"===t.row.productType?"A":"XXXX","unmasked-value":""},on:{input:function(i){return e.doMigrationChangeEquipmentName(t.row)}},model:{value:t.row.newNumber,callback:function(i){e.$set(t.row,"newNumber",i)},expression:"cell.row.newNumber"}})],1)],1)}},{key:"body-cell-productType",fn:function(t){return i("q-td",{style:t.row.migrate?"color:#3a6":"color:#c63",attrs:{align:"center"}},[i("q-select",{attrs:{options:e.newProductTypeList},on:{input:function(i){return e.doMigrationChangeProductType(t.row)}},model:{value:t.row.productType,callback:function(i){e.$set(t.row,"productType",i)},expression:"cell.row.productType"}})],1)}},{key:"body-cell-newPredecessor",fn:function(t){return i("q-td",{attrs:{align:"center"}},[!1===t.row.migrate?i("div",{staticClass:"text-red"},[e._v("\n                          "+e._s(t.row.newPredecessor)+"\n                          "),i("q-tooltip",[e._v("Stay")])],1):"Inactive"===t.row.assetStatus?i("div",{staticClass:"text-red"},[e._v("\n                          "+e._s(t.row.newPredecessor)+"\n                          "),i("q-tooltip",[e._v("Inactive")])],1):"Replace"===t.row.assetStatus?i("div",{staticClass:"text-blue"},[e._v("\n                          "+e._s(t.row.newPredecessor)+"\n                          "),i("q-tooltip",[e._v("Replace")])],1):i("div",{staticClass:"text-green"},[e._v("\n                          "+e._s(t.row.newPredecessor)+"\n                          "),i("q-tooltip",[e._v("Migrate")])],1),i("q-popup-edit",{attrs:{disable:"FIBERNODE"===t.row.productType||"POWER SUPPLY"===t.row.productType},model:{value:t.row.newPredecessor,callback:function(i){e.$set(t.row,"newPredecessor",i)},expression:"cell.row.newPredecessor"}},[i("q-input",{attrs:{dense:"",prefix:e.getMigrationEquipmentPrefix(t.row),mask:"XXXX"},on:{input:function(i){return e.doMigrationChangePredecessor(t.row)}},model:{value:t.row.newPredecessorNumber,callback:function(i){e.$set(t.row,"newPredecessorNumber",i)},expression:"cell.row.newPredecessorNumber"}})],1)],1)}},{key:"body-cell-newPsCode",fn:function(t){return i("q-td",{attrs:{align:"center"}},[!1===t.row.migrate?i("div",{staticClass:"text-red"},[e._v("\n                          "+e._s(t.row.newPsCode)+"\n                          "),i("q-tooltip",[e._v("Stay")])],1):"Inactive"===t.row.assetStatus?i("div",{staticClass:"text-red"},[e._v("\n                          "+e._s(t.row.newPsCode)+"\n                          "),i("q-tooltip",[e._v("Inactive")])],1):"Replace"===t.row.assetStatus?i("div",{staticClass:"text-blue"},[e._v("\n                          "+e._s(t.row.newPsCode)+"\n                          "),i("q-tooltip",[e._v("Replace")])],1):i("div",{staticClass:"text-green"},[e._v("\n                          "+e._s(t.row.newPsCode)+"\n                          "),i("q-tooltip",[e._v("Migrate")])],1),i("q-popup-edit",{attrs:{disable:"PS"===t.row.productType},model:{value:t.row.newPsCode,callback:function(i){e.$set(t.row,"newPsCode",i)},expression:"cell.row.newPsCode"}},[i("q-input",{attrs:{dense:"",mask:"AAA###A"},model:{value:t.row.newPsCode,callback:function(i){e.$set(t.row,"newPsCode",i)},expression:"cell.row.newPsCode"}})],1)],1)}},{key:"body-cell-action",fn:function(t){return i("q-td",{attrs:{align:"center"}},[i("q-btn-dropdown",{attrs:{rounded:"",size:"sm",color:"blue-10"}},[i("q-list",[i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""}},[i("q-item-section",[i("q-btn",{directives:[{name:"show",rawName:"v-show",value:e.isMigrationStayOrMoveVisible(t.row),expression:"isMigrationStayOrMoveVisible(cell.row) "}],staticStyle:{margin:"5px"},attrs:{round:"",color:"primary",size:"sm"},on:{click:function(i){return e.doMigrationStayOrMove(t.row)}}},[i("q-icon",{attrs:{name:t.row.migrate?"fas fa-angle-double-down":"fas fa-angle-double-right"}}),i("q-tooltip",[e._v(e._s(t.row.migrate?"Stay":"Move"))])],1),i("q-btn",{directives:[{name:"show",rawName:"v-show",value:e.isMigrationRemoveVisible(t.row),expression:"isMigrationRemoveVisible(cell.row)"}],staticStyle:{margin:"5px"},attrs:{round:"",icon:"delete_outline",color:"primary",size:"sm"},on:{click:function(i){return e.doRemove(t)}}},[i("q-tooltip",[e._v("Romove")])],1),i("q-btn",{directives:[{name:"show",rawName:"v-show",value:e.isMigrationInactiveVisible(t.row),expression:"isMigrationInactiveVisible(cell.row)"}],staticStyle:{margin:"5px"},attrs:{round:"",color:"primary",size:"sm"},on:{click:function(i){return e.doInactive(t.row)}}},[i("q-icon",{attrs:{name:"Inactive"===t.row.assetStatus?"done":"clear"}}),i("q-tooltip",[e._v(e._s("Inactive"===t.row.assetStatus?"Active":"Inactive"))])],1),i("q-btn",{directives:[{name:"show",rawName:"v-show",value:e.isMigrationReplaceVisible(t.row),expression:"isMigrationReplaceVisible(cell.row)"}],staticStyle:{margin:"5px"},attrs:{round:"",icon:"compare_arrows",color:"primary",size:"sm"},on:{click:function(i){return e.doReplace(t.row)}}},[i("q-tooltip",[e._v("Replace")])],1)],1)],1)],1)],1)],1)}}])})],1)],1)],1),i("q-step",{attrs:{name:3,title:"Validation"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.validationResults.length>0,expression:"validationResults.length > 0"}]},e._l(e.validationResults,(function(t){return i("q-chip",{key:t.id,attrs:{color:"red","text-color":"white"}},[e._v("\n                    "+e._s(t.message)+"\n                  ")])})),1),i("div",{directives:[{name:"show",rawName:"v-show",value:0===e.validationResults.length,expression:"validationResults.length === 0"}],staticClass:"q-pa-md row items-start q-gutter-md"},[i("q-card",{directives:[{name:"show",rawName:"v-show",value:"N"!==e.equipmentToMigrate.selectedMoveNodeOption,expression:"equipmentToMigrate.selectedMoveNodeOption !== 'N'"}],staticClass:"preview-tree-card"},[i("q-card-section",[i("q-tree",{ref:"sourcePreview",attrs:{nodes:e.sourcePreview,"node-key":"label","default-expand-all":""},scopedSlots:e._u([{key:"default-header",fn:function(t){return[i("span",{staticClass:"row items-center"},["Inactive"===t.node.status?i("span",{staticClass:"text-weight-bold text-red"},[e._v(e._s(t.node.label))]):"New"===t.node.status?i("span",{staticClass:"text-weight-bold text-orange"},[e._v(e._s(t.node.label))]):i("span",{staticClass:"text-weight-bold text-blue"},[e._v(e._s(t.node.label))]),t.node.label!==t.node.original&&void 0!==t.node.original?i("span",{staticClass:"text-weight-bold text-black"},[e._v("\n                                  ["+e._s(t.node.original)+"]\n                            ")]):e._e()])]}}])})],1)],1),i("q-card",{staticClass:"preview-tree-card"},[i("q-card-section",[i("q-tree",{ref:"targetPreview",attrs:{nodes:e.targetPreview,"node-key":"label","default-expand-all":""},scopedSlots:e._u([{key:"default-header",fn:function(t){return[i("span",{staticClass:"row items-center"},["Inactive"===t.node.status?i("span",{staticClass:"text-weight-bold text-red"},[e._v(e._s(t.node.label))]):"New"===t.node.status?i("span",{staticClass:"text-weight-bold text-orange"},[e._v(e._s(t.node.label))]):i("span",{staticClass:"text-weight-bold text-green"},[e._v(e._s(t.node.label))]),t.node.label!==t.node.original&&void 0!==t.node.original?i("span",{staticClass:"text-weight-bold text-black"},[e._v("\n                                  ["+e._s(t.node.original)+"]\n                            ")]):e._e()])]}}])})],1)],1),i("div",{staticStyle:{"margin-top":"20px",width:"40%"}},[i("q-input",{attrs:{type:"textarea","stack-label":"",label:"Remarks"},model:{value:e.equipmentToMigrate.remarks,callback:function(t){e.$set(e.equipmentToMigrate,"remarks",t)},expression:"equipmentToMigrate.remarks"}})],1)],1)])],1)],1)],1)],1)],1)],1)],1)},n=[],o=(i("6762"),i("2fdb"),i("7f7f"),i("6b54"),i("06db"),i("55dd"),i("20d6"),i("28a5"),i("c1df")),s=i.n(o),r=i("3a5f"),l={mixins:[r["a"]],data:function(){return{isActive:!1,equipmentStatusListSearch:[],productTypeListSearch:[],assetStatusListSearch:[],technologyListSearch:[],hubCodeListSearch:[],hubCodeName:"",migrationHistoryList:[],selected:[],colorLabel:"orange",bluePsCode:!1,uploadButton:!1,orangePsCode:!0,psCodeWarningText:"",blueNodeCode:!1,orangeNodeCode:!0,blueAmplifierCode:!1,orangeAmplifierCode:!0,amplifierCodeWarningText:"",file:void 0,fileAttach:{fileName:"",file64:"",equipmentCategory:"Field"},productTypeList:[],newProductTypeList:["AMPLIFIER","POWER SUPPLY","FIBERNODE"],hubCodeList:[],filteredHubCode:[],productSeriesList:[],filteredProductSeries:[],bdfCodeList:[],filteredBdfCode:[],subTypeList:[],hubCodeRoomList:[],technologyList:[],serviceList:[],capacityUnitsList:[],departmentList:[],divisionList:[],statusReasonList:[],propertyOfList:[],manufacturerList:[],brandList:[],equipmentStatusList:[],assetStatusList:[],assetStatusFormList:[],hubCodeServiceList:[],hubCodeServiceSelected:[],migrationType:"",input:{id:"",equipmentCategory:"Field",equipmentName:"",description:"",productType:"",productSubType:"",productSeries:"",manufacturer:"",brand:"",serialNumberDevice:"",serialNumberInternal:"",quantity:"",rack:"",chassis:"",slot:"",hubCode:"",hubAddress:"",bdfCode:"",nodeCode:"",psCode:"",amplifierCode:"",fatCode:"",service:"",technology:"",ipAddress:"",macAddress:"",capacity:"",capacityUnits:"",usedCapacity:"",capacity1:"",capacity2:"",capacity3:"",noOfPortFront:"",noOfPortRear:"",productionYear:"",assetLifetime:"",purchasedDate:"",installationDate:"",installedBy:"",pic:"",division:"",department:"",propertyOf:"",equipmentStatus:"",predecessor:"",itCode:"",buildingName:"",tower:"",floor:"",complexName:"",streetName:"",streetNumber:"",kelurahan:"",postalCode:"",direction:"",normalDistance:"",updateDistanceDate:"",remarks:"",cascades:"",amplifierNotes:"",homepassed:"",internetAccount:"",customerType:"",memoActiveDate:"",electricalStatus:"",lastModifiedByExcel:"",isComplete:""},equipmentCategoryList:["Hub","Field","Network"],searchVal:{id:"",equipmentCategory:"Field",productType:"ALL",productSeries:"ALL",hubCode:"ALL",bdfCode:"ALL",nodeCode:"",assetStatus:"ALL",equipmentStatus:"ALL",equipmentName:"",logBatch:"",technology:"ALL",wdmCode:""},groupSelect:{assetStatus:"",assetId:[]},equipmentListColumns:[{name:"id",label:"Equipment Id",field:"id",align:"left",sortable:!0},{name:"equipmentName",label:"Equipment Name",field:"equipmentName",align:"left",sortable:!0},{name:"description",label:"Description",field:"description",align:"left",sortable:!0},{name:"productType",label:"Product Type",field:"productType",align:"left",sortable:!0},{name:"productSeries",label:"Product Series",field:"productSeries",align:"left",sortable:!0},{name:"brand",label:"Brand",field:"brand",align:"left",sortable:!0},{name:"hubCode",label:"Hub Code",field:"hubCode",align:"left",sortable:!0},{name:"bdfCode",label:"BDF Code",field:"bdfCode",align:"left",sortable:!0},{name:"department",label:"Department",field:"department",align:"left",sortable:!0},{name:"equipmentUploadStatus",label:"Equipment Status",field:"equipmentUploadStatus",align:"left",sortable:!0},{name:"equipmentStatus",label:"Status",field:"equipmentStatus",align:"left",sortable:!0},{name:"action",label:"Action",align:"center"}],migrationColumns:[{name:"newProductType",label:"Product Type",field:"newProductType",align:"left",style:"width: 200px",sortable:!0},{name:"originalCode",label:"Source Code",field:"originalCode",align:"left",style:"width: 200px",sortable:!0},{name:"newCode",label:"New Code",field:"newCode",align:"left",sortable:!0},{name:"originalHub",label:"Source Hub",field:"originalHub",align:"left",style:"width: 200px",sortable:!0},{name:"newHub",label:"New Hub",field:"newHub",align:"left",sortable:!0},{name:"assetStatus",label:"Asset Status",field:"assetStatus",align:"left",style:"width: 200px",sortable:!0},{name:"historyDate",label:"Migration Date",field:"historyDate",align:"left",style:"width: 200px",sortable:!0},{name:"migrationType",label:"Migration Type",field:"migrationType",align:"left",style:"width: 200px",sortable:!0}],equipmentPagination:{sortBy:"equipmentName",descending:!1,page:1,rowsPerPage:10,rowsNumber:0},paramsPagination:{pageIndex:"",pageSize:"",searchVal:"",sortBy:"",descending:""},errorListColumn:[{name:"message",label:"Error Message",field:"message",align:"left"}],listOfEquipment:[],listOfError:[],modalUpload:!1,modalSuccess:!1,modalError:!1,modalWarning:!1,modalAddNewAsset:!1,modalChangeAssetStatus:!1,addHub:!0,modalAddField:!1,modalAddNetwork:!1,modalWarningLoad:!1,uploadCategory:"field",migrationStep:1,showMigrationForm:!1,migrationTab:"newConfig",reloadMigrationList:!0,succesMessage:"",equipmentToMigrate:{hubCode:void 0,nodeCode:void 0,service:void 0,newHubCode:void 0,newNodeCode:void 0,newNodeNumber:void 0,newServiceNodeNumber:void 0,selectedNewNode:void 0,selectedMoveNodeOption:void 0,isNewNode:!1,description:"",newDescription:"",remarks:"",date:"",migrationListNew:[]},nodePrefixByHub:"",fullNodeListByHub:[],moveNodeOptions:[{label:"Split Node",value:"X"},{label:"Swap Node",value:"N"},{label:"Change Service",value:"C"},{label:"Reroute",value:"T"},{label:"Revision",value:"R"}],destinationNodeOptions:[],isHierarchyDisabled:!1,lastCodes:{},lastNodeCode:void 0,migrationListOriginal:[],migrationOriginalColumns:[{name:"productType",label:"Product Type",field:"productType",align:"left"},{name:"equipmentName",label:"Code",field:"equipmentName",align:"center"},{name:"predecessor",label:"Predecessor",field:"predecessor",align:"center"},{name:"psCode",label:"Power Supply",field:"psCode",align:"center"}],migrationOriginalPagination:{rowsPerPage:0},migrationNewColumns:[{name:"productType",label:"Product Type",field:"productType",align:"center"},{name:"equipmentName",label:"Source Code",field:"equipmentName",align:"center"},{name:"newName",label:"New Code",field:"newName",align:"center"},{name:"newPredecessor",label:"Predecessor",field:"newPredecessor",align:"center"},{name:"newPsCode",label:"Power Supply",field:"newPsCode",align:"center"},{name:"action",label:"Action",align:"center"}],migrationNewPagination:{rowsPerPage:0},validationResults:[],sourcePreview:[],targetPreview:[]}},methods:{doMainFillTableResult:function(e){this.listOfEquipment=e.content,this.equipmentPagination.rowsNumber=e.totalElements,this.equipmentPagination.rowsPerPage=e.pageable.pageSize,this.equipmentPagination.page=e.number+1},doMainInitPage:function(){var e=this;this.showLoading();var t=localStorage.getItem("user-token"),i=JSON.parse(atob(t.split(".")[1])).authorities;-1===i.findIndex((function(e){return"ROLE_03"===e}))&&this.$router.push("/"),this.$axios.get("".concat("/","getFieldInitPage/"),{}).then((function(t){e.doMainFillTableResult(t.data.listOfEquipment),e.constructSelectList(t,"main"),e.$q.loading.hide()})).catch((function(t){e.$q.notify({color:"negative",icon:"report_problem",message:t})}))},doMainRefresh:function(e){var t=this;this.showLoading(),this.$axios.get("".concat("/","getFieldPagedEquipment/"),{params:e}).then((function(e){t.doMainFillTableResult(e.data),t.$q.loading.hide()})).catch((function(e){t.$q.loading.hide(),t.$q.notify({color:"negative",icon:"report_problem",message:e})}))},doMainEquipmentRefreshList:function(){var e={pageIndex:0,pageSize:this.equipmentPagination.rowsPerPage,searchVal:this.searchVal,sortBy:this.equipmentPagination.sortBy,descending:this.equipmentPagination.descending};this.doMainRefresh(e)},doMainEquipmentChangePage:function(e){var t=0,i=e.pagination,a=i.page,n=i.rowsPerPage,o=i.sortBy,s=i.descending;"All"!==n&&(t=n),this.paramsPagination={pageIndex:a-1,pageSize:t,searchVal:this.searchVal,sortBy:o,descending:s},this.equipmentPagination.rowsNumber>1e3&&"All"===n?this.modalWarningLoad=!0:this.doMainRefresh(this.paramsPagination)},doMainEquipmentChangePageAfterWarning:function(){this.modalWarningLoad=!1,this.doMainRefresh(this.paramsPagination)},constructSelectList:function(e,t){"main"===t?(this.equipmentStatusListSearch=e.data.listOfEquipmentStatusSearch.sort(this.compareValue),this.productTypeListSearch=e.data.listOfProductTypeSearch.sort(this.compareValue),this.productTypeListSearch=this.productTypeListSearch.filter((function(e){return"Field"===e.cascadeValue})),this.assetStatusListSearch=e.data.listOfAssetStatusSearch.sort(this.compareValue),this.hubCodeListSearch=e.data.listOfHubCodeSearch.sort(this.compareValue),this.technologyListSearch=e.data.listOfTechnologySearch.sort(this.compareValue),this.productSeriesList=e.data.listOfProductSeriesSearch.sort(this.compareValue),this.bdfCodeList=e.data.listOfBDFSearch.sort(this.compareValue),this.assetStatusList=this.assetStatusListSearch.filter((function(e){return"ALL"!==e.value})),this.assetStatusListSearch.unshift({label:"ALL",value:"ALL"}),this.technologyListSearch.unshift({label:"ALL",value:"ALL"}),this.equipmentStatusListSearch.unshift({label:"ALL",value:"ALL"}),this.productTypeListSearch.unshift({label:"BLANK",value:"BLANK"}),this.productTypeListSearch.unshift({label:"ALL",value:"ALL"}),this.productSeriesList.unshift({label:"BLANK",value:"BLANK"}),this.productSeriesList.unshift({label:"ALL",value:"ALL"}),this.bdfCodeList.unshift({label:"ALL",value:"ALL"}),this.hubCodeList=this.hubCodeListSearch.filter((function(e){return"ALL"!==e.value}))):"detail"===t&&(this.productTypeList=this.productTypeListSearch.filter((function(e){return"Field"===e.cascadeValue})),this.assetStatusList=this.assetStatusListSearch.filter((function(e){return"ALL"!==e.value})),this.equipmentStatusList=this.equipmentStatusListSearch.filter((function(e){return"ALL"!==e.value})),this.manufacturerList=e.data.listOfManufacturer.sort(this.compareValue),this.technologyList=e.data.listOfTechnology.sort(this.compareValue),this.serviceList=e.data.listOfService.sort(this.compareValue),this.statusReasonList=e.data.listOfStatusReason.sort(this.compareValue),this.departmentList=e.data.listOfDepartment.sort(this.compareValue),this.divisionList=e.data.listOfDivision.sort(this.compareValue),this.propertyOfList=e.data.listOfPropertyOf.sort(this.compareValue),this.capacityUnitsList=e.data.listOfCapacityUnits.sort(this.compareValue),this.hubCodeRoomList=e.data.listOfHubCodeRoom.sort(this.compareValue))},doEdit:function(e){this.showLoading(),this.input=JSON.parse(JSON.stringify(e.row)),this.input.purchasedDate=null===this.input.purchasedDate||""===this.input.purchasedDate?"":s()(this.input.purchasedDate).format("DD/MM/YYYY"),this.input.updateDistanceDate=null===this.input.updateDistanceDate||""===this.input.updateDistanceDate?"":s()(this.input.updateDistanceDate).format("DD/MM/YYYY"),this.input.installationDate=null===this.input.installationDate||""===this.input.installationDate?"":s()(this.input.installationDate).format("DD/MM/YYYY"),this.input.installationDateLeg1=null===this.input.installationDateLeg1||""===this.input.installationDateLeg1?"":s()(this.input.installationDateLeg1).format("DD/MM/YYYY"),this.input.installationDateLeg2=null===this.input.installationDateLeg2||""===this.input.installationDateLeg2?"":s()(this.input.installationDateLeg2).format("DD/MM/YYYY"),this.input.installationDateLeg3=null===this.input.installationDateLeg3||""===this.input.installationDateLeg3?"":s()(this.input.installationDateLeg3).format("DD/MM/YYYY"),this.input.installationDateLeg4=null===this.input.installationDateLeg4||""===this.input.installationDateLeg4?"":s()(this.input.installationDateLeg4).format("DD/MM/YYYY"),this.getMigrationHistory(e),this.getSelectOptionForDetail()},getSelectOptionForDetail:function(){var e=this;this.showLoading(),this.$axios.get("".concat("/","getFieldEquipmentDetailSelectOption"),{}).then((function(t){e.constructSelectList(t,"detail"),e.modalAddNewAsset=!0,e.$q.loading.hide()})).catch((function(t){e.$q.notify({color:"negative",icon:"report_problem",message:t}),e.$q.loading.hide()}))},getMigrationHistory:function(e){var t=this,i=e.row.id.toString();this.showLoading(),this.$axios.get("".concat("/","getMigrationHistoryByAssetId"),{params:{assetId:i}}).then((function(e){t.migrationHistoryList=e.data})).catch((function(e){t.$q.notify({color:"negative",icon:"report_problem",message:e})})),this.$q.loading.hide()},getDropdownValue:function(e){"equipmentStatusSearch"===e&&(this.searchVal.equipmentStatus=this.searchVal.equipmentStatus.value),"productTypeSearch"===e&&(this.searchVal.productType=this.searchVal.productType.value),"productSeriesSearch"===e&&(this.searchVal.productSeries=this.searchVal.productSeries.value),"assetStatusSearch"===e&&(this.searchVal.assetStatus=this.searchVal.assetStatus.value),"hubCodeSearch"===e&&(this.searchVal.hubCode=this.searchVal.hubCode.value),"bdfCodeSearch"===e&&(this.searchVal.bdfCode=this.searchVal.bdfCode.value),"technologySearch"===e&&(this.searchVal.technology=this.searchVal.technology.value),"equipmentStatusForm"===e&&(this.input.equipmentStatus=this.input.equipmentStatus.value),"assetStatusForm"===e&&(this.input.equipmentUploadStatus=this.input.equipmentUploadStatus.value),"assetStatusSelectForm"===e&&(this.groupSelect.assetStatus=this.groupSelect.assetStatus.value,this.btnChangeStatus=!0),"statusReasonForm"===e?this.input.statusReason=this.input.statusReason.value:"hubCodeForm"===e?this.input.hubCode=this.input.hubCode.value:"hubCodeRoomForm"===e?this.input.hubCodeRoom=this.input.hubCodeRoom.value:"serviceForm"===e?this.input.service=this.input.service.value:"technologyForm"===e?this.input.technology=this.input.technology.value:"capacityUnitsForm"===e?this.input.capacityUnits=this.input.capacityUnits.value:"divisionForm"===e?this.input.division=this.input.division.value:"departmentForm"===e?this.input.department=this.input.department.value:"productSeriesForm"===e?this.input.productSeries=this.input.productSeries.value:"brand"===e?this.input.brand=this.input.brand.value:"productSubType"===e?this.input.productSubType=this.input.productSubType.value:"propertyOf"===e&&(this.input.propertyOf=this.input.propertyOf.value)},doProductSeriesFilter:function(e,t){var i=this;t((function(){var t=e.toLowerCase();i.filteredProductSeries=i.productSeriesList.filter((function(e){return e.label.toLowerCase().indexOf(t)>-1}))}))},doHubCodeFilter:function(e,t){var i=this;t((function(){var t=e.toLowerCase();i.filteredHubCode=i.hubCodeListSearch.filter((function(e){return e.value.toLowerCase().indexOf(t)>-1}))}))},doBdfFilter:function(e,t){var i=this;t((function(){var t=e.toLowerCase();i.filteredBdfCode=i.bdfCodeList.filter((function(e){return e.value.toLowerCase().indexOf(t)>-1}))}))},getSubType:function(){var e=this;this.showLoading(),this.input.productType=this.input.productType.value,this.$axios.get("".concat("/","getSubType"),{params:{productType:this.input.productType,eqCategory:"Field"}}).then((function(t){""!==t.data?e.subTypeList=t.data.map((function(e){return{label:e.subtype.toUpperCase(),value:e.subtype.toUpperCase()}})):e.subTypeList=[],e.$q.loading.hide()})).catch((function(t){e.$q.notify({color:"negative",icon:"report_problem",message:t}),e.$q.loading.hide()}))},getBrand:function(){var e=this;this.showLoading(),this.input.manufacturer=this.input.manufacturer.value,this.$axios.get("".concat("/","getBrand"),{params:{pid:this.input.manufacturer}}).then((function(t){e.brandList=t.data.map((function(e){return{label:e.brand.toUpperCase(),value:e.brand.toUpperCase()}})),e.$q.loading.hide()})).catch((function(t){e.$q.notify({color:"negative",icon:"report_problem",message:t}),e.$q.loading.hide()}))},changeColorNodeCode:function(){6===this.input.nodeCode.length&&(this.psCodeValidation(),this.amplifierCodeValidation()),8===this.input.nodeCode.length?(this.blueNodeCode=!0,this.orangeNodeCode=!1):(this.blueNodeCode=!1,this.orangeNodeCode=!0)},nodeInput:function(){this.psCodeValidation(),this.amplifierCodeValidation()},changeColorPsCode:function(){6===this.input.psCode.length||7===this.input.psCode.length?this.psCodeValidation():(this.psCodeWarningText="Input Power Suply Code in 6/7 characters",this.bluePsCode=!1,this.orangePsCode=!0)},psCodeValidation:function(){if(this.input.nodeCode.length>=6){this.psCodeWarningText="";var e=this.input.nodeCode.substring(0,6);if(this.input.psCode.length>=6){var t=this.input.psCode.substring(0,6);e!==t?(this.psCodeWarningText="6 digit pertama harus sama dengan Node Code",this.bluePsCode=!1,this.orangePsCode=!0):(this.bluePsCode=!0,this.orangePsCode=!1)}}else this.psCodeWarningText="Node Code Belum lengkap",this.bluePsCode=!1,this.orangePsCode=!0},changeColorAmplifierCode:function(){10===this.input.amplifierCode.length?this.amplifierCodeValidation():(this.amplifierCodeWarningText="Input Amplifier Code in 10 characters",this.blueAmplifierCode=!1,this.orangeAmplifierCode=!0)},amplifierCodeValidation:function(){if(this.input.nodeCode.length>=6){this.amplifierCodeWarningText="";var e=this.input.nodeCode.substring(0,6);if(this.input.amplifierCode.length>=6){var t=this.input.amplifierCode.substring(0,6);e!==t?(this.amplifierCodeWarningText="6 digit pertama harus sama dengan Node Code",this.blueAmplifierCode=!1,this.orangeAmplifierCode=!0):(this.blueAmplifierCode=!0,this.orangeAmplifierCode=!1)}}else this.amplifierCodeWarningText="Node Code Belum lengkap",this.blueAmplifierCode=!1,this.orangeAmplifierCode=!0},saveEquipment:function(){this.$refs.fEquipmentName.validate(),this.$refs.fProductType.validate(),this.$refs.fProductSeries.validate(),this.$refs.fManufacturer.validate(),this.$refs.fBrand.validate(),this.$refs.fQuantity.validate(),this.$refs.fHubCode.validate(),this.$refs.fDivision.validate(),this.$refs.fDepartment.validate(),this.$refs.fPropertyOf.validate(),this.$refs.fStatusReason.validate(),this.$refs.fService.validate(),this.$refs.fTechnology.validate(),this.$refs.fItCode.validate();var e=this.$refs.fEquipmentName.hasError,t=this.$refs.fProductType.hasError,i=this.$refs.fProductSeries.hasError,a=this.$refs.fManufacturer.hasError,n=this.$refs.fBrand.hasError,o=this.$refs.fQuantity.hasError,s=this.$refs.fHubCode.hasError,r=this.$refs.fDivision.hasError,l=this.$refs.fDepartment.hasError,u=this.$refs.fPropertyOf.hasError,p=this.$refs.fStatusReason.hasError,d=this.$refs.fService.hasError,c=this.$refs.fTechnology.hasError,m=this.$refs.fItCode.hasError,g=!1,h=!1,f=!1,b=!1,v=!1,q=!1,w=!1,C=!1;"FTTH"!==this.input.technology&&"FIBERNODE"!==this.input.productType&&"WDM"!==this.input.productType&&(this.$refs.fCapacity.validate(),this.$refs.fCapacityUnits.validate(),this.$refs.fPredecessor.validate(),b=this.$refs.fCapacity.hasError,v=this.$refs.fCapacityUnits.hasError,q=this.$refs.fPredecessor.hasError),"FTTH"!==this.input.technology&&"WDM"!==this.input.productType&&("POWER SUPPLY"===this.input.productType||"POWER SUPPLY INDOOR"===this.input.productType?6===this.input.psCode.length||7===this.input.psCode.length?(this.$refs.fPowerSupplyCodeBlue.validate(),g=this.$refs.fPowerSupplyCodeBlue.hasError):(this.$refs.fPowerSupplyCodeOrange.validate(),g=this.$refs.fPowerSupplyCodeOrange.hasError):(this.$refs.fPowerSupplyCodeElse.validate(),g=this.$refs.fPowerSupplyCodeElse.hasError)),"AMPLIFIER"!==this.input.productType&&"AMPLIFIER INDOOR"!==this.input.productType||(this.$refs.fPredecessorLeg.validate(),w=this.$refs.fPredecessorLeg.hasError,10===this.input.amplifierCode.length?(this.$refs.fAmplifierCodeBlue.validate(),h=this.$refs.fAmplifierCodeBlue.hasError):(this.$refs.fAmplifierCodeOrange.validate(),h=this.$refs.fAmplifierCodeOrange.hasError)),"FIBERNODE"===this.input.productType?8===this.input.nodeCode.length?(this.$refs.fNodeCodeBlue.validate(),f=this.$refs.fNodeCodeBlue.hasError):(this.$refs.fNodeCodeOrange.validate(),f=this.$refs.fNodeCodeOrange.hasError):(this.$refs.fNodeCodeElse.validate(),f=this.$refs.fNodeCodeElse.hasError);var y=this.input.nodeCode.substring(0,6),N=this.input.psCode.substring(0,6);if("AMPLIFIER"===this.input.productType){var S=this.input.equipmentName.substring(0,6),x=this.input.equipmentName.substring(0,6);this.input.equipmentName!==this.input.amplifierCode&&(this.$q.notify({color:"negative",icon:"report_problem",message:"Equipment Name "+this.input.equipmentName+" No Match with Amplifier Code: "+this.input.amplifierCode}),C=!0),x!==y&&(this.$q.notify({color:"negative",icon:"report_problem",message:"Equipment Name "+this.input.equipmentName+" No Match with Node Code: "+this.input.nodeCode}),C=!0),S!==N&&(this.$q.notify({color:"negative",icon:"report_problem",message:"Equipment Name "+this.input.equipmentName+" No Match with Power Supply Code: "+this.input.psCode}),C=!0)}if("POWER SUPPLY"===this.input.productType){var M=this.input.equipmentName.substring(0,6);this.input.equipmentName!==this.input.psCode&&(this.$q.notify({color:"negative",icon:"report_problem",message:"Equipment Name "+this.input.equipmentName+" No Match with Power Supply Code: "+this.input.psCode}),C=!0),M!==y&&(this.$q.notify({color:"negative",icon:"report_problem",message:"Equipment Name "+this.input.equipmentName+" No Match with Node Code: "+this.input.nodeCode}),C=!0)}"FIBERNODE"===this.input.productType&&this.input.equipmentName!==this.input.nodeCode&&(this.$q.notify({color:"negative",icon:"report_problem",message:"Equipment Name "+this.input.equipmentName+" No Match with Node Code: "+this.input.nodeCode}),C=!0),e||C||t||i||a||n||o||s||r||l||u||p||d||c||m||g||h||b||v||q||w||f||this.doSaveEquipment()},doSaveEquipment:function(){var e=this;this.showLoading(),this.input.purchasedDate=null===this.input.purchasedDate||""===this.input.purchasedDate?"":s()(String(this.input.purchasedDate),"DD/MM/YYYY").format("YYYY-MM-DD"),this.input.installationDate=null===this.input.installationDate||""===this.input.installationDate?"":s()(String(this.input.installationDate),"DD/MM/YYYY").format("YYYY-MM-DD"),this.input.installationDateLeg1=null===this.input.installationDateLeg1||""===this.input.installationDateLeg1?"":s()(String(this.input.installationDateLeg1),"DD/MM/YYYY").format("YYYY-MM-DD"),this.input.installationDateLeg2=null===this.input.installationDateLeg2||""===this.input.installationDateLeg2?"":s()(String(this.input.installationDateLeg2),"DD/MM/YYYY").format("YYYY-MM-DD"),this.input.installationDateLeg3=null===this.input.installationDateLeg3||""===this.input.installationDateLeg3?"":s()(String(this.input.installationDateLeg3),"DD/MM/YYYY").format("YYYY-MM-DD"),this.input.installationDateLeg4=null===this.input.installationDateLeg4||""===this.input.installationDateLeg4?"":s()(String(this.input.installationDateLeg4),"DD/MM/YYYY").format("YYYY-MM-DD"),this.input.updateDistanceDate=null===this.input.updateDistanceDate||""===this.input.updateDistanceDate?"":s()(String(this.input.updateDistanceDate),"DD/MM/YYYY").format("YYYY-MM-DD"),this.$axios.post("".concat("/","doSaveEquipment"),this.input).then((function(t){e.$q.notify({color:"positive",icon:"report_problem",message:"successfully submitted"}),e.$q.loading.hide(),e.modalAddNewAsset=!1,e.doRefresh(),e.doMainInitPage()})).catch((function(t){e.$q.notify({color:"negative",icon:"report_problem",message:t}),e.$q.loading.hide()}))},doAttachFile:function(e){var t=this,i=new FileReader;this.uploadButton=!0,i.onload=function(i){t.fileAttach.fileName=e.name,t.fileAttach.file64=i.target.result},i.readAsDataURL(e)},doHideButton:function(){this.uploadButton=!1},doUploadFile:function(e){var t=this;this.showCheckingLoading(),this.$axios.post("".concat("/","uploadField"),this.fileAttach).then((function(e){t.$q.loading.hide(),t.listOfError=e.data,t.listOfError.sort(t.compare),"error"===t.listOfError[0].messageStatus?t.modalError=!0:"warning"===t.listOfError[0].messageStatus?t.modalWarning=!0:"success"===t.listOfError[0].messageStatus?(t.modalSuccess=!0,t.succesMessage=t.listOfError[0].message):t.$q.notify({color:"negative",icon:"info",message:t.listOfError[0].message}),t.modalUpload=!1,t.doRefresh(),t.doMainInitPage()})).catch((function(e){t.$q.loading.hide(),t.$q.notify({color:"negative",icon:"report_problem",message:e})}))},doUploadAfterWarning:function(){var e=this;this.showUploadLoading(),this.$axios.post("".concat("/","uploadFieldAfterWarning")).then((function(t){e.$q.loading.hide(),e.listOfError=t.data,e.listOfError.sort(e.compare),"error"===e.listOfError[0].messageStatus?e.modalError=!0:"warning"===e.listOfError[0].messageStatus?e.modalWarning=!0:(e.$q.notify({color:"positive",icon:"info",message:e.listOfError[0].message}),e.modalWarning=!1,e.modalSuccess=!1),e.doRefresh(),e.doMainInitPage()})).catch((function(t){e.$q.loading.hide(),e.$q.notify({color:"negative",icon:"report_problem",message:t})}))},doMainOpenMigrationForm:function(e){var t=this;this.showMigrationForm=!0,this.migrationStep=1,this.destinationNodeOptions=[],this.equipmentToMigrate.hubCode=e.row.hubCode,this.equipmentToMigrate.nodeCode=e.row.nodeCode,this.equipmentToMigrate.service=e.row.service,this.equipmentToMigrate.newHubCode=e.row.hubCode,this.equipmentToMigrate.description=e.row.description,this.equipmentToMigrate.newDescription="",this.equipmentToMigrate.migrationListNew=[],this.equipmentToMigrate.isNewNode=!1,this.equipmentToMigrate.newServiceNodeNumber=void 0,this.hubCodeName=this.hubCodeList.filter((function(e){return e.value.toUpperCase().indexOf(t.equipmentToMigrate.newHubCode.toUpperCase())>-1}))[0],this.equipmentToMigrate.selectedMoveNodeOption=this.moveNodeOptions[0].value,this.equipmentToMigrate.date=this.getCurrentDate(),this.getMigrationEquipment(this.equipmentToMigrate.nodeCode)},doMigrationChangeHub:function(){var e=this;this.equipmentToMigrate.newHubCode=this.hubCodeName.value,this.hubCodeServiceSelected=this.hubCodeServiceList.filter((function(t){return t.cascadeValue.toUpperCase().indexOf(e.hubCodeName.value.toUpperCase())>-1}))},doMigrationChangeHubCode:function(){this.nodePrefixByHub=this.hubCodeService.value},doMergeSelectedNewNode:function(){this.equipmentToMigrate.selectedNewNode=this.nodePrefixByHub+this.equipmentToMigrate.newNodeNumber,this.equipmentToMigrate.nodeCode===this.equipmentToMigrate.selectedNewNode?this.equipmentToMigrate.newDescription=this.equipmentToMigrate.description:this.equipmentToMigrate.newDescription=""},doMigrationChangeNewNode:function(){this.equipmentToMigrate.isNewNode&&(this.equipmentToMigrate.newNodeCode=void 0,this.equipmentToMigrate.newNodeNumber=void 0)},doMigrationFilterNode:function(e,t,i){var a=this;t((function(){var t=e.toLowerCase();a.destinationNodeOptions=a.fullNodeListByHub.filter((function(e){return e.toLowerCase().indexOf(t)>-1}))}))},doMigrationValidateNewNode:function(){if(this.equipmentToMigrate.isNewNode||"C"===this.equipmentToMigrate.selectedMoveNodeOption){var e=this.nodePrefixByHub+this.equipmentToMigrate.newNodeNumber+"00";"C"===this.equipmentToMigrate.selectedMoveNodeOption&&(e=this.equipmentToMigrate.newServiceNodeNumber+"00"),this.fullNodeListByHub.includes(e)?this.$q.notify({color:"negative",icon:"report_problem",message:"Node ".concat(this.equipmentToMigrate.newNodeNumber," already used. Please specify other value.")}):this.equipmentToMigrate.newNodeCode=e}},getMigrationEquipment:function(e){var t=this;this.showLoading(),this.$axios.get("".concat("/","getNodeChildMig"),{params:{nodeCode:e}}).then((function(e){t.migrationListOriginal=e.data.listNodeChildMig,t.hubCodeServiceList=e.data.listOfHubCodeService,t.hubCodeServiceSelected=t.hubCodeServiceList.filter((function(e){return e.cascadeValue.toUpperCase().indexOf(t.hubCodeName.value.toUpperCase())>-1})),t.$q.loading.hide()})).catch((function(e){t.$q.loading.hide(),t.$q.notify({color:"negative",icon:"report_problem",message:e})}))},doMigrationConstructNewAmpliCode:function(e,t,i,a,n){var o="",s=t.ampliCounter,r="",l=0;if(n){var u=a.filter((function(e){return e.oldCode===i.originalPredecessor}));u.length>0?i.predecessor=u[0].newCode:i.productType="AMPLIFIER","AMPLIFIER"===i.productType&&(i.predecessor=this.equipmentToMigrate.newNodeCode+"00",o=i.predecessor.substring(0,6),l=s.charCodeAt(0)+1)}else i.predecessor=i.originalPredecessor,i.psCode=i.originalPsCode,s=t.stayAmpliCounter,this.equipmentToMigrate.migrationListNew.filter((function(e){return e.newName===i.predecessor})).length<=0&&(i.predecessor=this.equipmentToMigrate.nodeCode+"00",i.productType="AMPLIFIER"),"AMPLIFIER"===i.productType&&(o=i.predecessor.substring(0,6),l=s.charCodeAt(0)+1);"AMPLI 2"===i.productType?(o=i.predecessor.substring(0,6),r=s.substring(0,1),l=1===s.length?49:s.charCodeAt(1)+1):"AMPLI 3"===i.productType?(o=i.predecessor.substring(0,6),r=s.substring(0,2),l=2===s.length?49:s.charCodeAt(2)+1):"AMPLI 4"===i.productType&&(o=i.predecessor.substring(0,6),r=s.substring(0,3),l=2===s.length?49:s.charCodeAt(3)+1),58===l&&(l=65),s=r+String.fromCharCode(l),n?t.ampliCounter=s:t.stayAmpliCounter=s;var p=o+s+"0000";return p=p.substring(0,10),i.newName=p,a.push({oldCode:i.equipmentName,newCode:i.newName}),i},doMigrationAssignNewName:function(){for(var e=this.equipmentToMigrate.newNodeCode.substring(0,6),t=0;t<this.equipmentToMigrate.migrationListNew.length;t++)if(!0===this.equipmentToMigrate.migrationListNew[t].migrate)if(""===this.equipmentToMigrate.migrationListNew[t].newNumber?(this.equipmentToMigrate.migrationListNew[t].newName=e+this.equipmentToMigrate.migrationListNew[t].equipmentName.substring(6,this.equipmentToMigrate.migrationListNew[t].equipmentName.length),this.equipmentToMigrate.migrationListNew[t].newPsCode=e+this.equipmentToMigrate.migrationListNew[t].psCode.substring(6,this.equipmentToMigrate.migrationListNew[t].psCode.length)):(this.equipmentToMigrate.migrationListNew[t].newName=e+this.equipmentToMigrate.migrationListNew[t].newNumber,this.equipmentToMigrate.migrationListNew[t].newPsCode=e+this.equipmentToMigrate.migrationListNew[t].newNumber),null===this.equipmentToMigrate.migrationListNew[t].predecessor&&(this.equipmentToMigrate.migrationListNew[t].predecessor=""),""!==this.equipmentToMigrate.migrationListNew[t].predecessor)this.equipmentToMigrate.migrationListNew[t].newPredecessor=e+this.equipmentToMigrate.migrationListNew[t].predecessor.substring(6,this.equipmentToMigrate.migrationListNew[t].predecessor.length);else if("AMPLIFIER"===this.equipmentToMigrate.migrationListNew[t].productType){var i=this.equipmentToMigrate.migrationListNew[t].equipmentName.substring(6,this.equipmentToMigrate.migrationListNew[t].equipmentName.length),a=i.replaceAll("0","").length;1===a?(this.equipmentToMigrate.migrationListNew[t].predecessor=this.equipmentToMigrate.migrationListNew[t].equipmentName.substring(0,6)+"0000",this.equipmentToMigrate.migrationListNew[t].newPredecessor=this.equipmentToMigrate.migrationListNew[t].newName.substring(0,6)+"0000"):2===a?(this.equipmentToMigrate.migrationListNew[t].predecessor=this.equipmentToMigrate.migrationListNew[t].equipmentName.substring(0,7)+"000",this.equipmentToMigrate.migrationListNew[t].newPredecessor=this.equipmentToMigrate.migrationListNew[t].newName.substring(0,7)+"000"):3===a?(this.equipmentToMigrate.migrationListNew[t].predecessor=this.equipmentToMigrat.migrationListNew[t].equipmentName.substring(0,8)+"00",this.equipmentToMigrate.migrationListNew[t].newPredecessor=this.equipmentToMigrat.migrationListNew[t].newName.substring(0,8)+"00"):4===a&&(this.equipmentToMigrate.migrationListNew[t].predecessor=this.equipmentToMigrate.migrationListNew[t].equipmentName.substring(0,9)+"0",this.equipmentToMigrate.migrationListNew[t].newPredecessor=this.equipmentToMigrate.migrationListNew[t].newName.substring(0,9)+"0")}},doMigrationInitializeEquipmentList:function(e){for(var t="DIGITAL"===this.equipmentToMigrate.service?"ANALOG":"DIGITAL",i=this.equipmentToMigrate.nodeCode===this.equipmentToMigrate.selectedNewNode,a=0;a<this.equipmentToMigrate.migrationListNew.length;a++){var n=this.equipmentToMigrate.migrationListNew[a];"C"===this.equipmentToMigrate.selectedMoveNodeOption&&(n.service=t),"FIBERNODE"===n.productType?e?(this.$set(n,"originalPredecessor",n.predecessor),this.$set(n,"originalPsCode",n.psCode),this.$set(n,"originalProductType",n.productType),this.$set(n,"newName",n.equipmentName),this.$set(n,"newPsCode",n.psCode),this.$set(n,"newPredecessor",""),this.$set(n,"migrate",!1),this.$set(n,"newNumber",""),this.$set(n,"assetStatus","")):(this.$set(n,"originalPredecessor",n.predecessor),this.$set(n,"originalPsCode",n.psCode),this.$set(n,"originalProductType",n.productType),this.$set(n,"newName",""),this.$set(n,"newPsCode",""),this.$set(n,"newPredecessor",""),this.$set(n,"migrate",!0),this.$set(n,"newNumber",""),this.$set(n,"assetStatus","Update")):i?(this.$set(n,"originalPredecessor",n.predecessor),this.$set(n,"originalPsCode",n.psCode),this.$set(n,"originalProductType",n.productType),this.$set(n,"newName",n.equipmentName),this.$set(n,"newPsCode",n.psCode),this.$set(n,"newPredecessor",n.predecessor),this.$set(n,"migrate",!1),this.$set(n,"newNumber",""),this.$set(n,"assetStatus","")):(this.$set(n,"originalPredecessor",n.predecessor),this.$set(n,"originalPsCode",n.psCode),this.$set(n,"originalProductType",n.productType),this.$set(n,"newName",""),this.$set(n,"newPsCode",""),this.$set(n,"newPredecessor",""),this.$set(n,"migrate",!0),this.$set(n,"newNumber",""),this.$set(n,"assetStatus","Update")),this.$set(this.equipmentToMigrate.migrationListNew,a,n)}this.doMigrationAssignNewName()},doMigrationInitializeList:function(){"X"===this.equipmentToMigrate.selectedMoveNodeOption||"T"===this.equipmentToMigrate.selectedMoveNodeOption||"R"===this.equipmentToMigrate.selectedMoveNodeOption?this.doMigrationInitializeEquipmentList(!0):this.doMigrationInitializeEquipmentList(!1)},doMigrationSetupNewHierarchy:function(){var e=this;this.equipmentToMigrate.selectedNewNode=this.nodePrefixByHub+this.equipmentToMigrate.newNodeNumber,this.equipmentToMigrate.isNewNode||(this.equipmentToMigrate.newNodeCode=this.equipmentToMigrate.selectedNewNode),"C"===this.equipmentToMigrate.selectedMoveNodeOption&&(this.equipmentToMigrate.newNodeNumber=this.equipmentToMigrate.newNodeCode.substring(3,6)),void 0===this.equipmentToMigrate.newNodeCode?this.$refs.stepper.previous():(this.equipmentToMigrate.migrationListNew=JSON.parse(JSON.stringify(this.migrationListOriginal)),"X"!==this.equipmentToMigrate.selectedMoveNodeOption?(this.lastNodeCode=this.fullNodeListByHub[this.fullNodeListByHub.length-1],this.doMigrationInitializeList()):(this.showLoading(),this.$axios.get("".concat("/","getLastAmpliPs/"),{params:{nodeCode:this.equipmentToMigrate.newNodeCode}}).then((function(t){e.lastCodes=t.data,e.doMigrationInitializeList(),e.$q.loading.hide()})).catch((function(t){e.$q.loading.hide(),e.$q.notify({color:"negative",icon:"report_problem",message:t})}))))},doMigrationChangeServiceHierarchy:function(){this.equipmentToMigrate.migrationListNew=JSON.parse(JSON.stringify(this.migrationListOriginal)),this.doMigrationInitializeEquipmentList(!1)},doMigrationStayOrMove:function(e){e.migrate=!e.migrate,e.migrate?(e.newName=this.getMigrationEquipmentPrefix(e)+e.equipmentName.substring(6,e.equipmentName.length),e.newPredecessor=this.getMigrationEquipmentPrefix(e)+e.predecessor.substring(6,e.predecessor.length),e.newPsCode=this.getMigrationEquipmentPrefix(e),e.assetStatus="Update"):(e.newName=e.equipmentName,e.newPredecessor=e.predecessor,e.newPsCode=e.psCode,e.assetStatus="")},doRemove:function(e){this.equipmentToMigrate.migrationListNew.splice(e.pageIndex,1)},doInactive:function(e){"Inactive"!==e.assetStatus?(e.newName="["+e.newName+" - I]",e.assetStatus="Inactive"):(e.newName=this.getMigrationEquipmentPrefix(e)+e.equipmentName.substring(6,e.equipmentName.length),e.assetStatus="Update")},doReplace:function(e){"C"===this.equipmentToMigrate.selectedMoveNodeOption&&("Replace"===e.assetStatus?e.assetStatus="Update":e.assetStatus="Replace")},doMigrationChangeProductType:function(e){"FIBERNODE"===e.productType?(e.newName=e.newName.substring(0,6)+"00",e.newPredecessor=""):"AMPLIFIER"===e.productType?(e.newName=e.newName.substring(0,6),e.newPredecessor=e.newName.substring(0,6)):"POWER SUPPLY"===e.productType&&(e.newName=e.newName.substring(0,6),e.newPredecessor="")},doMigrationChangeEquipmentName:function(e){e.newName=this.getMigrationEquipmentPrefix(e)+e.newNumber,this.equipmentToMigrate.migrationListNew.filter((function(t){return t.newName===e.newName})).length>1&&(e.newName=this.getMigrationEquipmentPrefix(e)+"0000",e.newNumber="0000",this.$q.notify({color:"negative",icon:"report_problem",message:e.newName+" already used. Please use another."})),e.newName!==e.equipmentName?e.assetStatus="Update":e.assetStatus=""},doMigrationChangePredecessor:function(e){e.newPredecessor=this.getMigrationEquipmentPrefix(e)+e.newPredecessorNumber},isMigrationPromoteVisible:function(e){return"PS"!==e.productType&&"FIBERNODE"!==e.productType&&this.equipmentToMigrate.isNewNode&&e.migrate&&"X"===this.equipmentToMigrate.selectedMoveNodeOption},isMigrationStayOrMoveVisible:function(e){return"C"!==this.equipmentToMigrate.selectedMoveNodeOption&&""!==e.equipmentName&&this.equipmentToMigrate.nodeCode!==this.equipmentToMigrate.selectedNewNode&&("FIBERNODE"!==e.productType&&"N"!==this.equipmentToMigrate.selectedMoveNodeOption||void 0)},isMigrationReplaceVisible:function(e){if("C"===this.equipmentToMigrate.selectedMoveNodeOption)return!0},isMigrationInactiveVisible:function(e){return"X"!==this.equipmentToMigrate.selectedMoveNodeOption||("FIBERNODE"!==e.productType||!1!==e.migrate)},isMigrationRemoveVisible:function(e){if("C"!==this.equipmentToMigrate.selectedMoveNodeOption)return"X"!==this.equipmentToMigrate.selectedMoveNodeOption||("FIBERNODE"!==e.productType||!1!==e.migrate)},isMigrationAddPowerSupplyVisible:function(){return!0},isMigrationAddAmplifierVisible:function(){return!0},changeAssetStatusVisible:function(){if(this.selected.length>0)return!0},doMigrationAddPowerSupply:function(){var e={id:"X"+this.equipmentToMigrate.migrationListNew.length,equipmentName:"",productType:"",originalProductType:"",hubCode:this.equipmentToMigrate.newHubCode,predecessor:this.equipmentToMigrate.newNodeCode+"00",newName:this.equipmentToMigrate.newNodeCode,newPredecessor:"",newPsCode:this.equipmentToMigrate.newNodeCode.substring(0,6),amplifierCode:"",migrate:!0,newNumber:"",assetStatus:"New"};this.equipmentToMigrate.migrationListNew.unshift(e)},doMigrationAddAmplifier:function(){var e={id:"Y"+this.equipmentToMigrate.migrationListNew.length,equipmentName:"",productType:"AMPLIFIER",originalProductType:"",hubCode:this.equipmentToMigrate.newHubCode,predecessor:this.equipmentToMigrate.newNodeCode+"00",newName:this.equipmentToMigrate.newNodeCode.substring(0,6)+"####",newPsCode:this.equipmentToMigrate.newNodeCode.substring(0,6),newPredecessor:this.equipmentToMigrate.newNodeCode+"00",migrate:!0,newNumber:"",assetStatus:"New"};this.equipmentToMigrate.migrationListNew.push(e)},doMigrationCascadeUpgrade:function(e){for(var t=this.equipmentToMigrate.migrationListNew.filter((function(t){return t.predecessor===e.newName})),i=0;i<t.length;i++)"FIBERNODE"===e.productType?t[i].productType="AMPLI 1":t[i].productType="AMPLI "+(parseInt(e.productType.substring(6),10)+1),this.doMigrationCascadeUpgrade(t[i])},doMigrationPromoteToFibernode:function(e){for(var t=0;t<this.equipmentToMigrate.migrationListNew.length;t++)"FIBERNODE"===this.equipmentToMigrate.migrationListNew[t].productType&&(this.equipmentToMigrate.migrationListNew[t].productType="AMPLI 1",this.equipmentToMigrate.migrationListNew[t].predecessor=e.newName,this.doMigrationCascadeUpgrade(this.equipmentToMigrate.migrationListNew[t]));e.predecessor="",e.productType="FIBERNODE",this.doMigrationCascadeUpgrade(e),e.newName=this.equipmentToMigrate.newNodeCode,this.doMigrationAssignNewName()},getMigrationEquipmentPrefix:function(e){return e.migrate?this.equipmentToMigrate.newNodeCode.substring(0,6):this.equipmentToMigrate.nodeCode.substring(0,6)},getMigrationPreviewChild:function(e,t,i){for(var a=t.filter((function(t){return t.newPredecessor===e&&"FIBERNODE"!==t.productType&&"POWER SUPPLY"!==t.productType&&t.migrate===i&&"0000"!==t.newName.substring(6,t.newName.length)})),n=[],o=0;o<a.length;o++){var s=a[o].equipmentName;""===s&&(s="NEW");var r={label:a[o].newName+" - "+a[o].assetStatus,original:s,status:a[o].assetStatus,children:[]};"Inactive"===a[o].assetStatus?r.children=this.getMigrationPreviewInactiveChild(a[o].equipmentName,t,i):r.children=this.getMigrationPreviewChild(a[o].amplifierCode,t,i),n.push(r)}return n},getMigrationPreviewInactiveChild:function(e,t,i){for(var a=t.filter((function(t){return t.originalPredecessor===e})),n=[],o=0;o<a.length;o++){var s=a[o].equipmentName;""===s&&(s="NEW");var r={label:a[o].newName+" - "+a[o].assetStatus,original:s,status:a[o].assetStatus,children:[]};r.children=this.getMigrationPreviewInactiveChild(a[o].equipmentName,t,i),n.push(r)}return n},doMigrationPreview:function(){this.createSourceTree(),this.createTagetTree()},createSourceTree:function(){var e=this.migrationListOriginal.filter((function(e){return"FIBERNODE"===e.productType}));if(1!==e.length)this.validationResults.push({id:this.validationResults.length,message:"Source have invlaid node. Please check"});else{var t="["+this.equipmentToMigrate.hubCode+"]",i=e[0].equipmentName+"00",a={label:t,status:"",header:"root",children:[]},n=[],o=this.equipmentToMigrate.migrationListNew.filter((function(e){return"WDM"===e.originalProductType&&!1===e.migrate})),s={label:"",original:"",status:"",children:[]};o.length>0&&(s={label:o[0].newName,original:o[0].equipmentName,children:[]});var r=this.equipmentToMigrate.migrationListNew.filter((function(e){return"FIBERNODE"===e.originalProductType&&!1===e.migrate})),l={label:"",status:"",children:[]};r.length>0&&(l={label:"[NODE] "+r[0].newName,original:r[0].equipmentName,children:[]});for(var u=this.equipmentToMigrate.migrationListNew.filter((function(e){return"POWER SUPPLY"===e.originalProductType&&!1===e.migrate})),p=0;p<u.length;p++){var d=u[p].newName,c={label:d+" - "+u[p].assetStatus,original:u[p].equipmentName,status:u[p].assetStatus,children:[]};l.children.push(c)}var m=this.equipmentToMigrate.migrationListNew.filter((function(e){return"0000"===e.newName.substring(6,e.newName.length)&&!1===e.migrate})),g={label:"",original:"",status:"",children:[]};m.length>0&&(g={label:"[VA] "+m[0].newName,original:m[0].equipmentName,status:"",children:[]});var h=this.getMigrationPreviewChild(i,this.equipmentToMigrate.migrationListNew,!1);h.length>0&&(g.children=h),l.children.push(g),o.length>0?(s.children.push(l),n.push(s)):n.push(l),a.children=n,this.$set(this.sourcePreview,0,a),this.$refs.sourcePreview.expandAll()}},createTagetTree:function(){var e,t=this.equipmentToMigrate.migrationListNew.filter((function(e){return!0===e.migrate}));if(t.length>0){if(this.equipmentToMigrate.isNewNode){var i=this.equipmentToMigrate.migrationListNew.filter((function(e){return"FIBERNODE"===e.productType}));e=1===i.length?i[0].equipmentName:"NEW"}var a={label:"["+this.equipmentToMigrate.newHubCode+"]",original:e,header:"root",status:"",children:[]},n=[],o=this.equipmentToMigrate.migrationListNew.filter((function(e){return"WDM"===e.productType&&!0===e.migrate})),s={label:"",original:"",status:"",children:[]};o.length>0&&(s={label:o[0].newName,original:o[0].equipmentName,children:[]});var r=this.equipmentToMigrate.migrationListNew.filter((function(e){return"FIBERNODE"===e.productType&&!0===e.migrate})),l={label:"",original:"",status:"",children:[]};r.length>0&&(l={label:"[NODE] "+r[0].newName+" - "+r[0].assetStatus,original:r[0].equipmentName,status:r[0].assetStatus,children:[]});for(var u=this.equipmentToMigrate.migrationListNew.filter((function(e){return"POWER SUPPLY"===e.productType&&!0===e.migrate})),p=0;p<u.length;p++){var d=u[p].newName,c={label:"[PS] "+d+" - "+u[p].assetStatus,original:u[p].equipmentName,status:u[p].assetStatus,children:[]};l.children.push(c)}var m=this.equipmentToMigrate.migrationListNew.filter((function(e){return"0000"===e.newName.substring(6,e.newName.length)&&!0===e.migrate})),g={label:"[]",original:"",status:"",children:[]};m.length>0&&(g={label:"[VA] "+m[0].newName+" - "+m[0].assetStatus,original:m[0].equipmentName,status:m[0].assetStatus,children:[]});var h=this.getMigrationPreviewChild(this.equipmentToMigrate.newNodeCode+"00",this.equipmentToMigrate.migrationListNew,!0);if(h.length>0)g.children=h;else{for(var f=this.equipmentToMigrate.migrationListNew.filter((function(e){return"000"===e.newPredecessor.substring(7,e.newPredecessor.length)&&!0===e.migrate&&"0000"!==e.newPredecessor.substring(6,e.newPredecessor.length)})),b=[],v=0;v<f.length;v++){var q=f[v].equipmentName;""===q&&(q="NEW");var w={label:f[v].newName,original:q,children:[]},C=this.getMigrationPreviewChild(f[v].amplifierCode,this.equipmentToMigrate.migrationListNew,!0);w.children=C,b.push(w)}if(b.length>0)g.children=b;else{for(var y=this.equipmentToMigrate.migrationListNew.filter((function(e){return"00"===e.newPredecessor.substring(8,e.newPredecessor.length)&&!0===e.migrate&&"000"!==e.newPredecessor.substring(7,e.newPredecessor.length)})),N=[],S=0;S<y.length;S++){var x=y[S].equipmentName;""===x&&(x="NEW");var M={label:y[S].newName,original:x,children:[]},T=this.getMigrationPreviewChild(y[S].amplifierCode,this.equipmentToMigrate.migrationListNew,!0);M.children=T,N.push(M)}g.children=N}}l.children.push(g),o.length>0?(s.children.push(l),n.push(s)):n.push(l),a.children=n,this.$set(this.targetPreview,0,a),this.$refs.targetPreview.expandAll()}},doMigrationValidate:function(){var e=this;this.showLoading();for(var t=0;t<this.equipmentToMigrate.migrationListNew.length;t++)"POWER SUPPLY"!==this.equipmentToMigrate.migrationListNew[t].productType&&(this.equipmentToMigrate.migrationListNew[t].amplifierCode=(this.equipmentToMigrate.migrationListNew[t].newName+"0000").substring(0,10)),this.equipmentToMigrate.migrationListNew[t].nodeCode=this.equipmentToMigrate.nodeCode,this.equipmentToMigrate.migrationListNew[t].newNodeCode=this.equipmentToMigrate.newNodeCode;this.$axios.post("".concat("/","doValidate/"),this.equipmentToMigrate).then((function(t){if(e.validationResults=[],e.$set(e.sourcePreview,0,[]),e.$set(e.targetPreview,0,[]),0===t.data.length)e.doMigrationPreview();else for(var i=0;i<t.data.length;i++)e.validationResults.push({id:e.validationResults.length,message:t.data[i]});e.$q.loading.hide()})).catch((function(t){e.$q.notify({color:"negative",icon:"report_problem",message:t}),e.$q.loading.hide()}))},doMigrationChangeMoveNodeOption:function(){"C"===this.equipmentToMigrate.selectedMoveNodeOption?this.isHierarchyDisabled=!0:this.isHierarchyDisabled=!1},doMigrationCheckStep:function(){if(1===this.migrationStep)this.reloadMigrationList=!0;else if(2===this.migrationStep){this.$refs.destinationNodeRef.validate(),this.$refs.newDescriptionRef.validate();var e=this.$refs.destinationNodeRef.hasError,t=this.$refs.newDescriptionRef.hasError;!this.reloadMigrationList||e||t?this.$refs.stepper.previous():("X"===this.equipmentToMigrate.selectedMoveNodeOption?this.migrationType="Split Node":"N"===this.equipmentToMigrate.selectedMoveNodeOption?this.migrationType="Swap Node":"C"===this.equipmentToMigrate.selectedMoveNodeOption?this.migrationType="Change Service":"T"===this.equipmentToMigrate.selectedMoveNodeOption?this.migrationType="Reroute":"R"===this.equipmentToMigrate.selectedMoveNodeOption&&(this.migrationType="Revision"),this.doMigrationSetupNewHierarchy()),this.reloadMigrationList=!0}else 3===this.migrationStep&&(this.reloadMigrationList=!1,this.doMigrationValidate())},doMigrationExecute:function(){var e=this;this.showLoading(),this.$axios.post("".concat("/","doExecuteMigration/"),this.equipmentToMigrate).then((function(t){if(0===t.data.length)e.showMigrationForm=!1;else for(var i=0;i<t.data.length;i++)e.validationResults.push({id:e.validationResults.length,message:t.data[i]});e.doMainEquipmentRefreshList(),e.$q.loading.hide()})).catch((function(t){e.$q.notify({color:"negative",icon:"report_problem",message:t}),e.$q.loading.hide()}))},doChangeEquipmentCategory:function(){"Hub"===this.input.equipmentCategory?(this.addHub=!0,this.addField=!1,this.addNetwork=!1,this.input.bdfCode="",this.input.nodeCode="",this.input.psCode="",this.input.amplifierCode="",this.input.predecessor="",this.input.itCode="",this.input.buildingName="",this.input.tower="",this.input.floor="",this.input.complexName="",this.input.streetName="",this.input.streetNumber="",this.input.kelurahan="",this.input.postalCode="",this.input.direction="",this.input.normalDistance="",this.input.updateDistanceDate=""):"Field"===this.input.equipmentCategory?(this.addHub=!1,this.addField=!0,this.addNetwork=!1):"Network"===this.input.equipmentCategory&&(this.addHub=!1,this.addField=!1,this.addNetwork=!0,this.input.nodeCode="",this.input.psCode="",this.input.amplifierCode="")},downloadExcel:function(e){var t=this;this.showLoading(),this.$axios.get("".concat("/","fieldExcelDownload"),{responseType:"arraybuffer",params:{searchVal:this.searchVal}}).then((function(e){t.$q.loading.hide();var i=window.URL.createObjectURL(new Blob([e.data]),{type:""}),a=document.createElement("a");a.href=i,a.style="display: none",a.download="Field Equipment - Excel Downlod.xlsx.xlsx",document.body.appendChild(a),a.click()})).catch((function(e){t.$q.loading.hide(),t.notify({color:"negative",icon:"report_problem",message:e})}))},errorExcelDownload:function(e){var t=this;this.showLoading(),this.$axios.get("".concat("/","errorDownloadExcel"),{responseType:"arraybuffer"}).then((function(e){t.$q.loading.hide();var i=window.URL.createObjectURL(new Blob([e.data]),{type:""}),a=document.createElement("a");a.href=i,a.style="display: none",a.download="Error Field Upload - Excel Downlod.xlsx",document.body.appendChild(a),a.click()})).catch((function(e){t.$q.loading.hide(),t.notify({color:"negative",icon:"report_problem",message:e})}))},changeSelectedStatus:function(){var e=this;this.showLoading(),this.groupSelect.assetId=[];for(var t=0;t<this.selected.length;t++)this.groupSelect.assetId.push(this.selected[t].id);this.$axios.post("".concat("/","updateAssetStatus/"),this.groupSelect).then((function(t){e.$q.loading.hide(),e.modalChangeAssetStatus=!1,e.doRefresh(),e.doMainInitPage()})).catch((function(t){e.$q.notify({color:"negative",icon:"report_problem",message:t}),e.$q.loading.hide()}))},validateInputForm:function(e){"predecessorLeg"===e&&this.input.predecessorLeg.length>9&&this.input.predecessorLeg.substring(0,10)!==this.input.equipmentName.substring(0,10)&&this.$q.notify({color:"negative",icon:"report_problem",message:"Predecessor Leg: "+this.input.predecessorLeg+" no match with Equipment Name: "+this.input.predecessor})},compare:function(e,t){var i=e.messageStatus.toUpperCase(),a=t.messageStatus.toUpperCase(),n=0;return i>a?n=1:i<a&&(n=-1),n},compareLabel:function(e,t){var i=e.label.toUpperCase(),a=t.label.toUpperCase(),n=0;return i>a?n=1:i<a&&(n=-1),n},compareValue:function(e,t){var i=e.value.toUpperCase(),a=t.value.toUpperCase(),n=0;return i>a?n=1:i<a&&(n=-1),n},getCurrentDate:function(){var e=new Date,t=e.getMonth()+1,i=1===e.getDate().toString().length?"0"+e.getDate():e.getDate(),a=1===t.toString().toString().length?"0"+t.toString():t.toString(),n=i+"/"+a+"/"+e.getFullYear();return n},doRefresh:function(){this.input={id:"",equipmentCategory:"Field",equipmentName:"",description:"",productType:"",productSubType:"",productSeries:"",manufacturer:"",brand:"",serialNumberDevice:"",serialNumberInternal:"",quantity:"",rack:"",chassis:"",slot:"",hubCode:"",hubAddress:"",bdfCode:"",nodeCode:"",psCode:"",amplifierCode:"",service:"",technology:"",ipAddress:"",macAddress:"",capacity:"",capacityUnits:"",usedCapacity:"",capacity1:"",capacity2:"",capacity3:"",noOfPortFront:"",noOfPortRear:"",productionYear:"",assetLifetime:"",purchasedDate:"",installationDate:"",installedBy:"",pic:"",division:"",department:"",propertyOf:"",equipmentStatus:"",predecessor:"",itCode:"",buildingName:"",tower:"",floor:"",complexName:"",streetName:"",streetNumber:"",kelurahan:"",postalCode:"",direction:"",normalDistance:"",updateDistanceDate:"",remarks:"",cascades:"",amplifierNotes:"",memoActiveDate:"",electricalStatus:"",lastModifiedByExcel:"",isComplete:""},this.groupSelect={assetStatus:"",assetId:[]}}},beforeMount:function(){this.doMainInitPage()}},u=l,p=(i("a5b7"),i("5a87"),i("2877")),d=Object(p["a"])(u,a,n,!1,null,null,null);t["default"]=d.exports},d7dd:function(e,t,i){}}]);