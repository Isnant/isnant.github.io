(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"0407":function(a,e,t){"use strict";var o=t("effe"),i=t.n(o);i.a},"3a5f":function(a,e,t){"use strict";var o=t("8380");e["a"]={methods:{showLoading:function(){this.$q.loading.show({spinner:o["a"],spinnerColor:"orange-10",spinnerSize:140,backgroundColor:"purple",messageColor:"black"})},showCheckingLoading:function(){this.$q.loading.show({spinner:o["a"],message:"Checking Excel Data...",spinnerColor:"orange-10",spinnerSize:60,backgroundColor:"purple",messageColor:"white",messageSize:60})},showUploadLoading:function(){this.$q.loading.show({spinner:o["a"],message:"Uploading Excel Data...",spinnerColor:"orange-10",spinnerSize:60,backgroundColor:"purple",messageColor:"white",messageSize:60})}}}},d683:function(a,e,t){"use strict";t.r(e);var o=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("q-page",[t("font",{staticClass:"text-bold",attrs:{size:"1",color:"grey"}},[a._v("MASTER DATA "),t("q-icon",{attrs:{name:"double_arrow"}}),a._v(" HUB CODE LIST")],1),t("div",{staticStyle:{"margin-bottom":"30px","margin-top":"10px",width:"175px"},attrs:{align:"left"}},[t("font",{staticClass:"text-bold",staticStyle:{"margin-bottom":"10px"},attrs:{size:"5"}},[a._v("HUB CODE LIST")]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-20",staticStyle:{width:"32%"}},[t("q-separator",{attrs:{color:"orange-10"}}),t("q-separator",{attrs:{color:"orange-10"}})],1),t("div",{staticClass:"col"},[t("q-separator",{attrs:{color:"purple-10"}}),t("q-separator",{attrs:{color:"purple-10"}})],1)])],1),t("q-card",[t("q-card-section",[t("q-expansion-item",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"SEARCH","header-class":"bg-indigo-2 text-indigo-10",icon:"search"}},[t("div",{staticClass:"row bg-orange-1",staticStyle:{padding:"10px",width:"100%"},attrs:{align:"left"}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-20",staticStyle:{"margin-right":"10px"}},[t("q-input",{staticClass:"searchform",attrs:{"stack-label":"",label:"Hub Code",rounded:"",outlined:"",color:"orange-8"},model:{value:a.searchVal.hubCode,callback:function(e){a.$set(a.searchVal,"hubCode",e)},expression:"searchVal.hubCode"}})],1),t("div",{staticClass:"col-20",staticStyle:{"margin-right":"10px"}},[t("q-input",{staticClass:"searchform",attrs:{"stack-label":"",label:"Hub Name",rounded:"",outlined:"",color:"orange-8"},model:{value:a.searchVal.hubName,callback:function(e){a.$set(a.searchVal,"hubName",e)},expression:"searchVal.hubName"}})],1),t("div",{staticClass:"col-20",staticStyle:{"margin-right":"10px"}},[t("q-input",{staticClass:"searchform",attrs:{"stack-label":"",label:"Area Name",rounded:"",outlined:"",color:"orange-8"},model:{value:a.searchVal.area,callback:function(e){a.$set(a.searchVal,"area",e)},expression:"searchVal.area"}})],1),t("div",{staticClass:"col",staticStyle:{width:"5%"}},[t("q-btn",{attrs:{round:"",size:"small",color:"indigo-10"},on:{click:function(e){return a.doSearchByFilter()}}},[t("q-icon",{attrs:{name:"search"}}),t("q-tooltip",[a._v("Search")])],1)],1)])])]),t("div",{staticStyle:{"max-width":"1200px"}},[t("q-table",{attrs:{data:a.dataList,columns:a.tableColumns,pagination:a.pagination,"table-header-class":"text-indigo-10 bg-indigo-2","row-key":"id",dense:""},on:{"update:pagination":function(e){a.pagination=e},request:a.doMainEquipmentChangePage},scopedSlots:a._u([{key:"body-cell-address",fn:function(e){return t("q-td",{style:{width:"400px",whiteSpace:"normal"}},[a._v("\n            "+a._s(e.row.address)+"\n          ")])}},{key:"body-cell-action",fn:function(e){return t("q-td",{},[t("q-btn-dropdown",{attrs:{rounded:"",size:"sm",color:"indigo-10"}},[t("q-list",[t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""}},[t("q-item-section",[t("q-btn",{attrs:{color:"indigo-6",round:"",size:"sm"},on:{click:function(t){return a.doOpenForm(e)}}},[t("q-icon",{attrs:{name:"fas fa-edit"}}),t("q-tooltip",[a._v("Edit")])],1)],1)],1),t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""}},[t("q-item-section",[t("q-btn",{attrs:{color:"indigo-6",round:"",size:"sm"},on:{click:function(t){return a.doToggleStatus(e)}}},[t("q-icon",{attrs:{name:"A"===e.row.recordStatus?"fas fa-stop-circle":"fas fa-play-circle"}}),t("q-tooltip",[a._v(a._s("A"===e.row.recordStatus?"Deactivate":"Activate"))])],1)],1)],1)],1)],1)],1)}},{key:"body-cell-recordStatus",fn:function(a){return t("q-td",{},["A"===a.row.recordStatus?t("div",[t("q-icon",{staticStyle:{"font-size":"20px"},attrs:{name:"done",color:"primary"}})],1):t("div",[t("q-icon",{staticStyle:{"font-size":"20px"},attrs:{name:"clear",color:"negative"}})],1)])}}])})],1)],1)],1),t("q-page-sticky",{attrs:{position:"top-right",offset:[15,30]}},[t("q-fab",{attrs:{color:"orange-7",glossy:"",icon:"keyboard_arrow_down",direction:"down"}},[t("q-fab-action",{attrs:{color:"orange-6","text-color":"white",icon:"add"},nativeOn:{click:function(e){return a.doOpenForm()}}},[t("q-tooltip",[a._v("Add")])],1),t("q-fab-action",{attrs:{color:"orange-6","text-color":"white",icon:"backup"},nativeOn:{click:function(e){a.modalUploadExcel=!0}}},[t("q-tooltip",[a._v("Upload Excel")])],1),t("q-btn",{attrs:{round:"",color:"orange-6","text-color":"white"},nativeOn:{click:function(e){return a.downloadExcel(e)}}},[t("q-icon",{attrs:{name:"fas fa-file-excel"}}),t("q-tooltip",[a._v("Download Excel")])],1)],1)],1),t("q-dialog",{attrs:{persistent:""},on:{"before-hide":function(e){return a.doHideButton()}},model:{value:a.modalUploadExcel,callback:function(e){a.modalUploadExcel=e},expression:"modalUploadExcel"}},[t("q-card",{staticClass:"bg-white"},[t("q-bar",{staticClass:"bg-indigo-10 text-white"},[t("strong",[a._v("Upload Excel File")]),t("q-space"),t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}})],1),t("q-card-section",[t("a",{attrs:{href:"/statics/template/Hub Code - Form Upload.xlsx"}},[a._v("Download Template\n          "),t("q-tooltip",[a._v("Hub Code - Form Upload.xlsx")])],1)]),t("q-card-section",[t("q-input",{attrs:{type:"file"},on:{input:function(e){a.doAttachFile(e[0])}}}),t("div",{staticStyle:{"margin-top":"20px"},attrs:{align:"right"}},[t("q-btn",{attrs:{round:"",color:"orange-6"},on:{click:function(e){return a.uploadField()}}},[t("q-icon",{attrs:{name:"fas fa-file-upload"}}),t("q-tooltip",[a._v("Upload")])],1)],1)],1)],1)],1),t("q-dialog",{attrs:{persistent:""},on:{"before-hide":function(e){return a.clear()}},model:{value:a.showForm,callback:function(e){a.showForm=e},expression:"showForm"}},[t("q-card",{staticClass:"bg-white",staticStyle:{width:"500px"}},[t("q-bar",{staticClass:"bg-indigo-10 text-white"},[t("strong",[a._v("Hub Code Form")]),t("q-space"),t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}})],1),t("q-card-section",[t("div",{staticClass:"row"},[t("div",{staticClass:"col"},[t("q-input",{staticClass:"text-italic",attrs:{"stack-label":"",readonly:"",label:"Hub Id"},model:{value:a.formData.hubId,callback:function(e){a.$set(a.formData,"hubId",e)},expression:"formData.hubId"}}),t("q-input",{attrs:{"stack-label":"",label:"Hub Code"},model:{value:a.formData.hubCode,callback:function(e){a.$set(a.formData,"hubCode",e)},expression:"formData.hubCode"}}),t("q-input",{attrs:{"stack-label":"",label:"Hub Name"},model:{value:a.formData.hubName,callback:function(e){a.$set(a.formData,"hubName",e)},expression:"formData.hubName"}}),t("q-select",{attrs:{"stack-label":"",label:"Hub Type",options:a.hubTypeList},on:{input:function(e){return a.getSelectValue("hubType")}},model:{value:a.formData.hubType,callback:function(e){a.$set(a.formData,"hubType",e)},expression:"formData.hubType"}}),t("q-input",{attrs:{"stack-label":"",label:"Hub Code It"},model:{value:a.formData.hubCodeIt,callback:function(e){a.$set(a.formData,"hubCodeIt",e)},expression:"formData.hubCodeIt"}}),t("q-select",{attrs:{"stack-label":"",label:"Area Name",options:a.areaList},on:{input:function(e){return a.getSelectValue("area")}},model:{value:a.formData.areaName,callback:function(e){a.$set(a.formData,"areaName",e)},expression:"formData.areaName"}}),t("q-select",{attrs:{"stack-label":"",label:"Region",options:a.filteredRegionList},on:{input:function(e){return a.getSelectValue("region")}},model:{value:a.formData.regionName,callback:function(e){a.$set(a.formData,"regionName",e)},expression:"formData.regionName"}}),t("q-input",{attrs:{"stack-label":"",label:"City"},model:{value:a.formData.city,callback:function(e){a.$set(a.formData,"city",e)},expression:"formData.city"}})],1),t("div",{staticClass:"col",staticStyle:{"margin-left":"20px"}},[t("q-input",{staticStyle:{"max-height":"112px"},attrs:{type:"textarea","max-height":10,"stack-label":"",label:"Address"},model:{value:a.formData.address,callback:function(e){a.$set(a.formData,"address",e)},expression:"formData.address"}}),t("q-input",{attrs:{"stack-label":"",label:"Postal Code"},model:{value:a.formData.postalCode,callback:function(e){a.$set(a.formData,"postalCode",e)},expression:"formData.postalCode"}}),t("q-input",{attrs:{"stack-label":"",label:"Phone"},model:{value:a.formData.phone,callback:function(e){a.$set(a.formData,"phone",e)},expression:"formData.phone"}}),t("q-input",{attrs:{"stack-label":"",label:"fax"},model:{value:a.formData.fax,callback:function(e){a.$set(a.formData,"fax",e)},expression:"formData.fax"}}),t("q-input",{attrs:{"stack-label":"",label:"Home Passed"},model:{value:a.formData.homePassed,callback:function(e){a.$set(a.formData,"homePassed",e)},expression:"formData.homePassed"}}),t("q-input",{staticStyle:{"max-height":"112px"},attrs:{type:"textarea","stack-label":"",label:"Remarks"},model:{value:a.formData.remarks,callback:function(e){a.$set(a.formData,"remarks",e)},expression:"formData.remarks"}})],1)]),t("div",{staticStyle:{"text-align":"right","margin-top":"20px"}},[t("q-btn",{attrs:{round:"",color:"orange-5",size:"small"},nativeOn:{click:function(e){return a.doSave()}}},[t("q-icon",{attrs:{name:"fas fa-save"}}),t("q-tooltip",[a._v("Submit")])],1)],1)])],1)],1)],1)},i=[],s=(t("7f7f"),t("3a5f")),n={mixins:[s["a"]],data:function(){return{dataList:[],areaList:[],regionList:[],filteredRegionList:[],listOfRegion:[],listOfAreaForRegion:[],hubTypeList:[],modalUploadExcel:!1,fileAttach:{fileName:"",file64:"",equipmentCategory:"Network"},tableColumns:[{name:"hubId",label:"Hub Id",field:"hubId",align:"left",style:"width: 100px",sortable:!0},{name:"hubCode",label:"Hub Code",field:"hubCode",align:"left",style:"width: 100px",sortable:!0},{name:"hubName",label:"Hub Name",field:"hubName",align:"left",style:"width: 200px",sortable:!0},{name:"hubType",label:"Hub Type",field:"hubType",align:"left",style:"width: 200px",sortable:!0},{name:"hubCodeIt",label:"Hub Code It",field:"hubCodeIt",align:"left",style:"width: 200px",sortable:!0},{name:"areaName",label:"Area",field:"areaName",align:"left",style:"width: 200px",sortable:!0},{name:"regionName",label:"Region",field:"regionName",align:"left",style:"width: 200px",sortable:!0},{name:"city",label:"City",field:"city",align:"left",sortable:!0},{name:"address",label:"Address",field:"address",align:"left",sortable:!0},{name:"postalCode",label:"Postal Code",field:"postalCode",align:"left",sortable:!0},{name:"recordStatus",label:"Status",field:"recordStatus",align:"left",sortable:!0},{name:"action",label:"Action",align:"center",style:"width: 100px"}],regionColumns:[{name:"id",label:"Region Id",field:"id",align:"left",style:"width: 100px",sortable:!0},{name:"regioName",label:"Region Name",field:"regioName",align:"left",style:"width: 200px",sortable:!0},{name:"action",label:"Action",align:"center",style:"width: 100px"}],pagination:{sortBy:"hubCode",descending:!1,page:1,rowsPerPage:10,rowsNumber:0},regionPagination:{sortBy:"region",descending:!1,rowsPerPage:0},searchVal:{hubCode:"",hubName:"",area:""},showForm:!1,formData:{hubId:"AUTO GENERATE",hubCode:"",hubName:"",hubCodeIt:"",areaName:"",regionName:"",city:"",address:"",postalCode:"",phone:"",remarks:"",hubType:""}}},methods:{doInitPage:function(){var a=this;this.showLoading(),this.$axios.get("".concat("/","getHubCodeInitPage"),{params:{pageIndex:this.pagination.page-1,pageSize:this.pagination.rowsPerPage,sortBy:this.pagination.sortBy,descending:this.pagination.descending,hubCode:this.searchVal.hubCode,hubName:this.searchVal.hubName,area:this.searchVal.area}}).then((function(e){a.$q.loading.hide(),a.doMainFillTableResult(e.data.listOfHubCode),a.areaList=e.data.listOfAreaDropdown,a.hubTypeList=e.data.listOfHubType,a.listOfAreaForRegion=e.data.listOfArea})).catch((function(e){a.$q.loading.hide(),a.$q.notify({color:"negative",icon:"report_problem",message:e})}))},doMainFillTableResult:function(a){this.dataList=a.content,this.pagination.rowsNumber=a.totalElements,this.pagination.rowsPerPage=a.pageable.pageSize,this.pagination.page=a.number+1},getHubCodeList:function(a){var e=this;this.showLoading(),this.$axios.get("".concat("/","getHubCodeList"),{params:a}).then((function(a){e.$q.loading.hide(),e.doMainFillTableResult(a.data)})).catch((function(a){e.$q.loading.hide(),e.$q.notify({color:"negative",icon:"report_problem",message:a})}))},doMainEquipmentChangePage:function(a){var e=a.pagination,t=e.page,o=e.rowsPerPage,i=e.sortBy,s=e.descending,n={pageIndex:t-1,pageSize:o,sortBy:i,descending:s,hubCode:this.searchVal.hubCode,hubName:this.searchVal.hubName,area:this.searchVal.area};this.getHubCodeList(n)},doSearchByFilter:function(){var a={pageIndex:this.pagination.page-1,pageSize:this.pagination.rowsPerPage,sortBy:this.pagination.sortBy,descending:this.pagination.descending,hubCode:this.searchVal.hubCode,hubName:this.searchVal.hubName,area:this.searchVal.area};this.getHubCodeList(a)},doOpenForm:function(a){void 0!==a?(this.formData=JSON.parse(JSON.stringify(a.row)),this.getRegion(this.formData.areaName),this.vDisable=!0):this.clear(),this.showForm=!0},doSave:function(){var a=this;this.showLoading(),"AUTO GENERATE"===this.formData.hubId&&(this.formData.hubId=""),this.$axios.post("".concat("/","saveHubCode"),this.formData).then((function(e){a.$q.loading.hide(),a.$q.notify({color:"positive",icon:"info",message:"Record successfully saved"}),a.showForm=!1,a.doRefresh()})).catch((function(e){a.$q.loading.hide(),a.$q.notify({color:"negative",icon:"report_problem",message:e}),a.showForm=!1,a.doRefresh()}))},doToggleStatus:function(a){a.row.recordStatus="I"===a.row.recordStatus?"A":"I",this.formData=a.row,this.doSave()},getRegion:function(a){this.showLoading();var e=this.listOfAreaForRegion.filter((function(e){return e.areaName.indexOf(a)>-1}));if(0!==e.length){var t=e[0].region,o=JSON.parse(t);this.filteredRegionList=o.map((function(a){return{label:a.region,value:a.region}})),this.$q.loading.hide()}else this.filteredRegionList=[],this.formData.region="",this.$q.loading.hide();this.$q.loading.hide()},getSelectValue:function(a){"area"===a&&(this.formData.areaName=this.formData.areaName.value,this.getRegion(this.formData.areaName)),"region"===a&&(this.formData.regionName=this.formData.regionName.value),"hubType"===a&&(this.formData.hubType=this.formData.hubType.value)},doAttachFile:function(a){var e=this,t=new FileReader;this.uploadButton=!0,t.onload=function(t){e.fileAttach.fileName=a.name,e.fileAttach.file64=t.target.result},t.readAsDataURL(a)},uploadField:function(a){var e=this;this.showLoading(),this.$axios.post("".concat("/","uploadHubCode"),this.fileAttach).then((function(a){e.modalUploadExcel=!1,e.$q.loading.hide(),e.doRefresh()})).catch((function(a){e.$q.loading.hide(),e.$q.notify({color:"negative",icon:"report_problem",message:a})}))},downloadExcel:function(a){var e=this;this.showLoading(),this.$axios.get("".concat("/","hubExcelDownload"),{responseType:"arraybuffer",params:{searchVal:this.searchVal}}).then((function(a){e.$q.loading.hide();var t=window.URL.createObjectURL(new Blob([a.data]),{type:""}),o=document.createElement("a");o.href=t,o.style="display: none",o.download="master_hub.xlsx",document.body.appendChild(o),o.click()})).catch((function(a){e.$q.loading.hide(),e.notify({color:"negative",icon:"report_problem",message:a})}))},doRefresh:function(){this.clear(),this.doInitPage()},clear:function(){this.formData={hubId:"AUTO GENERATE",hubCode:"",hubName:"",hubCodeIt:"",areaName:"",regionName:"",city:"",address:"",postalCode:"",phone:"",remarks:""},this.vDisable=!1}},beforeMount:function(){this.doInitPage()}},l=n,r=(t("0407"),t("2877")),c=Object(r["a"])(l,o,i,!1,null,null,null);e["default"]=c.exports},effe:function(a,e,t){}}]);