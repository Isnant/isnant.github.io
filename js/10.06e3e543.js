(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"10cd":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",[a("font",{staticClass:"text-bold",attrs:{size:"1",color:"grey"}},[t._v("MASTER DATA "),a("q-icon",{attrs:{name:"double_arrow"}}),t._v(" AREA - REGION LIST")],1),a("div",{staticStyle:{"margin-bottom":"30px","margin-top":"10px",width:"225px"},attrs:{align:"left"}},[a("font",{staticClass:"text-bold",staticStyle:{"margin-bottom":"10px"},attrs:{size:"5"}},[t._v("AREA - REGION LIST")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-20",staticStyle:{width:"32%"}},[a("q-separator",{attrs:{color:"orange-10"}}),a("q-separator",{attrs:{color:"orange-10"}})],1),a("div",{staticClass:"col"},[a("q-separator",{attrs:{color:"purple-10"}}),a("q-separator",{attrs:{color:"purple-10"}})],1)])],1),a("div",{staticStyle:{"max-width":"400px"}},[a("q-card",[a("q-card-section",[a("q-expansion-item",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"SEARCH","header-class":"bg-indigo-2 text-indigo-10",icon:"search"}},[a("div",{staticClass:"row bg-orange-1",staticStyle:{padding:"10px",width:"100%"},attrs:{align:"left"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-20",staticStyle:{"margin-right":"10px"}},[a("q-input",{staticClass:"searchform",attrs:{"stack-label":"",label:"Area Name",rounded:"",outlined:"",color:"orange-8"},model:{value:t.searchVal.areaName,callback:function(e){t.$set(t.searchVal,"areaName",e)},expression:"searchVal.areaName"}})],1),a("div",{staticClass:"col",staticStyle:{width:"5%"}},[a("q-btn",{attrs:{round:"",size:"small",color:"indigo-10"},on:{click:function(e){return t.doSearchByFilter()}}},[a("q-icon",{attrs:{name:"search"}}),a("q-tooltip",[t._v("Search")])],1)],1)])])]),a("q-table",{attrs:{data:t.list,columns:t.tableColumns,pagination:t.pagination,"table-header-class":"text-indigo-10 bg-indigo-2","row-key":"id",dense:""},on:{"update:pagination":function(e){t.pagination=e},request:t.doMainEquipmentChangePage},scopedSlots:t._u([{key:"body-cell-recordStatus",fn:function(t){return a("q-td",{attrs:{align:"center"}},["A"===t.row.recordStatus?a("div",[a("q-icon",{staticStyle:{"font-size":"20px"},attrs:{name:"done",color:"primary"}})],1):a("div",[a("q-icon",{staticStyle:{"font-size":"20px"},attrs:{name:"clear",color:"negative"}})],1)])}},{key:"body-cell-action",fn:function(e){return a("q-td",{},[a("q-btn-dropdown",{attrs:{rounded:"",size:"sm",color:"indigo-10"}},[a("q-list",[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""}},[a("q-item-section",[a("q-btn",{attrs:{color:"indigo-6",round:"",size:"sm"},on:{click:function(a){return t.doOpenForm(e)}}},[a("q-icon",{attrs:{name:"fas fa-edit"}}),a("q-tooltip",[t._v("Edit")])],1)],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""}},[a("q-item-section",[a("q-btn",{attrs:{color:"indigo-6",round:"",size:"sm"},on:{click:function(a){return t.doToggleStatus(e)}}},[a("q-icon",{attrs:{name:"A"===e.row.recordStatus?"fas fa-stop-circle":"fas fa-play-circle"}}),a("q-tooltip",[t._v(t._s("A"===e.row.recordStatus?"Deactivate":"Activate"))])],1)],1)],1)],1)],1)],1)}}])})],1)],1)],1),a("q-page-sticky",{attrs:{position:"top-right",offset:[15,30]}},[a("q-fab",{attrs:{color:"orange-7",glossy:"",icon:"keyboard_arrow_down",direction:"down"}},[a("q-fab-action",{attrs:{color:"orange-6","text-color":"white",icon:"add"},nativeOn:{click:function(e){return t.doOpenForm()}}},[a("q-tooltip",[t._v("Add")])],1),a("q-fab-action",{attrs:{color:"orange-6","text-color":"white",icon:"backup"},nativeOn:{click:function(e){t.modalUploadExcel=!0}}},[a("q-tooltip",[t._v("Upload Excel")])],1),a("q-btn",{attrs:{round:"",color:"orange-6","text-color":"white"},nativeOn:{click:function(e){t.modalDownloadExcel=!0}}},[a("q-icon",{attrs:{name:"fas fa-file-excel"}}),a("q-tooltip",[t._v("Download Excel")])],1)],1)],1),a("q-dialog",{attrs:{persistent:""},on:{"before-hide":function(e){return t.clear()}},model:{value:t.showForm,callback:function(e){t.showForm=e},expression:"showForm"}},[a("q-card",{staticClass:"bg-white"},[a("q-bar",{staticClass:"bg-indigo-10 text-white"},[a("strong",[t._v("Area Form")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}})],1),a("q-card-section",[a("div",[a("q-input",{staticClass:"text-italic",attrs:{readonly:"","stack-label":"",label:"Area Code"},model:{value:t.formData.id,callback:function(e){t.$set(t.formData,"id",e)},expression:"formData.id"}}),a("q-input",{attrs:{"stack-label":"",label:"Area Name"},model:{value:t.formData.areaName,callback:function(e){t.$set(t.formData,"areaName",e)},expression:"formData.areaName"}})],1),a("br"),a("fieldset",[a("legend",[t._v("Region List")]),a("q-table",{attrs:{data:t.listOfRegion,columns:t.regionColumns,pagination:t.regionPagination,dense:""},on:{"update:pagination":function(e){t.regionPagination=e},request:t.doRefreshRegion},scopedSlots:t._u([{key:"body-cell-code",fn:function(e){return a("q-td",{},[t._v("\n              "+t._s(e.row.code)+"\n             "),a("q-popup-edit",{attrs:{buttons:""},model:{value:e.row.code,callback:function(a){t.$set(e.row,"code",a)},expression:"cell.row.code"}},[a("q-input",{attrs:{dense:""},model:{value:e.row.code,callback:function(a){t.$set(e.row,"code",a)},expression:"cell.row.code"}})],1)],1)}},{key:"body-cell-region",fn:function(e){return a("q-td",{},[t._v("\n              "+t._s(e.row.region)+"\n              "),a("q-popup-edit",{attrs:{buttons:""},model:{value:e.row.region,callback:function(a){t.$set(e.row,"region",a)},expression:"cell.row.region"}},[a("q-input",{attrs:{dense:""},model:{value:e.row.region,callback:function(a){t.$set(e.row,"region",a)},expression:"cell.row.region"}})],1)],1)}},{key:"body-cell-recordStatus",fn:function(t){return a("q-td",{},["A"===t.row.recordStatus?a("div",[a("q-icon",{staticStyle:{"font-size":"20px"},attrs:{name:"done",color:"primary"}})],1):a("div",[a("q-icon",{staticStyle:{"font-size":"20px"},attrs:{name:"clear",color:"negative"}})],1)])}},{key:"body-cell-action",fn:function(e){return a("q-td",{},[a("q-btn",{attrs:{color:"primary",round:"",size:"sm"},on:{click:function(a){return t.doToggleRegionStatus(e)}}},[a("q-icon",{attrs:{name:"A"===e.row.recordStatus?"fas fa-stop-circle":"fas fa-play-circle"}}),a("q-tooltip",[t._v(t._s("A"===e.row.recordStatus?"Deactivate":"Activate"))])],1)],1)}}])}),a("div",{staticStyle:{"text-align":"right","margin-top":"10px"}},[a("q-btn",{attrs:{flat:"",round:"",color:"primary",size:"xs"},nativeOn:{click:function(e){return t.doAddNewRegion()}}},[a("q-icon",{attrs:{name:"fas fa-plus"}}),a("q-tooltip",[t._v("Add New Region")])],1)],1)],1),a("br"),a("br"),a("div",{staticStyle:{"text-align":"right"}},[a("q-btn",{attrs:{round:"",color:"primary",size:"small"},nativeOn:{click:function(e){return t.doSave()}}},[a("q-icon",{attrs:{name:"fas fa-save"}}),a("q-tooltip",[t._v("Save Form")])],1)],1)])],1)],1),a("q-dialog",{attrs:{persistent:""},on:{"before-hide":function(e){return t.doHideButton()}},model:{value:t.modalUploadExcel,callback:function(e){t.modalUploadExcel=e},expression:"modalUploadExcel"}},[a("q-card",{staticClass:"bg-white"},[a("q-bar",{staticClass:"bg-indigo-10 text-white"},[a("strong",[t._v("Upload Excel File")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}})],1),a("q-card-section",[t._v("\n        Download Template:\n        "),a("a",{staticStyle:{"margin-left":"10px"},attrs:{href:"/statics/template/Area - Form Upload.xlsx"}},[t._v("Area\n          "),a("q-tooltip",[t._v("Area - Form Upload.xlsx")])],1),a("a",{staticStyle:{"margin-left":"10px"},attrs:{href:"/statics/template/Region - Form Upload.xlsx"}},[t._v("Region\n          "),a("q-tooltip",[t._v("Region - Form Upload.xlsx")])],1)]),a("q-card-section",[a("q-radio",{staticStyle:{"margin-right":"10px"},attrs:{val:"area",label:"Area",color:"indigo-7"},on:{input:t.getInitPage},model:{value:t.fileAttach.equipmentCategory,callback:function(e){t.$set(t.fileAttach,"equipmentCategory",e)},expression:"fileAttach.equipmentCategory"}}),a("q-radio",{staticStyle:{"margin-right":"10px"},attrs:{val:"region",label:"Region",color:"indigo-7"},on:{input:t.getInitPage},model:{value:t.fileAttach.equipmentCategory,callback:function(e){t.$set(t.fileAttach,"equipmentCategory",e)},expression:"fileAttach.equipmentCategory"}}),a("q-input",{attrs:{type:"file"},on:{input:function(e){t.doAttachFile(e[0])}}}),a("div",{staticStyle:{"margin-top":"20px"},attrs:{align:"right"}},[a("q-btn",{attrs:{round:"",color:"orange-6"},on:{click:function(e){return t.uploadField()}}},[a("q-icon",{attrs:{name:"fas fa-file-upload"}}),a("q-tooltip",[t._v("Upload")])],1)],1)],1)],1)],1),a("q-dialog",{attrs:{persistent:""},on:{"before-hide":function(e){return t.doHideButton()}},model:{value:t.modalDownloadExcel,callback:function(e){t.modalDownloadExcel=e},expression:"modalDownloadExcel"}},[a("q-card",{staticClass:"bg-white"},[a("q-bar",{staticClass:"bg-indigo-10 text-white"},[a("strong",[t._v("Download Excel File")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}})],1),a("q-card-section",[a("q-radio",{staticStyle:{"margin-right":"10px"},attrs:{val:"area",label:"Area",color:"indigo-7"},model:{value:t.downloadType,callback:function(e){t.downloadType=e},expression:"downloadType"}}),a("q-radio",{staticStyle:{"margin-right":"10px"},attrs:{val:"region",label:"Region",color:"indigo-7"},model:{value:t.downloadType,callback:function(e){t.downloadType=e},expression:"downloadType"}}),a("div",{attrs:{align:"right"}},[a("q-btn",{attrs:{round:"",color:"orange-9","text-color":"white"},nativeOn:{click:function(e){return t.downloadExcel(e)}}},[a("q-icon",{attrs:{name:"get_app"}}),a("q-tooltip",[t._v("Download")])],1)],1)],1)],1)],1)],1)},i=[],n=(a("7f7f"),a("3a5f")),r={mixins:[n["a"]],data:function(){return{list:[],listOfRegion:[],modalUploadExcel:!1,modalDownloadExcel:!1,downloadType:"area",fileAttach:{fileName:"",file64:"",equipmentCategory:"area"},tableColumns:[{name:"id",label:"Area Id",field:"id",align:"left",style:"width: 100px",sortable:!0},{name:"areaName",label:"Area Name",field:"areaName",align:"left",style:"width: 200px",sortable:!0},{name:"recordStatus",label:"Status",field:"recordStatus",align:"left",style:"width: 200px",sortable:!0},{name:"action",label:"Action",align:"center",style:"width: 100px"}],regionColumns:[{name:"region",label:"Region Name",field:"region",align:"left",style:"width: 200px",sortable:!0},{name:"recordStatus",label:"Status",field:"recordStatus",align:"left",style:"width: 200px",sortable:!0},{name:"action",label:"Action",align:"center",style:"width: 100px"}],pagination:{sortBy:"areaName",descending:!1,page:1,rowsPerPage:20,rowsNumber:0},regionPagination:{sortBy:"region",descending:!1,rowsPerPage:0},searchVal:{id:"",areaName:""},showForm:!1,formData:{id:"AUTO GENERATE",areaName:""}}},methods:{doInitPage:function(){var t=this;this.showLoading();var e={pageIndex:this.pagination.page-1,pageSize:this.pagination.rowsPerPage,searchVal:this.searchVal,sortBy:this.pagination.sortBy,descending:this.pagination.descending};this.$axios.get("".concat("/","getPagedArea/"),{params:e}).then((function(e){t.doMainFillTableResult(e.data),t.$q.loading.hide()})).catch((function(e){t.$q.loading.hide(),t.$q.notify({color:"negative",icon:"report_problem",message:e})}))},getPagedAreaList:function(t){var e=this;this.showLoading(),this.$axios.get("".concat("/","getPagedArea/"),{params:t}).then((function(t){e.doMainFillTableResult(t.data),e.$q.loading.hide()})).catch((function(t){e.$q.loading.hide(),e.$q.notify({color:"negative",icon:"report_problem",message:t})}))},doMainFillTableResult:function(t){this.list=t.content,this.pagination.rowsNumber=t.totalElements,this.pagination.rowsPerPage=t.pageable.pageSize,this.pagination.page=t.number+1},doMainEquipmentChangePage:function(t){var e=t.pagination,a=e.page,o=e.rowsPerPage,i=e.sortBy,n=e.descending,r={pageIndex:a-1,pageSize:o,sortBy:i,descending:n,searchVal:this.searchVal};this.getPagedAreaList(r)},doSearchByFilter:function(){var t={pageIndex:this.pagination.page-1,pageSize:this.pagination.rowsPerPage,searchVal:this.searchVal,sortBy:this.pagination.sortBy,descending:this.pagination.descending};this.getPagedAreaList(t)},doOpenForm:function(t){void 0!==t?(this.formData=JSON.parse(JSON.stringify(t.row)),null!==this.formData.region?this.listOfRegion=JSON.parse(this.formData.region):this.listOfRegion=[]):this.formData={id:"AUTO GENERATE",areaName:""},this.showForm=!0},doAddNewRegion:function(){var t={};this.$set(t,"region",""),this.$set(t,"recordStatus","A"),this.listOfRegion.push(t)},doSave:function(t){var e=this;this.showLoading(),t||(this.formData.region=JSON.stringify(this.listOfRegion)),"AUTO GENERATE"===this.formData.id&&(this.formData.id=""),this.$axios.post("".concat("/","doSaveArea"),this.formData).then((function(t){e.$q.loading.hide(),e.$q.notify({color:"positive",icon:"info",message:"Record successfully saved"}),e.showForm=!1,e.doRefresh()})).catch((function(t){e.$q.loading.hide(),e.$q.notify({color:"negative",icon:"report_problem",message:t})}))},doToggleStatus:function(t){t.row.recordStatus="I"===t.row.recordStatus?"A":"I",this.formData=t.row,this.doSave(!0)},doToggleRegionStatus:function(t){t.row.recordStatus="I"===t.row.recordStatus?"A":"I",this.listOfRegion[t]=t.row},doAttachFile:function(t){var e=this,a=new FileReader;this.uploadButton=!0,a.onload=function(a){e.fileAttach.fileName=t.name,e.fileAttach.file64=a.target.result},a.readAsDataURL(t)},uploadField:function(t){var e=this;this.showLoading(),this.$axios.post("".concat("/","uploadArea"),this.fileAttach).then((function(t){e.modalUploadExcel=!1,e.$q.loading.hide(),e.doInitPage()})).catch((function(t){e.$q.loading.hide(),e.$q.notify({color:"negative",icon:"report_problem",message:t})}))},downloadExcel:function(){"area"===this.downloadType?this.areaExcelDownload():this.regionExcelDownload()},areaExcelDownload:function(t){var e=this;this.showLoading(),this.$axios.get("".concat("/","areaExcelDownload"),{responseType:"arraybuffer"}).then((function(t){e.$q.loading.hide();var a=window.URL.createObjectURL(new Blob([t.data]),{type:""}),o=document.createElement("a");o.href=a,o.style="display: none",o.download="master_area.xlsx",document.body.appendChild(o),o.click()})).catch((function(t){e.$q.loading.hide(),e.notify({color:"negative",icon:"report_problem",message:t})}))},regionExcelDownload:function(t){var e=this;this.showLoading(),this.$axios.get("".concat("/","regionExcelDownload"),{responseType:"arraybuffer"}).then((function(t){e.$q.loading.hide();var a=window.URL.createObjectURL(new Blob([t.data]),{type:""}),o=document.createElement("a");o.href=a,o.style="display: none",o.download="master_region.xlsx",document.body.appendChild(o),o.click()})).catch((function(t){e.$q.loading.hide(),e.notify({color:"negative",icon:"report_problem",message:t})}))},doRefresh:function(){this.clear(),this.doInitPage()},clear:function(){this.formData={id:"",areaName:"",region:""},this.listOfRegion=[]}},beforeMount:function(){this.doInitPage()}},s=r,l=(a("5930"),a("2877")),c=Object(l["a"])(s,o,i,!1,null,null,null);e["default"]=c.exports},"3a5f":function(t,e,a){"use strict";var o=a("8380");e["a"]={methods:{showLoading:function(){this.$q.loading.show({spinner:o["a"],spinnerColor:"orange-10",spinnerSize:140,backgroundColor:"purple",messageColor:"black"})},showCheckingLoading:function(){this.$q.loading.show({spinner:o["a"],message:"Checking Excel Data...",spinnerColor:"orange-10",spinnerSize:60,backgroundColor:"purple",messageColor:"white",messageSize:60})},showUploadLoading:function(){this.$q.loading.show({spinner:o["a"],message:"Uploading Excel Data...",spinnerColor:"orange-10",spinnerSize:60,backgroundColor:"purple",messageColor:"white",messageSize:60})}}}},5930:function(t,e,a){"use strict";var o=a("b297"),i=a.n(o);i.a},b297:function(t,e,a){}}]);